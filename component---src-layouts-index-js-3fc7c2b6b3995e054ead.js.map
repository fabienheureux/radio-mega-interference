{"version":3,"sources":["webpack:///component---src-layouts-index-js-3fc7c2b6b3995e054ead.js","webpack:///./.cache/json/layout-index.json?2af0","webpack:///./.cache/layouts/index.js","webpack:///./~/deep-equal/index.js","webpack:///./~/deep-equal/lib/is_arguments.js","webpack:///./~/deep-equal/lib/keys.js","webpack:///./~/exenv/index.js","webpack:///./~/react-helmet/lib/Helmet.js","webpack:///./~/react-helmet/lib/HelmetConstants.js","webpack:///./~/react-helmet/lib/HelmetUtils.js","webpack:///./~/react-side-effect/lib/index.js","webpack:///./~/react-sound/lib/index.js?29ce*","webpack:///./~/shallowequal/index.js","webpack:///./~/soundmanager2/script/soundmanager2.js?b903*","webpack:///./src/components/Header.js","webpack:///./src/components/Player/index.js?44f5*","webpack:///./src/components/Player/track.mp3?3663*","webpack:///./src/layouts/bg.jpg","webpack:///./src/layouts/index.js","webpack:///./src/utils/withScroll.js"],"names":["webpackJsonp","105","module","exports","layoutContext","208","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","_react2","_index","_index2","_layoutIndex","_layoutIndex2","props","createElement","287","isUndefinedOrNull","value","undefined","isBuffer","x","copy","slice","objEquiv","a","b","opts","isArguments","pSlice","deepEqual","ka","objectKeys","kb","e","sort","Array","actual","expected","Date","getTime","strict","288","supported","object","toString","unsupported","propertyIsEnumerable","supportsArgumentsClass","289","shim","keys","push","296","__WEBPACK_AMD_DEFINE_RESULT__","canUseDOM","window","document","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","addEventListener","attachEvent","canUseViewport","screen","413","_objectWithoutProperties","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","Helmet","_createClass","defineProperties","descriptor","defineProperty","protoProps","staticProps","_propTypes","_propTypes2","_reactSideEffect","_reactSideEffect2","_deepEqual","_deepEqual2","_HelmetUtils","_HelmetConstants","Component","_class","_temp","_React$Component","HelmetWrapper","this","apply","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","type","TAG_NAMES","SCRIPT","NOSCRIPT","innerHTML","STYLE","cssText","Error","flattenArrayTypeChildren","_ref","_extends2","arrayTypeChildren","newChildProps","concat","mapObjectTypeChildren","_ref2","_extends3","_extends4","newProps","TITLE","titleAttributes","BODY","bodyAttributes","HTML","htmlAttributes","mapArrayTypeChildrenToProps","newFlattenedProps","forEach","arrayChildName","_extends5","warnOnInvalidChildren","mapChildrenToProps","children","_this2","Children","_child$props","childProps","convertReactPropstoHtmlAttributes","LINK","META","render","_props","set","propTypes","base","oneOfType","arrayOf","node","defaultTitle","string","defer","bool","encodeSpecialCharacters","link","meta","noscript","onChangeClientState","func","script","style","title","titleTemplate","defaultProps","peek","rewind","mappedState","mapStateOnServer","baseTag","linkTags","metaTags","noscriptTags","scriptTags","styleTags","NullComponent","HelmetSideEffects","reducePropsToState","handleClientStateChange","HelmetExport","renderStatic","190","ATTRIBUTE_NAMES","BASE","HEAD","REACT_TAG_MAP","VALID_TAG_NAMES","map","name","TAG_PROPERTIES","CHARSET","CSS_TEXT","HREF","HTTPEQUIV","INNER_HTML","ITEM_PROP","NAME","PROPERTY","REL","SRC","accesskey","charset","class","contenteditable","contextmenu","http-equiv","itemprop","tabindex","HELMET_PROPS","DEFAULT_TITLE","DEFER","ENCODE_SPECIAL_CHARACTERS","ON_CHANGE_CLIENT_STATE","TITLE_TEMPLATE","HTML_TAG_MAP","reduce","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","414","global","warn","requestAnimationFrame","_typeof","Symbol","iterator","_objectAssign","_objectAssign2","str","encode","String","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","attributeKey","lowerCaseAttributeKey","toLowerCase","getTagsFromPropsList","tagName","approvedSeenTags","isArray","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","tagUnion","property","rafPolyfill","clock","now","callback","currentTime","setTimeout","cafPolyfill","id","clearTimeout","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","console","_helmetCallback","newState","commitTagChanges","cb","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","join","attributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","_i","removeAttribute","tags","headElement","head","querySelector","tagNodes","querySelectorAll","indexToDelete","newElement","styleSheet","appendChild","createTextNode","some","existingTag","index","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","generateTitleAsString","attributeString","flattenedTitle","generateTagsAsString","attributeHtml","tagContent","isSelfClosing","convertElementAttributestoReactProps","initProps","initAttributes","generateTitleAsReactComponent","_initProps","generateTagsAsReactComponent","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","getMethodsForTag","toComponent","_ref$title","432","_exenv","_exenv2","_shallowequal","_shallowequal2","handleStateChangeOnClient","getDisplayName","WrappedComponent","displayName","emitChange","state","mountedInstances","SideEffect","_Component","recordedState","componentWillMount","componentDidUpdate","componentWillUnmount","52","_createSound","options","soundManager","ok","createSound","initialized","beginDelayedInit","pendingCalls","noop","onready","playStatuses","PLAYING","STOPPED","PAUSED","Sound","getPrototypeOf","sound","playStatus","play","removeSound","prevProps","_this3","withSound","playState","paused","resume","stop","pause","playFromPosition","setPosition","position","Math","round","volume","setVolume","url","_this4","that","stopCreatingSound","autoLoad","whileloading","onLoading","whileplaying","onPlaying","onerror","errorCode","description","onError","onload","onLoad","onpause","onPause","onresume","onResume","onstop","onStop","onfinish","loop","onFinishedPlaying","destruct","status","isRequired","oneOf","number","447","objA","objB","compare","compareContext","ret","keysA","keysB","bHasOwnProperty","bind","idx","valueA","valueB","54","_undefined","SoundManager","smURL","smID","preferFlashCheck","kind","sm2","preferFlash","hasFlash","ignoreFlash","flash","html5_event","oFn","result","s","_s","_a","_wD","h5","setupOptions","flashVersion","debugMode","debugFlash","useConsole","consoleOnly","waitForWindowLoad","bgColor","useHighPerformance","flashPollingInterval","html5PollingInterval","flashLoadTimeout","wmode","allowScriptAccess","useFlashBlock","useHTML5Audio","forceUseGlobalHTML5Audio","ignoreMobileRestrictions","html5Test","noSWFCache","idPrefix","defaultOptions","autoPlay","from","loops","onid3","onplay","onposition","multiShot","multiShotEvents","pan","playbackRate","stream","to","usePolicyFile","flash9Options","onfailure","isMovieStar","usePeakData","useWaveformData","useEQData","onbufferchange","ondataerror","movieStarOptions","bufferTime","serverURL","onconnect","duration","audioFormats","mp3","required","mp4","related","ogg","opus","wav","flac","movieID","debugID","debugURLParam","versionNumber","version","movieURL","altURL","swfLoaded","enabled","oMC","sounds","soundIDs","muted","didFlashBlock","filePattern","filePatterns","flash8","flash9","features","buffering","peakData","waveformData","eqData","movieStar","sandbox","types","remote","localWithFile","localWithNetwork","localTrusted","noRemote","noLocal","html5","usingFlash","html5Only","SMSound","doNothing","setProperties","init","fV","debugTS","_wDS","initComplete","mixin","extraOptions","addOnEvent","processOnEvents","initUserOnload","delayWaitForEI","waitForEI","rebootIntoHTML5","setVersionInfo","handleFocus","strings","initMovie","domContentLoaded","winOnLoad","didDCLoaded","getDocument","createMovie","catchError","setPolling","initDebug","disableObject","failSafely","normalizeMovieURL","flashBlockHandler","getSWFCSS","swfCSS","toggleDebug","loopFix","policyFix","complain","idCheck","startTimer","stopTimer","timerExecute","parseURL","canIgnoreFlash","featureCheck","html5OK","html5CanPlay","html5ErrorCodes","html5Ext","html5Unload","domContentLoadedIE","testHTML5","event","lastGlobalHTML5URL","detectFlash","badSafariFix","html5_events","showSupport","flushMessages","wrapCallback","didSetup","globalHTML5Audio","sm","smc","ua","navigator","userAgent","wl","location","href","doc","on_queue","debugOpen","didAppend","appendSuccess","didInit","disabled","windowLoaded","wdCount","debugLevels","defaultFlashVersion","oRemoved","oRemovedHTML","waitingForEI","initPending","h5TimerCount","h5IntervalTimer","messages","needsFlash","useGlobalHTML5Audio","idCounter","msecScale","is_iDevice","match","isAndroid","isIE","isWebkit","isSafari","isOpera","mobileHTML5","isBadSafari","hasConsole","log","isFocused","hasFocus","tryInitOnFocus","okToDisable","flashMIME","emptyURL","emptyWAV","overHTTP","protocol","http","netStreamMimeTypes","netStreamTypes","netStreamPattern","RegExp","mimePattern","useAltURL","swfBox","swfDefault","swfError","swfTimedout","swfUnblocked","sm2Debug","highPerf","flashDebug","hasHTML5","Audio","opera","canPlayType","setup","noURL","globalHTML5","ignoreMobile","mobileUA","readyState","getMovie","movie_id","oOptions","_url","make","cs","cs_string","oSound","charAt","_setup_html5","connected","load","destroySound","sID","_bFromSound","oS","_iO","unload","onPosition","nPosition","oMethod","oScope","clearOnPosition","overloaded","start","setPlaybackRate","rate","allowOverride","nMsecOffset","stopAll","pauseAll","resumeAll","togglePause","setPan","nPan","nVol","j","isNaN","mute","muteAll","unmute","unmuteAll","toggleMute","getMemoryUse","ram","parseInt","_getMemoryUse","disable","bNoDisable","remove","canPlayMIME","sMIME","canPlayURL","sURL","canPlayLink","oLink","getSoundById","_suppressDebug","sType","ontimeout","_writeDebug","sText","sTypeOrObject","o","oItem","sDID","className","fontWeight","color","insertBefore","firstChild","alert","_debug","reboot","resetEvents","excludeInit","k","fired","reset","getMoviePercent","PercentLoaded","resetProperties","add_html5_events","remove_html5_events","stop_html5_timer","start_html5_timer","attachOnPosition","detachOnPosition","applyFromTo","lastHTML5State","urlOmitted","onplay_called","onPositionItems","onPositionFired","lastURL","time","instanceOptions","isHTML5","id3","loaded","_called_load","_html5_canplay","src","autobuffer","preload","_load","fatal","_unload","_bFromSM","_destroySound","_updatePlayState","fN","allowMulti","audioClone","onended","oncanplay","startOK","getAutoPlay","setAutoPlay","substr","lastIndexOf","instanceCount","_oncanplay","_onfinish","err","add","max","min","_start","onplayerror","bAll","originalPosition","_onbufferchange","_resetOnPosition","_onTimer","_stop","_setAutoPlay","normalizedRate","message","position1K","offset","toFixed","_setPosition","_bCallFlash","_pause","bInstanceOnly","_setPan","_bInstanceOnly","_setVolume","hasIO","method","scope","_processOnPosition","item","end","f","t","op","retainPosition","_hasTimer","bytesLoaded","bytesTotal","durationEstimate","buffered","left","right","failures","isBuffering","metadata","bForce","isNew","_get_html5_duration","_whileplaying","d","Infinity","_apply_loop","nLoops","sameURL","dURL","decodeURI","oEvt","bCapture","_added_events","removeEventListener","_onload","nSuccess","loadOK","_onerror","nIsBuffering","_onsuspend","onsuspend","_onfailure","level","code","_onwarning","onwarning","io_onfinish","_whileloading","nBytesLoaded","nBytesTotal","nDuration","nBufferLength","floor","bufferLength","oPeakData","oWaveformDataLeft","oWaveformDataRight","oEQData","eqLeft","leftPeak","rightPeak","leftEQ","rightEQ","_oncaptiondata","oData","captiondata","oncaptiondata","_onmetadata","oMDProps","oMDData","onmetadata","_onid3","oID3Props","oID3Data","_onconnect","bSuccess","_ondataerror","sError","body","getElementById","oMain","oAdd","o2","o1","oParent","hasParent","bonusOptions","Function","getArgs","oArgs","args","len","old","pop","element","shift","evt","abort","canplay","ee","canplaythrough","durationchange","ended","error","loadeddata","_loaded","loadedmetadata","loadstart","playing","fromCharCode","progress","progStr","isProgress","ranges","total","ratechange","suspend","stalled","timeupdate","waiting","iO","oAudio","_called_unload","fileExt","mime","aF","cp","m","canPlay","isOK","lookup","support","notReady","notOK","domError","spcWmode","swf404","tryDebug","checkSWF","localFail","waitFocus","waitForever","waitSWF","needFunction","badID","currentObj","waitOnload","docLoaded","onloadOK","secNote","badRemove","shutdown","queue","smError","fbTimeout","fbLoaded","fbHandler","manURL","onURL","badFV","as2loop","noNSLoop","needfl9","mfTimeout","needFlash","gotFocus","policy","setupError","setupUndef","setupLate","sm2Loaded","sstr","sOpt","sPre","sMsg","oProp","urlParams","isDebug","bPolling","bHighPerformance","_setPolling","test","oD","oDebug","oTarget","oToggle","tmp","bottom","width","height","lineHeight","margin","textAlign","border","cursor","background","zIndex","onclick","display","e2","errorLevel","oT","sEventType","sMessage","sm2Debugger","handleEvent","css","p","ignoreInit","success","srcQueue","canRetry","nP","hasPlugin","n","AX","ActiveXObject","plugins","mimeTypes","enabledPlugin","flashNeeded","formats","isSpecial","urlResult","setInterval","clearInterval","_setSandboxType","sandboxType","sb","_externalInterfaceOK","swfVersion","initMsg","delimiter","param","oEmbed","oMovie","movieHTML","oEl","sClass","remoteURL","localURL","swfTitle","extraClass","isRTL","html","dir","platform","quality","bgcolor","pluginspage","hasPriority","FlashVars","overflow","top","abs","oninitmovie","loadIncomplete","cleanup","tests","wasTimeout","_externalInterfaceTest","_disableDebug","detachEvent","SM2_DEFER","getInstance","smBuilder","211","_taggedTemplateLiteralLoose","raw","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_styledComponents","_styledComponents2","_reactFontawesome","_reactFontawesome2","_fontawesomeFreeBrands","_Player","_Player2","_withScroll","_withScroll2","List","ul","Right","Nav","nav","Li","li","A","Header","scrollPosition","icon","faFacebook","42","_reactSound","_reactSound2","_track","_track2","_fontawesomeFreeSolid","Duration","div","Position","Wrapper","Player","_this","handlePlaying","handleClick","setState","prevState","onClick","faPlayCircle","faPauseCircle","55","468","297","213","_gatsbyLink","_reactHelmet","_reactHelmet2","_Header","_Header2","_bg","Content","Main","main","TemplateWrapper","216","withScroll","ComposedComponent","ScrollDecorator","getWindowScrollTop","handleInterval","handleRequestAnimationFrame","INTERVAL","intervalID","requestID","pageYOffset","documentElement","scrollTop","newScrollPosition"],"mappings":"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","file":"component---src-layouts-index-js-3fc7c2b6b3995e054ead.js","sourcesContent":["webpackJsonp([114276838955818,60335399758886],{\n\n/***/ 105:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"layoutContext\":{}}\n\n/***/ }),\n\n/***/ 208:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _index = __webpack_require__(213);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _layoutIndex = __webpack_require__(105);\n\t\n\tvar _layoutIndex2 = _interopRequireDefault(_layoutIndex);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (props) {\n\t  return _react2.default.createElement(_index2.default, _extends({}, props, _layoutIndex2.default));\n\t};\n\t\n\tmodule.exports = exports[\"default\"];\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar pSlice = Array.prototype.slice;\n\tvar objectKeys = __webpack_require__(289);\n\tvar isArguments = __webpack_require__(288);\n\t\n\tvar deepEqual = module.exports = function (actual, expected, opts) {\n\t  if (!opts) opts = {};\n\t  // 7.1. All identical values are equivalent, as determined by ===.\n\t  if (actual === expected) {\n\t    return true;\n\t\n\t  } else if (actual instanceof Date && expected instanceof Date) {\n\t    return actual.getTime() === expected.getTime();\n\t\n\t  // 7.3. Other pairs that do not both pass typeof value == 'object',\n\t  // equivalence is determined by ==.\n\t  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n\t    return opts.strict ? actual === expected : actual == expected;\n\t\n\t  // 7.4. For all other Object pairs, including Array objects, equivalence is\n\t  // determined by having the same number of owned properties (as verified\n\t  // with Object.prototype.hasOwnProperty.call), the same set of keys\n\t  // (although not necessarily the same order), equivalent values for every\n\t  // corresponding key, and an identical 'prototype' property. Note: this\n\t  // accounts for both named and indexed properties on Arrays.\n\t  } else {\n\t    return objEquiv(actual, expected, opts);\n\t  }\n\t}\n\t\n\tfunction isUndefinedOrNull(value) {\n\t  return value === null || value === undefined;\n\t}\n\t\n\tfunction isBuffer (x) {\n\t  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n\t  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n\t    return false;\n\t  }\n\t  if (x.length > 0 && typeof x[0] !== 'number') return false;\n\t  return true;\n\t}\n\t\n\tfunction objEquiv(a, b, opts) {\n\t  var i, key;\n\t  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n\t    return false;\n\t  // an identical 'prototype' property.\n\t  if (a.prototype !== b.prototype) return false;\n\t  //~~~I've managed to break Object.keys through screwy arguments passing.\n\t  //   Converting to array solves the problem.\n\t  if (isArguments(a)) {\n\t    if (!isArguments(b)) {\n\t      return false;\n\t    }\n\t    a = pSlice.call(a);\n\t    b = pSlice.call(b);\n\t    return deepEqual(a, b, opts);\n\t  }\n\t  if (isBuffer(a)) {\n\t    if (!isBuffer(b)) {\n\t      return false;\n\t    }\n\t    if (a.length !== b.length) return false;\n\t    for (i = 0; i < a.length; i++) {\n\t      if (a[i] !== b[i]) return false;\n\t    }\n\t    return true;\n\t  }\n\t  try {\n\t    var ka = objectKeys(a),\n\t        kb = objectKeys(b);\n\t  } catch (e) {//happens when one is a string literal and the other isn't\n\t    return false;\n\t  }\n\t  // having the same number of owned properties (keys incorporates\n\t  // hasOwnProperty)\n\t  if (ka.length != kb.length)\n\t    return false;\n\t  //the same set of keys (although not necessarily the same order),\n\t  ka.sort();\n\t  kb.sort();\n\t  //~~~cheap key test\n\t  for (i = ka.length - 1; i >= 0; i--) {\n\t    if (ka[i] != kb[i])\n\t      return false;\n\t  }\n\t  //equivalent values for every corresponding key, and\n\t  //~~~possibly expensive deep test\n\t  for (i = ka.length - 1; i >= 0; i--) {\n\t    key = ka[i];\n\t    if (!deepEqual(a[key], b[key], opts)) return false;\n\t  }\n\t  return typeof a === typeof b;\n\t}\n\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports) {\n\n\tvar supportsArgumentsClass = (function(){\n\t  return Object.prototype.toString.call(arguments)\n\t})() == '[object Arguments]';\n\t\n\texports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\t\n\texports.supported = supported;\n\tfunction supported(object) {\n\t  return Object.prototype.toString.call(object) == '[object Arguments]';\n\t};\n\t\n\texports.unsupported = unsupported;\n\tfunction unsupported(object){\n\t  return object &&\n\t    typeof object == 'object' &&\n\t    typeof object.length == 'number' &&\n\t    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n\t    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n\t    false;\n\t};\n\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports) {\n\n\texports = module.exports = typeof Object.keys === 'function'\n\t  ? Object.keys : shim;\n\t\n\texports.shim = shim;\n\tfunction shim (obj) {\n\t  var keys = [];\n\t  for (var key in obj) keys.push(key);\n\t  return keys;\n\t}\n\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  Copyright (c) 2015 Jed Watson.\n\t  Based on code that is Copyright 2013-2015, Facebook, Inc.\n\t  All rights reserved.\n\t*/\n\t/* global define */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tvar canUseDOM = !!(\n\t\t\ttypeof window !== 'undefined' &&\n\t\t\twindow.document &&\n\t\t\twindow.document.createElement\n\t\t);\n\t\n\t\tvar ExecutionEnvironment = {\n\t\n\t\t\tcanUseDOM: canUseDOM,\n\t\n\t\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\t\n\t\t\tcanUseEventListeners:\n\t\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\t\n\t\t\tcanUseViewport: canUseDOM && !!window.screen\n\t\n\t\t};\n\t\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn ExecutionEnvironment;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = ExecutionEnvironment;\n\t\t} else {\n\t\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t\t}\n\t\n\t}());\n\n\n/***/ }),\n\n/***/ 413:\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports.__esModule = true;\n\texports.Helmet = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _propTypes = __webpack_require__(1);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _reactSideEffect = __webpack_require__(432);\n\t\n\tvar _reactSideEffect2 = _interopRequireDefault(_reactSideEffect);\n\t\n\tvar _deepEqual = __webpack_require__(287);\n\t\n\tvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\t\n\tvar _HelmetUtils = __webpack_require__(414);\n\t\n\tvar _HelmetConstants = __webpack_require__(190);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Helmet = function Helmet(Component) {\n\t    var _class, _temp;\n\t\n\t    return _temp = _class = function (_React$Component) {\n\t        _inherits(HelmetWrapper, _React$Component);\n\t\n\t        function HelmetWrapper() {\n\t            _classCallCheck(this, HelmetWrapper);\n\t\n\t            return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t        }\n\t\n\t        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n\t            return !(0, _deepEqual2.default)(this.props, nextProps);\n\t        };\n\t\n\t        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n\t            if (!nestedChildren) {\n\t                return null;\n\t            }\n\t\n\t            switch (child.type) {\n\t                case _HelmetConstants.TAG_NAMES.SCRIPT:\n\t                case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n\t                    return {\n\t                        innerHTML: nestedChildren\n\t                    };\n\t\n\t                case _HelmetConstants.TAG_NAMES.STYLE:\n\t                    return {\n\t                        cssText: nestedChildren\n\t                    };\n\t            }\n\t\n\t            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n\t        };\n\t\n\t        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n\t            var _extends2;\n\t\n\t            var child = _ref.child,\n\t                arrayTypeChildren = _ref.arrayTypeChildren,\n\t                newChildProps = _ref.newChildProps,\n\t                nestedChildren = _ref.nestedChildren;\n\t\n\t            return _extends({}, arrayTypeChildren, (_extends2 = {}, _extends2[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _extends2));\n\t        };\n\t\n\t        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n\t            var _extends3, _extends4;\n\t\n\t            var child = _ref2.child,\n\t                newProps = _ref2.newProps,\n\t                newChildProps = _ref2.newChildProps,\n\t                nestedChildren = _ref2.nestedChildren;\n\t\n\t            switch (child.type) {\n\t                case _HelmetConstants.TAG_NAMES.TITLE:\n\t                    return _extends({}, newProps, (_extends3 = {}, _extends3[child.type] = nestedChildren, _extends3.titleAttributes = _extends({}, newChildProps), _extends3));\n\t\n\t                case _HelmetConstants.TAG_NAMES.BODY:\n\t                    return _extends({}, newProps, {\n\t                        bodyAttributes: _extends({}, newChildProps)\n\t                    });\n\t\n\t                case _HelmetConstants.TAG_NAMES.HTML:\n\t                    return _extends({}, newProps, {\n\t                        htmlAttributes: _extends({}, newChildProps)\n\t                    });\n\t            }\n\t\n\t            return _extends({}, newProps, (_extends4 = {}, _extends4[child.type] = _extends({}, newChildProps), _extends4));\n\t        };\n\t\n\t        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n\t            var newFlattenedProps = _extends({}, newProps);\n\t\n\t            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n\t                var _extends5;\n\t\n\t                newFlattenedProps = _extends({}, newFlattenedProps, (_extends5 = {}, _extends5[arrayChildName] = arrayTypeChildren[arrayChildName], _extends5));\n\t            });\n\t\n\t            return newFlattenedProps;\n\t        };\n\t\n\t        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n\t            if (false) {\n\t                if (!_HelmetConstants.VALID_TAG_NAMES.some(function (name) {\n\t                    return child.type === name;\n\t                })) {\n\t                    if (typeof child.type === \"function\") {\n\t                        return (0, _HelmetUtils.warn)(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n\t                    }\n\t\n\t                    return (0, _HelmetUtils.warn)(\"Only elements types \" + _HelmetConstants.VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n\t                }\n\t\n\t                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n\t                    return typeof nestedChild !== \"string\";\n\t                }))) {\n\t                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n\t                }\n\t            }\n\t\n\t            return true;\n\t        };\n\t\n\t        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n\t            var _this2 = this;\n\t\n\t            var arrayTypeChildren = {};\n\t\n\t            _react2.default.Children.forEach(children, function (child) {\n\t                if (!child || !child.props) {\n\t                    return;\n\t                }\n\t\n\t                var _child$props = child.props,\n\t                    nestedChildren = _child$props.children,\n\t                    childProps = _objectWithoutProperties(_child$props, [\"children\"]);\n\t\n\t                var newChildProps = (0, _HelmetUtils.convertReactPropstoHtmlAttributes)(childProps);\n\t\n\t                _this2.warnOnInvalidChildren(child, nestedChildren);\n\t\n\t                switch (child.type) {\n\t                    case _HelmetConstants.TAG_NAMES.LINK:\n\t                    case _HelmetConstants.TAG_NAMES.META:\n\t                    case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n\t                    case _HelmetConstants.TAG_NAMES.SCRIPT:\n\t                    case _HelmetConstants.TAG_NAMES.STYLE:\n\t                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n\t                            child: child,\n\t                            arrayTypeChildren: arrayTypeChildren,\n\t                            newChildProps: newChildProps,\n\t                            nestedChildren: nestedChildren\n\t                        });\n\t                        break;\n\t\n\t                    default:\n\t                        newProps = _this2.mapObjectTypeChildren({\n\t                            child: child,\n\t                            newProps: newProps,\n\t                            newChildProps: newChildProps,\n\t                            nestedChildren: nestedChildren\n\t                        });\n\t                        break;\n\t                }\n\t            });\n\t\n\t            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n\t            return newProps;\n\t        };\n\t\n\t        HelmetWrapper.prototype.render = function render() {\n\t            var _props = this.props,\n\t                children = _props.children,\n\t                props = _objectWithoutProperties(_props, [\"children\"]);\n\t\n\t            var newProps = _extends({}, props);\n\t\n\t            if (children) {\n\t                newProps = this.mapChildrenToProps(children, newProps);\n\t            }\n\t\n\t            return _react2.default.createElement(Component, newProps);\n\t        };\n\t\n\t        _createClass(HelmetWrapper, null, [{\n\t            key: \"canUseDOM\",\n\t\n\t\n\t            // Component.peek comes from react-side-effect:\n\t            // For testing, you may use a static peek() method available on the returned component.\n\t            // It lets you get the current state without resetting the mounted instance stack.\n\t            // Dont use it for anything other than testing.\n\t\n\t            /**\n\t            * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n\t            * @param {Object} bodyAttributes: {\"className\": \"root\"}\n\t            * @param {String} defaultTitle: \"Default Title\"\n\t            * @param {Boolean} defer: true\n\t            * @param {Boolean} encodeSpecialCharacters: true\n\t            * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n\t            * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n\t            * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n\t            * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n\t            * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n\t            * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n\t            * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n\t            * @param {String} title: \"Title\"\n\t            * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n\t            * @param {String} titleTemplate: \"MySite.com - %s\"\n\t            */\n\t            set: function set(canUseDOM) {\n\t                Component.canUseDOM = canUseDOM;\n\t            }\n\t        }]);\n\t\n\t        return HelmetWrapper;\n\t    }(_react2.default.Component), _class.propTypes = {\n\t        base: _propTypes2.default.object,\n\t        bodyAttributes: _propTypes2.default.object,\n\t        children: _propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.node), _propTypes2.default.node]),\n\t        defaultTitle: _propTypes2.default.string,\n\t        defer: _propTypes2.default.bool,\n\t        encodeSpecialCharacters: _propTypes2.default.bool,\n\t        htmlAttributes: _propTypes2.default.object,\n\t        link: _propTypes2.default.arrayOf(_propTypes2.default.object),\n\t        meta: _propTypes2.default.arrayOf(_propTypes2.default.object),\n\t        noscript: _propTypes2.default.arrayOf(_propTypes2.default.object),\n\t        onChangeClientState: _propTypes2.default.func,\n\t        script: _propTypes2.default.arrayOf(_propTypes2.default.object),\n\t        style: _propTypes2.default.arrayOf(_propTypes2.default.object),\n\t        title: _propTypes2.default.string,\n\t        titleAttributes: _propTypes2.default.object,\n\t        titleTemplate: _propTypes2.default.string\n\t    }, _class.defaultProps = {\n\t        defer: true,\n\t        encodeSpecialCharacters: true\n\t    }, _class.peek = Component.peek, _class.rewind = function () {\n\t        var mappedState = Component.rewind();\n\t        if (!mappedState) {\n\t            // provide fallback if mappedState is undefined\n\t            mappedState = (0, _HelmetUtils.mapStateOnServer)({\n\t                baseTag: [],\n\t                bodyAttributes: {},\n\t                encodeSpecialCharacters: true,\n\t                htmlAttributes: {},\n\t                linkTags: [],\n\t                metaTags: [],\n\t                noscriptTags: [],\n\t                scriptTags: [],\n\t                styleTags: [],\n\t                title: \"\",\n\t                titleAttributes: {}\n\t            });\n\t        }\n\t\n\t        return mappedState;\n\t    }, _temp;\n\t};\n\t\n\tvar NullComponent = function NullComponent() {\n\t    return null;\n\t};\n\t\n\tvar HelmetSideEffects = (0, _reactSideEffect2.default)(_HelmetUtils.reducePropsToState, _HelmetUtils.handleClientStateChange, _HelmetUtils.mapStateOnServer)(NullComponent);\n\t\n\tvar HelmetExport = Helmet(HelmetSideEffects);\n\tHelmetExport.renderStatic = HelmetExport.rewind;\n\t\n\texports.Helmet = HelmetExport;\n\texports.default = HelmetExport;\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, exports) {\n\n\texports.__esModule = true;\n\tvar ATTRIBUTE_NAMES = exports.ATTRIBUTE_NAMES = {\n\t    BODY: \"bodyAttributes\",\n\t    HTML: \"htmlAttributes\",\n\t    TITLE: \"titleAttributes\"\n\t};\n\t\n\tvar TAG_NAMES = exports.TAG_NAMES = {\n\t    BASE: \"base\",\n\t    BODY: \"body\",\n\t    HEAD: \"head\",\n\t    HTML: \"html\",\n\t    LINK: \"link\",\n\t    META: \"meta\",\n\t    NOSCRIPT: \"noscript\",\n\t    SCRIPT: \"script\",\n\t    STYLE: \"style\",\n\t    TITLE: \"title\"\n\t};\n\t\n\tvar VALID_TAG_NAMES = exports.VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n\t    return TAG_NAMES[name];\n\t});\n\t\n\tvar TAG_PROPERTIES = exports.TAG_PROPERTIES = {\n\t    CHARSET: \"charset\",\n\t    CSS_TEXT: \"cssText\",\n\t    HREF: \"href\",\n\t    HTTPEQUIV: \"http-equiv\",\n\t    INNER_HTML: \"innerHTML\",\n\t    ITEM_PROP: \"itemprop\",\n\t    NAME: \"name\",\n\t    PROPERTY: \"property\",\n\t    REL: \"rel\",\n\t    SRC: \"src\"\n\t};\n\t\n\tvar REACT_TAG_MAP = exports.REACT_TAG_MAP = {\n\t    accesskey: \"accessKey\",\n\t    charset: \"charSet\",\n\t    class: \"className\",\n\t    contenteditable: \"contentEditable\",\n\t    contextmenu: \"contextMenu\",\n\t    \"http-equiv\": \"httpEquiv\",\n\t    itemprop: \"itemProp\",\n\t    tabindex: \"tabIndex\"\n\t};\n\t\n\tvar HELMET_PROPS = exports.HELMET_PROPS = {\n\t    DEFAULT_TITLE: \"defaultTitle\",\n\t    DEFER: \"defer\",\n\t    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n\t    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n\t    TITLE_TEMPLATE: \"titleTemplate\"\n\t};\n\t\n\tvar HTML_TAG_MAP = exports.HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n\t    obj[REACT_TAG_MAP[key]] = key;\n\t    return obj;\n\t}, {});\n\t\n\tvar SELF_CLOSING_TAGS = exports.SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\t\n\tvar HELMET_ATTRIBUTE = exports.HELMET_ATTRIBUTE = \"data-react-helmet\";\n\n/***/ }),\n\n/***/ 414:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {exports.__esModule = true;\n\texports.warn = exports.requestAnimationFrame = exports.reducePropsToState = exports.mapStateOnServer = exports.handleClientStateChange = exports.convertReactPropstoHtmlAttributes = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _objectAssign = __webpack_require__(6);\n\t\n\tvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\t\n\tvar _HelmetConstants = __webpack_require__(190);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n\t    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\n\t    if (encode === false) {\n\t        return String(str);\n\t    }\n\t\n\t    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n\t};\n\t\n\tvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n\t    var innermostTitle = getInnermostProperty(propsList, _HelmetConstants.TAG_NAMES.TITLE);\n\t    var innermostTemplate = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.TITLE_TEMPLATE);\n\t\n\t    if (innermostTemplate && innermostTitle) {\n\t        // use function arg to avoid need to escape $ characters\n\t        return innermostTemplate.replace(/%s/g, function () {\n\t            return innermostTitle;\n\t        });\n\t    }\n\t\n\t    var innermostDefaultTitle = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFAULT_TITLE);\n\t\n\t    return innermostTitle || innermostDefaultTitle || undefined;\n\t};\n\t\n\tvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n\t    return getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n\t};\n\t\n\tvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n\t    return propsList.filter(function (props) {\n\t        return typeof props[tagType] !== \"undefined\";\n\t    }).map(function (props) {\n\t        return props[tagType];\n\t    }).reduce(function (tagAttrs, current) {\n\t        return _extends({}, tagAttrs, current);\n\t    }, {});\n\t};\n\t\n\tvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n\t    return propsList.filter(function (props) {\n\t        return typeof props[_HelmetConstants.TAG_NAMES.BASE] !== \"undefined\";\n\t    }).map(function (props) {\n\t        return props[_HelmetConstants.TAG_NAMES.BASE];\n\t    }).reverse().reduce(function (innermostBaseTag, tag) {\n\t        if (!innermostBaseTag.length) {\n\t            var keys = Object.keys(tag);\n\t\n\t            for (var i = 0; i < keys.length; i++) {\n\t                var attributeKey = keys[i];\n\t                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\t\n\t                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n\t                    return innermostBaseTag.concat(tag);\n\t                }\n\t            }\n\t        }\n\t\n\t        return innermostBaseTag;\n\t    }, []);\n\t};\n\t\n\tvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n\t    // Calculate list of tags, giving priority innermost component (end of the propslist)\n\t    var approvedSeenTags = {};\n\t\n\t    return propsList.filter(function (props) {\n\t        if (Array.isArray(props[tagName])) {\n\t            return true;\n\t        }\n\t        if (typeof props[tagName] !== \"undefined\") {\n\t            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n\t        }\n\t        return false;\n\t    }).map(function (props) {\n\t        return props[tagName];\n\t    }).reverse().reduce(function (approvedTags, instanceTags) {\n\t        var instanceSeenTags = {};\n\t\n\t        instanceTags.filter(function (tag) {\n\t            var primaryAttributeKey = void 0;\n\t            var keys = Object.keys(tag);\n\t            for (var i = 0; i < keys.length; i++) {\n\t                var attributeKey = keys[i];\n\t                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\t\n\t                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\t                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n\t                    primaryAttributeKey = lowerCaseAttributeKey;\n\t                }\n\t                // Special case for innerHTML which doesn't work lowercased\n\t                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attributeKey === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT || attributeKey === _HelmetConstants.TAG_PROPERTIES.ITEM_PROP)) {\n\t                    primaryAttributeKey = attributeKey;\n\t                }\n\t            }\n\t\n\t            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n\t                return false;\n\t            }\n\t\n\t            var value = tag[primaryAttributeKey].toLowerCase();\n\t\n\t            if (!approvedSeenTags[primaryAttributeKey]) {\n\t                approvedSeenTags[primaryAttributeKey] = {};\n\t            }\n\t\n\t            if (!instanceSeenTags[primaryAttributeKey]) {\n\t                instanceSeenTags[primaryAttributeKey] = {};\n\t            }\n\t\n\t            if (!approvedSeenTags[primaryAttributeKey][value]) {\n\t                instanceSeenTags[primaryAttributeKey][value] = true;\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        }).reverse().forEach(function (tag) {\n\t            return approvedTags.push(tag);\n\t        });\n\t\n\t        // Update seen tags with tags from this instance\n\t        var keys = Object.keys(instanceSeenTags);\n\t        for (var i = 0; i < keys.length; i++) {\n\t            var attributeKey = keys[i];\n\t            var tagUnion = (0, _objectAssign2.default)({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\t\n\t            approvedSeenTags[attributeKey] = tagUnion;\n\t        }\n\t\n\t        return approvedTags;\n\t    }, []).reverse();\n\t};\n\t\n\tvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n\t    for (var i = propsList.length - 1; i >= 0; i--) {\n\t        var props = propsList[i];\n\t\n\t        if (props.hasOwnProperty(property)) {\n\t            return props[property];\n\t        }\n\t    }\n\t\n\t    return null;\n\t};\n\t\n\tvar reducePropsToState = function reducePropsToState(propsList) {\n\t    return {\n\t        baseTag: getBaseTagFromPropsList([_HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n\t        bodyAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.BODY, propsList),\n\t        defer: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFER),\n\t        encode: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n\t        htmlAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.HTML, propsList),\n\t        linkTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.LINK, [_HelmetConstants.TAG_PROPERTIES.REL, _HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n\t        metaTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.META, [_HelmetConstants.TAG_PROPERTIES.NAME, _HelmetConstants.TAG_PROPERTIES.CHARSET, _HelmetConstants.TAG_PROPERTIES.HTTPEQUIV, _HelmetConstants.TAG_PROPERTIES.PROPERTY, _HelmetConstants.TAG_PROPERTIES.ITEM_PROP], propsList),\n\t        noscriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.NOSCRIPT, [_HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n\t        onChangeClientState: getOnChangeClientState(propsList),\n\t        scriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.SCRIPT, [_HelmetConstants.TAG_PROPERTIES.SRC, _HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n\t        styleTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.STYLE, [_HelmetConstants.TAG_PROPERTIES.CSS_TEXT], propsList),\n\t        title: getTitleFromPropsList(propsList),\n\t        titleAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.TITLE, propsList)\n\t    };\n\t};\n\t\n\tvar rafPolyfill = function () {\n\t    var clock = Date.now();\n\t\n\t    return function (callback) {\n\t        var currentTime = Date.now();\n\t\n\t        if (currentTime - clock > 16) {\n\t            clock = currentTime;\n\t            callback(currentTime);\n\t        } else {\n\t            setTimeout(function () {\n\t                rafPolyfill(callback);\n\t            }, 0);\n\t        }\n\t    };\n\t}();\n\t\n\tvar cafPolyfill = function cafPolyfill(id) {\n\t    return clearTimeout(id);\n\t};\n\t\n\tvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\t\n\tvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\t\n\tvar warn = function warn(msg) {\n\t    return console && typeof console.warn === \"function\" && console.warn(msg);\n\t};\n\t\n\tvar _helmetCallback = null;\n\t\n\tvar handleClientStateChange = function handleClientStateChange(newState) {\n\t    if (_helmetCallback) {\n\t        cancelAnimationFrame(_helmetCallback);\n\t    }\n\t\n\t    if (newState.defer) {\n\t        _helmetCallback = requestAnimationFrame(function () {\n\t            commitTagChanges(newState, function () {\n\t                _helmetCallback = null;\n\t            });\n\t        });\n\t    } else {\n\t        commitTagChanges(newState);\n\t        _helmetCallback = null;\n\t    }\n\t};\n\t\n\tvar commitTagChanges = function commitTagChanges(newState, cb) {\n\t    var baseTag = newState.baseTag,\n\t        bodyAttributes = newState.bodyAttributes,\n\t        htmlAttributes = newState.htmlAttributes,\n\t        linkTags = newState.linkTags,\n\t        metaTags = newState.metaTags,\n\t        noscriptTags = newState.noscriptTags,\n\t        onChangeClientState = newState.onChangeClientState,\n\t        scriptTags = newState.scriptTags,\n\t        styleTags = newState.styleTags,\n\t        title = newState.title,\n\t        titleAttributes = newState.titleAttributes;\n\t\n\t    updateAttributes(_HelmetConstants.TAG_NAMES.BODY, bodyAttributes);\n\t    updateAttributes(_HelmetConstants.TAG_NAMES.HTML, htmlAttributes);\n\t\n\t    updateTitle(title, titleAttributes);\n\t\n\t    var tagUpdates = {\n\t        baseTag: updateTags(_HelmetConstants.TAG_NAMES.BASE, baseTag),\n\t        linkTags: updateTags(_HelmetConstants.TAG_NAMES.LINK, linkTags),\n\t        metaTags: updateTags(_HelmetConstants.TAG_NAMES.META, metaTags),\n\t        noscriptTags: updateTags(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags),\n\t        scriptTags: updateTags(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags),\n\t        styleTags: updateTags(_HelmetConstants.TAG_NAMES.STYLE, styleTags)\n\t    };\n\t\n\t    var addedTags = {};\n\t    var removedTags = {};\n\t\n\t    Object.keys(tagUpdates).forEach(function (tagType) {\n\t        var _tagUpdates$tagType = tagUpdates[tagType],\n\t            newTags = _tagUpdates$tagType.newTags,\n\t            oldTags = _tagUpdates$tagType.oldTags;\n\t\n\t\n\t        if (newTags.length) {\n\t            addedTags[tagType] = newTags;\n\t        }\n\t        if (oldTags.length) {\n\t            removedTags[tagType] = tagUpdates[tagType].oldTags;\n\t        }\n\t    });\n\t\n\t    cb && cb();\n\t\n\t    onChangeClientState(newState, addedTags, removedTags);\n\t};\n\t\n\tvar flattenArray = function flattenArray(possibleArray) {\n\t    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n\t};\n\t\n\tvar updateTitle = function updateTitle(title, attributes) {\n\t    if (typeof title !== \"undefined\" && document.title !== title) {\n\t        document.title = flattenArray(title);\n\t    }\n\t\n\t    updateAttributes(_HelmetConstants.TAG_NAMES.TITLE, attributes);\n\t};\n\t\n\tvar updateAttributes = function updateAttributes(tagName, attributes) {\n\t    var elementTag = document.getElementsByTagName(tagName)[0];\n\t\n\t    if (!elementTag) {\n\t        return;\n\t    }\n\t\n\t    var helmetAttributeString = elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n\t    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n\t    var attributesToRemove = [].concat(helmetAttributes);\n\t    var attributeKeys = Object.keys(attributes);\n\t\n\t    for (var i = 0; i < attributeKeys.length; i++) {\n\t        var attribute = attributeKeys[i];\n\t        var value = attributes[attribute] || \"\";\n\t\n\t        if (elementTag.getAttribute(attribute) !== value) {\n\t            elementTag.setAttribute(attribute, value);\n\t        }\n\t\n\t        if (helmetAttributes.indexOf(attribute) === -1) {\n\t            helmetAttributes.push(attribute);\n\t        }\n\t\n\t        var indexToSave = attributesToRemove.indexOf(attribute);\n\t        if (indexToSave !== -1) {\n\t            attributesToRemove.splice(indexToSave, 1);\n\t        }\n\t    }\n\t\n\t    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n\t        elementTag.removeAttribute(attributesToRemove[_i]);\n\t    }\n\t\n\t    if (helmetAttributes.length === attributesToRemove.length) {\n\t        elementTag.removeAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n\t    } else if (elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n\t        elementTag.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n\t    }\n\t};\n\t\n\tvar updateTags = function updateTags(type, tags) {\n\t    var headElement = document.head || document.querySelector(_HelmetConstants.TAG_NAMES.HEAD);\n\t    var tagNodes = headElement.querySelectorAll(type + \"[\" + _HelmetConstants.HELMET_ATTRIBUTE + \"]\");\n\t    var oldTags = Array.prototype.slice.call(tagNodes);\n\t    var newTags = [];\n\t    var indexToDelete = void 0;\n\t\n\t    if (tags && tags.length) {\n\t        tags.forEach(function (tag) {\n\t            var newElement = document.createElement(type);\n\t\n\t            for (var attribute in tag) {\n\t                if (tag.hasOwnProperty(attribute)) {\n\t                    if (attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML) {\n\t                        newElement.innerHTML = tag.innerHTML;\n\t                    } else if (attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n\t                        if (newElement.styleSheet) {\n\t                            newElement.styleSheet.cssText = tag.cssText;\n\t                        } else {\n\t                            newElement.appendChild(document.createTextNode(tag.cssText));\n\t                        }\n\t                    } else {\n\t                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n\t                        newElement.setAttribute(attribute, value);\n\t                    }\n\t                }\n\t            }\n\t\n\t            newElement.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, \"true\");\n\t\n\t            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\t            if (oldTags.some(function (existingTag, index) {\n\t                indexToDelete = index;\n\t                return newElement.isEqualNode(existingTag);\n\t            })) {\n\t                oldTags.splice(indexToDelete, 1);\n\t            } else {\n\t                newTags.push(newElement);\n\t            }\n\t        });\n\t    }\n\t\n\t    oldTags.forEach(function (tag) {\n\t        return tag.parentNode.removeChild(tag);\n\t    });\n\t    newTags.forEach(function (tag) {\n\t        return headElement.appendChild(tag);\n\t    });\n\t\n\t    return {\n\t        oldTags: oldTags,\n\t        newTags: newTags\n\t    };\n\t};\n\t\n\tvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n\t    return Object.keys(attributes).reduce(function (str, key) {\n\t        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n\t        return str ? str + \" \" + attr : attr;\n\t    }, \"\");\n\t};\n\t\n\tvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n\t    var attributeString = generateElementAttributesAsString(attributes);\n\t    var flattenedTitle = flattenArray(title);\n\t    return attributeString ? \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n\t};\n\t\n\tvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n\t    return tags.reduce(function (str, tag) {\n\t        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n\t            return !(attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT);\n\t        }).reduce(function (string, attribute) {\n\t            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n\t            return string ? string + \" \" + attr : attr;\n\t        }, \"\");\n\t\n\t        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\t\n\t        var isSelfClosing = _HelmetConstants.SELF_CLOSING_TAGS.indexOf(type) === -1;\n\t\n\t        return str + \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n\t    }, \"\");\n\t};\n\t\n\tvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n\t    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return Object.keys(attributes).reduce(function (obj, key) {\n\t        obj[_HelmetConstants.REACT_TAG_MAP[key] || key] = attributes[key];\n\t        return obj;\n\t    }, initProps);\n\t};\n\t\n\tvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n\t    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return Object.keys(props).reduce(function (obj, key) {\n\t        obj[_HelmetConstants.HTML_TAG_MAP[key] || key] = props[key];\n\t        return obj;\n\t    }, initAttributes);\n\t};\n\t\n\tvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n\t    var _initProps;\n\t\n\t    // assigning into an array to define toString function on it\n\t    var initProps = (_initProps = {\n\t        key: title\n\t    }, _initProps[_HelmetConstants.HELMET_ATTRIBUTE] = true, _initProps);\n\t    var props = convertElementAttributestoReactProps(attributes, initProps);\n\t\n\t    return [_react2.default.createElement(_HelmetConstants.TAG_NAMES.TITLE, props, title)];\n\t};\n\t\n\tvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n\t    return tags.map(function (tag, i) {\n\t        var _mappedTag;\n\t\n\t        var mappedTag = (_mappedTag = {\n\t            key: i\n\t        }, _mappedTag[_HelmetConstants.HELMET_ATTRIBUTE] = true, _mappedTag);\n\t\n\t        Object.keys(tag).forEach(function (attribute) {\n\t            var mappedAttribute = _HelmetConstants.REACT_TAG_MAP[attribute] || attribute;\n\t\n\t            if (mappedAttribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || mappedAttribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n\t                var content = tag.innerHTML || tag.cssText;\n\t                mappedTag.dangerouslySetInnerHTML = { __html: content };\n\t            } else {\n\t                mappedTag[mappedAttribute] = tag[attribute];\n\t            }\n\t        });\n\t\n\t        return _react2.default.createElement(type, mappedTag);\n\t    });\n\t};\n\t\n\tvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n\t    switch (type) {\n\t        case _HelmetConstants.TAG_NAMES.TITLE:\n\t            return {\n\t                toComponent: function toComponent() {\n\t                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n\t                },\n\t                toString: function toString() {\n\t                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n\t                }\n\t            };\n\t        case _HelmetConstants.ATTRIBUTE_NAMES.BODY:\n\t        case _HelmetConstants.ATTRIBUTE_NAMES.HTML:\n\t            return {\n\t                toComponent: function toComponent() {\n\t                    return convertElementAttributestoReactProps(tags);\n\t                },\n\t                toString: function toString() {\n\t                    return generateElementAttributesAsString(tags);\n\t                }\n\t            };\n\t        default:\n\t            return {\n\t                toComponent: function toComponent() {\n\t                    return generateTagsAsReactComponent(type, tags);\n\t                },\n\t                toString: function toString() {\n\t                    return generateTagsAsString(type, tags, encode);\n\t                }\n\t            };\n\t    }\n\t};\n\t\n\tvar mapStateOnServer = function mapStateOnServer(_ref) {\n\t    var baseTag = _ref.baseTag,\n\t        bodyAttributes = _ref.bodyAttributes,\n\t        encode = _ref.encode,\n\t        htmlAttributes = _ref.htmlAttributes,\n\t        linkTags = _ref.linkTags,\n\t        metaTags = _ref.metaTags,\n\t        noscriptTags = _ref.noscriptTags,\n\t        scriptTags = _ref.scriptTags,\n\t        styleTags = _ref.styleTags,\n\t        _ref$title = _ref.title,\n\t        title = _ref$title === undefined ? \"\" : _ref$title,\n\t        titleAttributes = _ref.titleAttributes;\n\t    return {\n\t        base: getMethodsForTag(_HelmetConstants.TAG_NAMES.BASE, baseTag, encode),\n\t        bodyAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n\t        htmlAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n\t        link: getMethodsForTag(_HelmetConstants.TAG_NAMES.LINK, linkTags, encode),\n\t        meta: getMethodsForTag(_HelmetConstants.TAG_NAMES.META, metaTags, encode),\n\t        noscript: getMethodsForTag(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n\t        script: getMethodsForTag(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags, encode),\n\t        style: getMethodsForTag(_HelmetConstants.TAG_NAMES.STYLE, styleTags, encode),\n\t        title: getMethodsForTag(_HelmetConstants.TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n\t    };\n\t};\n\t\n\texports.convertReactPropstoHtmlAttributes = convertReactPropstoHtmlAttributes;\n\texports.handleClientStateChange = handleClientStateChange;\n\texports.mapStateOnServer = mapStateOnServer;\n\texports.reducePropsToState = reducePropsToState;\n\texports.requestAnimationFrame = requestAnimationFrame;\n\texports.warn = warn;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n\n/***/ 432:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _exenv = __webpack_require__(296);\n\t\n\tvar _exenv2 = _interopRequireDefault(_exenv);\n\t\n\tvar _shallowequal = __webpack_require__(447);\n\t\n\tvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tmodule.exports = function withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n\t  if (typeof reducePropsToState !== 'function') {\n\t    throw new Error('Expected reducePropsToState to be a function.');\n\t  }\n\t  if (typeof handleStateChangeOnClient !== 'function') {\n\t    throw new Error('Expected handleStateChangeOnClient to be a function.');\n\t  }\n\t  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n\t    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n\t  }\n\t\n\t  function getDisplayName(WrappedComponent) {\n\t    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\t  }\n\t\n\t  return function wrap(WrappedComponent) {\n\t    if (typeof WrappedComponent !== 'function') {\n\t      throw new Error('Expected WrappedComponent to be a React component.');\n\t    }\n\t\n\t    var mountedInstances = [];\n\t    var state = void 0;\n\t\n\t    function emitChange() {\n\t      state = reducePropsToState(mountedInstances.map(function (instance) {\n\t        return instance.props;\n\t      }));\n\t\n\t      if (SideEffect.canUseDOM) {\n\t        handleStateChangeOnClient(state);\n\t      } else if (mapStateOnServer) {\n\t        state = mapStateOnServer(state);\n\t      }\n\t    }\n\t\n\t    var SideEffect = function (_Component) {\n\t      _inherits(SideEffect, _Component);\n\t\n\t      function SideEffect() {\n\t        _classCallCheck(this, SideEffect);\n\t\n\t        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t      }\n\t\n\t      // Try to use displayName of wrapped component\n\t      SideEffect.peek = function peek() {\n\t        return state;\n\t      };\n\t\n\t      // Expose canUseDOM so tests can monkeypatch it\n\t\n\t\n\t      SideEffect.rewind = function rewind() {\n\t        if (SideEffect.canUseDOM) {\n\t          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n\t        }\n\t\n\t        var recordedState = state;\n\t        state = undefined;\n\t        mountedInstances = [];\n\t        return recordedState;\n\t      };\n\t\n\t      SideEffect.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n\t        return !(0, _shallowequal2.default)(nextProps, this.props);\n\t      };\n\t\n\t      SideEffect.prototype.componentWillMount = function componentWillMount() {\n\t        mountedInstances.push(this);\n\t        emitChange();\n\t      };\n\t\n\t      SideEffect.prototype.componentDidUpdate = function componentDidUpdate() {\n\t        emitChange();\n\t      };\n\t\n\t      SideEffect.prototype.componentWillUnmount = function componentWillUnmount() {\n\t        var index = mountedInstances.indexOf(this);\n\t        mountedInstances.splice(index, 1);\n\t        emitChange();\n\t      };\n\t\n\t      SideEffect.prototype.render = function render() {\n\t        return _react2.default.createElement(WrappedComponent, this.props);\n\t      };\n\t\n\t      return SideEffect;\n\t    }(_react.Component);\n\t\n\t    SideEffect.displayName = 'SideEffect(' + getDisplayName(WrappedComponent) + ')';\n\t    SideEffect.canUseDOM = _exenv2.default.canUseDOM;\n\t\n\t\n\t    return SideEffect;\n\t  };\n\t};\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _propTypes = __webpack_require__(1);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar pendingCalls = [];\n\tvar initialized = false;\n\t\n\tvar soundManager = void 0;\n\tif (typeof window !== 'undefined') {\n\t  soundManager = __webpack_require__(54).soundManager;\n\t\n\t  soundManager.onready(function () {\n\t    pendingCalls.slice().forEach(function (cb) {\n\t      return cb();\n\t    });\n\t  });\n\t}\n\t\n\tfunction _createSound(options, cb) {\n\t  if (soundManager.ok()) {\n\t    cb(soundManager.createSound(options));\n\t    return function () {};\n\t  } else {\n\t    if (!initialized) {\n\t      initialized = true;\n\t      soundManager.beginDelayedInit();\n\t    }\n\t\n\t    var call = function call() {\n\t      cb(soundManager.createSound(options));\n\t    };\n\t\n\t    pendingCalls.push(call);\n\t\n\t    return function () {\n\t      pendingCalls.splice(pendingCalls.indexOf(call), 1);\n\t    };\n\t  }\n\t}\n\t\n\tfunction noop() {}\n\t\n\tvar playStatuses = {\n\t  PLAYING: 'PLAYING',\n\t  STOPPED: 'STOPPED',\n\t  PAUSED: 'PAUSED'\n\t};\n\t\n\tvar Sound = function (_React$Component) {\n\t  _inherits(Sound, _React$Component);\n\t\n\t  function Sound() {\n\t    _classCallCheck(this, Sound);\n\t\n\t    return _possibleConstructorReturn(this, (Sound.__proto__ || Object.getPrototypeOf(Sound)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(Sound, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      var _this2 = this;\n\t\n\t      this.createSound(function (sound) {\n\t        if (_this2.props.playStatus === playStatuses.PLAYING) {\n\t          sound.play();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      this.removeSound();\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate(prevProps) {\n\t      var _this3 = this;\n\t\n\t      var withSound = function withSound(sound) {\n\t        if (!sound) {\n\t          return;\n\t        }\n\t\n\t        if (_this3.props.playStatus === playStatuses.PLAYING) {\n\t          if (sound.playState === 0) {\n\t            sound.play();\n\t          }\n\t\n\t          if (sound.paused) {\n\t            sound.resume();\n\t          }\n\t        } else if (_this3.props.playStatus === playStatuses.STOPPED) {\n\t          if (sound.playState !== 0) {\n\t            sound.stop();\n\t          }\n\t        } else {\n\t          // this.props.playStatus === playStatuses.PAUSED\n\t          if (!sound.paused) {\n\t            sound.pause();\n\t          }\n\t        }\n\t\n\t        if (_this3.props.playFromPosition !== prevProps.playFromPosition) {\n\t          sound.setPosition(_this3.props.playFromPosition);\n\t        }\n\t\n\t        if (_this3.props.position != null) {\n\t          if (sound.position !== _this3.props.position && Math.round(sound.position) !== Math.round(_this3.props.position)) {\n\t\n\t            sound.setPosition(_this3.props.position);\n\t          }\n\t        }\n\t\n\t        if (_this3.props.volume !== prevProps.volume) {\n\t          sound.setVolume(_this3.props.volume);\n\t        }\n\t      };\n\t\n\t      if (this.props.url !== prevProps.url) {\n\t        this.createSound(withSound);\n\t      } else {\n\t        withSound(this.sound);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'createSound',\n\t    value: function createSound(callback) {\n\t      var _this4 = this;\n\t\n\t      this.removeSound();\n\t\n\t      var props = this.props;\n\t      var that = this;\n\t\n\t      if (!props.url) {\n\t        return;\n\t      }\n\t\n\t      this.stopCreatingSound = _createSound({\n\t        url: this.props.url,\n\t        autoLoad: props.autoLoad,\n\t        volume: props.volume,\n\t        position: this.props.playFromPosition || this.props.position || 0,\n\t        whileloading: function whileloading() {\n\t          props.onLoading(this);\n\t        },\n\t        whileplaying: function whileplaying() {\n\t          props.onPlaying(this);\n\t        },\n\t        onerror: function onerror(errorCode, description) {\n\t          props.onError(errorCode, description, this);\n\t        },\n\t        onload: function onload() {\n\t          props.onLoad(this);\n\t        },\n\t        onpause: function onpause() {\n\t          props.onPause(this);\n\t        },\n\t        onresume: function onresume() {\n\t          props.onResume(this);\n\t        },\n\t        onstop: function onstop() {\n\t          props.onStop(this);\n\t        },\n\t        onfinish: function onfinish() {\n\t          if (that.props.loop && that.props.playStatus === playStatuses.PLAYING) {\n\t            that.sound.play();\n\t          } else {\n\t            props.onFinishedPlaying();\n\t          }\n\t        }\n\t      }, function (sound) {\n\t        _this4.sound = sound;\n\t        callback(sound);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'removeSound',\n\t    value: function removeSound() {\n\t      if (this.stopCreatingSound) {\n\t        this.stopCreatingSound();\n\t        delete this.stopCreatingSound;\n\t      }\n\t\n\t      if (this.sound) {\n\t        try {\n\t          this.sound.destruct();\n\t        } catch (e) {} // eslint-disable-line\n\t\n\t        delete this.sound;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      return null;\n\t    }\n\t  }]);\n\t\n\t  return Sound;\n\t}(_react2.default.Component);\n\t\n\tSound.status = playStatuses;\n\tSound.propTypes = {\n\t  url: _propTypes2.default.string.isRequired,\n\t  playStatus: _propTypes2.default.oneOf(Object.keys(playStatuses)).isRequired,\n\t  position: _propTypes2.default.number,\n\t  playFromPosition: _propTypes2.default.number,\n\t  volume: _propTypes2.default.number,\n\t  onError: _propTypes2.default.func,\n\t  onLoading: _propTypes2.default.func,\n\t  onLoad: _propTypes2.default.func,\n\t  onPlaying: _propTypes2.default.func,\n\t  onPause: _propTypes2.default.func,\n\t  onResume: _propTypes2.default.func,\n\t  onStop: _propTypes2.default.func,\n\t  onFinishedPlaying: _propTypes2.default.func,\n\t  autoLoad: _propTypes2.default.bool,\n\t  loop: _propTypes2.default.bool\n\t};\n\tSound.defaultProps = {\n\t  playFromPosition: 0,\n\t  volume: 100,\n\t  onError: noop,\n\t  onLoading: noop,\n\t  onPlaying: noop,\n\t  onLoad: noop,\n\t  onPause: noop,\n\t  onResume: noop,\n\t  onStop: noop,\n\t  onFinishedPlaying: noop,\n\t  autoLoad: false,\n\t  loop: false\n\t};\n\texports.default = Sound;\n\n/***/ }),\n\n/***/ 447:\n/***/ (function(module, exports) {\n\n\tmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n\t\n\t    var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\t\n\t    if(ret !== void 0) {\n\t        return !!ret;\n\t    }\n\t\n\t    if(objA === objB) {\n\t        return true;\n\t    }\n\t\n\t    if(typeof objA !== 'object' || !objA ||\n\t       typeof objB !== 'object' || !objB) {\n\t        return false;\n\t    }\n\t\n\t    var keysA = Object.keys(objA);\n\t    var keysB = Object.keys(objB);\n\t\n\t    if(keysA.length !== keysB.length) {\n\t        return false;\n\t    }\n\t\n\t    var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\t\n\t    // Test for A's keys different from B.\n\t    for(var idx = 0; idx < keysA.length; idx++) {\n\t\n\t        var key = keysA[idx];\n\t\n\t        if(!bHasOwnProperty(key)) {\n\t            return false;\n\t        }\n\t\n\t        var valueA = objA[key];\n\t        var valueB = objB[key];\n\t\n\t        ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\t\n\t        if(ret === false ||\n\t           ret === void 0 && valueA !== valueB) {\n\t            return false;\n\t        }\n\t\n\t    }\n\t\n\t    return true;\n\t\n\t};\n\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {/** @license\r\n\t *\r\n\t * SoundManager 2: JavaScript Sound for the Web\r\n\t * ----------------------------------------------\r\n\t * http://schillmania.com/projects/soundmanager2/\r\n\t *\r\n\t * Copyright (c) 2007, Scott Schiller. All rights reserved.\r\n\t * Code provided under the BSD License:\r\n\t * http://schillmania.com/projects/soundmanager2/license.txt\r\n\t *\r\n\t * V2.97a.20170601\r\n\t */\r\n\t\r\n\t/**\r\n\t * About this file\r\n\t * -------------------------------------------------------------------------------------\r\n\t * This is the fully-commented source version of the SoundManager 2 API,\r\n\t * recommended for use during development and testing.\r\n\t *\r\n\t * See soundmanager2-nodebug-jsmin.js for an optimized build (~11KB with gzip.)\r\n\t * http://schillmania.com/projects/soundmanager2/doc/getstarted/#basic-inclusion\r\n\t * Alternately, serve this file with gzip for 75% compression savings (~30KB over HTTP.)\r\n\t *\r\n\t * You may notice <d> and </d> comments in this source; these are delimiters for\r\n\t * debug blocks which are removed in the -nodebug builds, further optimizing code size.\r\n\t *\r\n\t * Also, as you may note: Whoa, reliable cross-platform/device audio support is hard! ;)\r\n\t */\r\n\t\r\n\t(function SM2(window, _undefined) {\r\n\t\r\n\t/* global Audio, document, window, navigator, define, module, SM2_DEFER, opera, setTimeout, setInterval, clearTimeout, sm2Debugger */\r\n\t\r\n\t'use strict';\r\n\t\r\n\tif (!window || !window.document) {\r\n\t\r\n\t  // Don't cross the [environment] streams. SM2 expects to be running in a browser, not under node.js etc.\r\n\t  // Additionally, if a browser somehow manages to fail this test, as Egon said: \"It would be bad.\"\r\n\t\r\n\t  throw new Error('SoundManager requires a browser with window and document objects.');\r\n\t\r\n\t}\r\n\t\r\n\tvar soundManager = null;\r\n\t\r\n\t/**\r\n\t * The SoundManager constructor.\r\n\t *\r\n\t * @constructor\r\n\t * @param {string} smURL Optional: Path to SWF files\r\n\t * @param {string} smID Optional: The ID to use for the SWF container element\r\n\t * @this {SoundManager}\r\n\t * @return {SoundManager} The new SoundManager instance\r\n\t */\r\n\t\r\n\tfunction SoundManager(smURL, smID) {\r\n\t\r\n\t  /**\r\n\t   * soundManager configuration options list\r\n\t   * defines top-level configuration properties to be applied to the soundManager instance (eg. soundManager.flashVersion)\r\n\t   * to set these properties, use the setup() method - eg., soundManager.setup({url: '/swf/', flashVersion: 9})\r\n\t   */\r\n\t\r\n\t  this.setupOptions = {\r\n\t\r\n\t    url: (smURL || null),             // path (directory) where SoundManager 2 SWFs exist, eg., /path/to/swfs/\r\n\t    flashVersion: 8,                  // flash build to use (8 or 9.) Some API features require 9.\r\n\t    debugMode: true,                  // enable debugging output (console.log() with HTML fallback)\r\n\t    debugFlash: false,                // enable debugging output inside SWF, troubleshoot Flash/browser issues\r\n\t    useConsole: true,                 // use console.log() if available (otherwise, writes to #soundmanager-debug element)\r\n\t    consoleOnly: true,                // if console is being used, do not create/write to #soundmanager-debug\r\n\t    waitForWindowLoad: false,         // force SM2 to wait for window.onload() before trying to call soundManager.onload()\r\n\t    bgColor: '#ffffff',               // SWF background color. N/A when wmode = 'transparent'\r\n\t    useHighPerformance: false,        // position:fixed flash movie can help increase js/flash speed, minimize lag\r\n\t    flashPollingInterval: null,       // msec affecting whileplaying/loading callback frequency. If null, default of 50 msec is used.\r\n\t    html5PollingInterval: null,       // msec affecting whileplaying() for HTML5 audio, excluding mobile devices. If null, native HTML5 update events are used.\r\n\t    flashLoadTimeout: 1000,           // msec to wait for flash movie to load before failing (0 = infinity)\r\n\t    wmode: null,                      // flash rendering mode - null, 'transparent', or 'opaque' (last two allow z-index to work)\r\n\t    allowScriptAccess: 'always',      // for scripting the SWF (object/embed property), 'always' or 'sameDomain'\r\n\t    useFlashBlock: false,             // *requires flashblock.css, see demos* - allow recovery from flash blockers. Wait indefinitely and apply timeout CSS to SWF, if applicable.\r\n\t    useHTML5Audio: true,              // use HTML5 Audio() where API is supported (most Safari, Chrome versions), Firefox (MP3/MP4 support varies.) Ideally, transparent vs. Flash API where possible.\r\n\t    forceUseGlobalHTML5Audio: false,  // if true, a single Audio() object is used for all sounds - and only one can play at a time.\r\n\t    ignoreMobileRestrictions: false,  // if true, SM2 will not apply global HTML5 audio rules to mobile UAs. iOS > 7 and WebViews may allow multiple Audio() instances.\r\n\t    html5Test: /^(probably|maybe)$/i, // HTML5 Audio() format support test. Use /^probably$/i; if you want to be more conservative.\r\n\t    preferFlash: false,               // overrides useHTML5audio, will use Flash for MP3/MP4/AAC if present. Potential option if HTML5 playback with these formats is quirky.\r\n\t    noSWFCache: false,                // if true, appends ?ts={date} to break aggressive SWF caching.\r\n\t    idPrefix: 'sound'                 // if an id is not provided to createSound(), this prefix is used for generated IDs - 'sound0', 'sound1' etc.\r\n\t\r\n\t  };\r\n\t\r\n\t  this.defaultOptions = {\r\n\t\r\n\t    /**\r\n\t     * the default configuration for sound objects made with createSound() and related methods\r\n\t     * eg., volume, auto-load behaviour and so forth\r\n\t     */\r\n\t\r\n\t    autoLoad: false,        // enable automatic loading (otherwise .load() will be called on demand with .play(), the latter being nicer on bandwidth - if you want to .load yourself, you also can)\r\n\t    autoPlay: false,        // enable playing of file as soon as possible (much faster if \"stream\" is true)\r\n\t    from: null,             // position to start playback within a sound (msec), default = beginning\r\n\t    loops: 1,               // how many times to repeat the sound (position will wrap around to 0, setPosition() will break out of loop when >0)\r\n\t    onid3: null,            // callback function for \"ID3 data is added/available\"\r\n\t    onerror: null,          // callback function for \"load failed\" (or, playback/network/decode error under HTML5.)\r\n\t    onload: null,           // callback function for \"load finished\"\r\n\t    whileloading: null,     // callback function for \"download progress update\" (X of Y bytes received)\r\n\t    onplay: null,           // callback for \"play\" start\r\n\t    onpause: null,          // callback for \"pause\"\r\n\t    onresume: null,         // callback for \"resume\" (pause toggle)\r\n\t    whileplaying: null,     // callback during play (position update)\r\n\t    onposition: null,       // object containing times and function callbacks for positions of interest\r\n\t    onstop: null,           // callback for \"user stop\"\r\n\t    onfinish: null,         // callback function for \"sound finished playing\"\r\n\t    multiShot: true,        // let sounds \"restart\" or layer on top of each other when played multiple times, rather than one-shot/one at a time\r\n\t    multiShotEvents: false, // fire multiple sound events (currently onfinish() only) when multiShot is enabled\r\n\t    position: null,         // offset (milliseconds) to seek to within loaded sound data.\r\n\t    pan: 0,                 // \"pan\" settings, left-to-right, -100 to 100\r\n\t    playbackRate: 1,        // rate at which to play the sound (HTML5-only)\r\n\t    stream: true,           // allows playing before entire file has loaded (recommended)\r\n\t    to: null,               // position to end playback within a sound (msec), default = end\r\n\t    type: null,             // MIME-like hint for file pattern / canPlay() tests, eg. audio/mp3\r\n\t    usePolicyFile: false,   // enable crossdomain.xml request for audio on remote domains (for ID3/waveform access)\r\n\t    volume: 100             // self-explanatory. 0-100, the latter being the max.\r\n\t\r\n\t  };\r\n\t\r\n\t  this.flash9Options = {\r\n\t\r\n\t    /**\r\n\t     * flash 9-only options,\r\n\t     * merged into defaultOptions if flash 9 is being used\r\n\t     */\r\n\t\r\n\t    onfailure: null,        // callback function for when playing fails (Flash 9, MovieStar + RTMP-only)\r\n\t    isMovieStar: null,      // \"MovieStar\" MPEG4 audio mode. Null (default) = auto detect MP4, AAC etc. based on URL. true = force on, ignore URL\r\n\t    usePeakData: false,     // enable left/right channel peak (level) data\r\n\t    useWaveformData: false, // enable sound spectrum (raw waveform data) - NOTE: May increase CPU load.\r\n\t    useEQData: false,       // enable sound EQ (frequency spectrum data) - NOTE: May increase CPU load.\r\n\t    onbufferchange: null,   // callback for \"isBuffering\" property change\r\n\t    ondataerror: null       // callback for waveform/eq data access error (flash playing audio in other tabs/domains)\r\n\t\r\n\t  };\r\n\t\r\n\t  this.movieStarOptions = {\r\n\t\r\n\t    /**\r\n\t     * flash 9.0r115+ MPEG4 audio options,\r\n\t     * merged into defaultOptions if flash 9+movieStar mode is enabled\r\n\t     */\r\n\t\r\n\t    bufferTime: 3,          // seconds of data to buffer before playback begins (null = flash default of 0.1 seconds - if AAC playback is gappy, try increasing.)\r\n\t    serverURL: null,        // rtmp: FMS or FMIS server to connect to, required when requesting media via RTMP or one of its variants\r\n\t    onconnect: null,        // rtmp: callback for connection to flash media server\r\n\t    duration: null          // rtmp: song duration (msec)\r\n\t\r\n\t  };\r\n\t\r\n\t  this.audioFormats = {\r\n\t\r\n\t    /**\r\n\t     * determines HTML5 support + flash requirements.\r\n\t     * if no support (via flash and/or HTML5) for a \"required\" format, SM2 will fail to start.\r\n\t     * flash fallback is used for MP3 or MP4 if HTML5 can't play it (or if preferFlash = true)\r\n\t     */\r\n\t\r\n\t    mp3: {\r\n\t      type: ['audio/mpeg; codecs=\"mp3\"', 'audio/mpeg', 'audio/mp3', 'audio/MPA', 'audio/mpa-robust'],\r\n\t      required: true\r\n\t    },\r\n\t\r\n\t    mp4: {\r\n\t      related: ['aac', 'm4a', 'm4b'], // additional formats under the MP4 container\r\n\t      type: ['audio/mp4; codecs=\"mp4a.40.2\"', 'audio/aac', 'audio/x-m4a', 'audio/MP4A-LATM', 'audio/mpeg4-generic'],\r\n\t      required: false\r\n\t    },\r\n\t\r\n\t    ogg: {\r\n\t      type: ['audio/ogg; codecs=vorbis'],\r\n\t      required: false\r\n\t    },\r\n\t\r\n\t    opus: {\r\n\t      type: ['audio/ogg; codecs=opus', 'audio/opus'],\r\n\t      required: false\r\n\t    },\r\n\t\r\n\t    wav: {\r\n\t      type: ['audio/wav; codecs=\"1\"', 'audio/wav', 'audio/wave', 'audio/x-wav'],\r\n\t      required: false\r\n\t    },\r\n\t\r\n\t    flac: {\r\n\t      type: ['audio/flac'],\r\n\t      required: false\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  // HTML attributes (id + class names) for the SWF container\r\n\t\r\n\t  this.movieID = 'sm2-container';\r\n\t  this.id = (smID || 'sm2movie');\r\n\t\r\n\t  this.debugID = 'soundmanager-debug';\r\n\t  this.debugURLParam = /([#?&])debug=1/i;\r\n\t\r\n\t  // dynamic attributes\r\n\t\r\n\t  this.versionNumber = 'V2.97a.20170601';\r\n\t  this.version = null;\r\n\t  this.movieURL = null;\r\n\t  this.altURL = null;\r\n\t  this.swfLoaded = false;\r\n\t  this.enabled = false;\r\n\t  this.oMC = null;\r\n\t  this.sounds = {};\r\n\t  this.soundIDs = [];\r\n\t  this.muted = false;\r\n\t  this.didFlashBlock = false;\r\n\t  this.filePattern = null;\r\n\t\r\n\t  this.filePatterns = {\r\n\t    flash8: /\\.mp3(\\?.*)?$/i,\r\n\t    flash9: /\\.mp3(\\?.*)?$/i\r\n\t  };\r\n\t\r\n\t  // support indicators, set at init\r\n\t\r\n\t  this.features = {\r\n\t    buffering: false,\r\n\t    peakData: false,\r\n\t    waveformData: false,\r\n\t    eqData: false,\r\n\t    movieStar: false\r\n\t  };\r\n\t\r\n\t  // flash sandbox info, used primarily in troubleshooting\r\n\t\r\n\t  this.sandbox = {\r\n\t    // <d>\r\n\t    type: null,\r\n\t    types: {\r\n\t      remote: 'remote (domain-based) rules',\r\n\t      localWithFile: 'local with file access (no internet access)',\r\n\t      localWithNetwork: 'local with network (internet access only, no local access)',\r\n\t      localTrusted: 'local, trusted (local+internet access)'\r\n\t    },\r\n\t    description: null,\r\n\t    noRemote: null,\r\n\t    noLocal: null\r\n\t    // </d>\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * format support (html5/flash)\r\n\t   * stores canPlayType() results based on audioFormats.\r\n\t   * eg. { mp3: boolean, mp4: boolean }\r\n\t   * treat as read-only.\r\n\t   */\r\n\t\r\n\t  this.html5 = {\r\n\t    usingFlash: null // set if/when flash fallback is needed\r\n\t  };\r\n\t\r\n\t  // file type support hash\r\n\t  this.flash = {};\r\n\t\r\n\t  // determined at init time\r\n\t  this.html5Only = false;\r\n\t\r\n\t  // used for special cases (eg. iPad/iPhone/palm OS?)\r\n\t  this.ignoreFlash = false;\r\n\t\r\n\t  /**\r\n\t   * a few private internals (OK, a lot. :D)\r\n\t   */\r\n\t\r\n\t  var SMSound,\r\n\t  sm2 = this, globalHTML5Audio = null, flash = null, sm = 'soundManager', smc = sm + ': ', h5 = 'HTML5::', id, ua = navigator.userAgent, wl = window.location.href.toString(), doc = document, doNothing, setProperties, init, fV, on_queue = [], debugOpen = true, debugTS, didAppend = false, appendSuccess = false, didInit = false, disabled = false, windowLoaded = false, _wDS, wdCount = 0, initComplete, mixin, assign, extraOptions, addOnEvent, processOnEvents, initUserOnload, delayWaitForEI, waitForEI, rebootIntoHTML5, setVersionInfo, handleFocus, strings, initMovie, domContentLoaded, winOnLoad, didDCLoaded, getDocument, createMovie, catchError, setPolling, initDebug, debugLevels = ['log', 'info', 'warn', 'error'], defaultFlashVersion = 8, disableObject, failSafely, normalizeMovieURL, oRemoved = null, oRemovedHTML = null, str, flashBlockHandler, getSWFCSS, swfCSS, toggleDebug, loopFix, policyFix, complain, idCheck, waitingForEI = false, initPending = false, startTimer, stopTimer, timerExecute, h5TimerCount = 0, h5IntervalTimer = null, parseURL, messages = [],\r\n\t  canIgnoreFlash, needsFlash = null, featureCheck, html5OK, html5CanPlay, html5ErrorCodes, html5Ext, html5Unload, domContentLoadedIE, testHTML5, event, slice = Array.prototype.slice, useGlobalHTML5Audio = false, lastGlobalHTML5URL, hasFlash, detectFlash, badSafariFix, html5_events, showSupport, flushMessages, wrapCallback, idCounter = 0, didSetup, msecScale = 1000,\r\n\t  is_iDevice = ua.match(/(ipad|iphone|ipod)/i), isAndroid = ua.match(/android/i), isIE = ua.match(/msie|trident/i),\r\n\t  isWebkit = ua.match(/webkit/i),\r\n\t  isSafari = (ua.match(/safari/i) && !ua.match(/chrome/i)),\r\n\t  isOpera = (ua.match(/opera/i)),\r\n\t  mobileHTML5 = (ua.match(/(mobile|pre\\/|xoom)/i) || is_iDevice || isAndroid),\r\n\t  isBadSafari = (!wl.match(/usehtml5audio/i) && !wl.match(/sm2-ignorebadua/i) && isSafari && !ua.match(/silk/i) && ua.match(/OS\\sX\\s10_6_([3-7])/i)), // Safari 4 and 5 (excluding Kindle Fire, \"Silk\") occasionally fail to load/play HTML5 audio on Snow Leopard 10.6.3 through 10.6.7 due to bug(s) in QuickTime X and/or other underlying frameworks. :/ Confirmed bug. https://bugs.webkit.org/show_bug.cgi?id=32159\r\n\t  hasConsole = (window.console !== _undefined && console.log !== _undefined),\r\n\t  isFocused = (doc.hasFocus !== _undefined ? doc.hasFocus() : null),\r\n\t  tryInitOnFocus = (isSafari && (doc.hasFocus === _undefined || !doc.hasFocus())),\r\n\t  okToDisable = !tryInitOnFocus,\r\n\t  flashMIME = /(mp3|mp4|mpa|m4a|m4b)/i,\r\n\t  emptyURL = 'about:blank', // safe URL to unload, or load nothing from (flash 8 + most HTML5 UAs)\r\n\t  emptyWAV = 'data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==', // tiny WAV for HTML5 unloading\r\n\t  overHTTP = (doc.location ? doc.location.protocol.match(/http/i) : null),\r\n\t  http = (!overHTTP ? '//' : ''),\r\n\t  // mp3, mp4, aac etc.\r\n\t  netStreamMimeTypes = /^\\s*audio\\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\\s*(?:$|;)/i,\r\n\t  // Flash v9.0r115+ \"moviestar\" formats\r\n\t  netStreamTypes = ['mpeg4', 'aac', 'flv', 'mov', 'mp4', 'm4v', 'f4v', 'm4a', 'm4b', 'mp4v', '3gp', '3g2'],\r\n\t  netStreamPattern = new RegExp('\\\\.(' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n\t\r\n\t  this.mimePattern = /^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i; // default mp3 set\r\n\t\r\n\t  // use altURL if not \"online\"\r\n\t  this.useAltURL = !overHTTP;\r\n\t\r\n\t  swfCSS = {\r\n\t    swfBox: 'sm2-object-box',\r\n\t    swfDefault: 'movieContainer',\r\n\t    swfError: 'swf_error', // SWF loaded, but SM2 couldn't start (other error)\r\n\t    swfTimedout: 'swf_timedout',\r\n\t    swfLoaded: 'swf_loaded',\r\n\t    swfUnblocked: 'swf_unblocked', // or loaded OK\r\n\t    sm2Debug: 'sm2_debug',\r\n\t    highPerf: 'high_performance',\r\n\t    flashDebug: 'flash_debug'\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * HTML5 error codes, per W3C\r\n\t   * Error code 1, MEDIA_ERR_ABORTED: Client aborted download at user's request.\r\n\t   * Error code 2, MEDIA_ERR_NETWORK: A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.\r\n\t   * Error code 3, MEDIA_ERR_DECODE: An error of some description occurred while decoding the media resource, after the resource was established to be usable.\r\n\t   * Error code 4, MEDIA_ERR_SRC_NOT_SUPPORTED: Media (audio file) not supported (\"not usable.\")\r\n\t   * Reference: https://html.spec.whatwg.org/multipage/embedded-content.html#error-codes\r\n\t   */\r\n\t  html5ErrorCodes = [\r\n\t    null,\r\n\t    'MEDIA_ERR_ABORTED',\r\n\t    'MEDIA_ERR_NETWORK',\r\n\t    'MEDIA_ERR_DECODE',\r\n\t    'MEDIA_ERR_SRC_NOT_SUPPORTED'\r\n\t  ];\r\n\t\r\n\t  /**\r\n\t   * basic HTML5 Audio() support test\r\n\t   * try...catch because of IE 9 \"not implemented\" nonsense\r\n\t   * https://github.com/Modernizr/Modernizr/issues/224\r\n\t   */\r\n\t\r\n\t  this.hasHTML5 = (function() {\r\n\t    try {\r\n\t      // new Audio(null) for stupid Opera 9.64 case, which throws not_enough_arguments exception otherwise.\r\n\t      return (Audio !== _undefined && (isOpera && opera !== _undefined && opera.version() < 10 ? new Audio(null) : new Audio()).canPlayType !== _undefined);\r\n\t    } catch(e) {\r\n\t      return false;\r\n\t    }\r\n\t  }());\r\n\t\r\n\t  /**\r\n\t   * Public SoundManager API\r\n\t   * -----------------------\r\n\t   */\r\n\t\r\n\t  /**\r\n\t   * Configures top-level soundManager properties.\r\n\t   *\r\n\t   * @param {object} options Option parameters, eg. { flashVersion: 9, url: '/path/to/swfs/' }\r\n\t   * onready and ontimeout are also accepted parameters. call soundManager.setup() to see the full list.\r\n\t   */\r\n\t\r\n\t  this.setup = function(options) {\r\n\t\r\n\t    var noURL = (!sm2.url);\r\n\t\r\n\t    // warn if flash options have already been applied\r\n\t\r\n\t    if (options !== _undefined && didInit && needsFlash && sm2.ok() && (options.flashVersion !== _undefined || options.url !== _undefined || options.html5Test !== _undefined)) {\r\n\t      complain(str('setupLate'));\r\n\t    }\r\n\t\r\n\t    // TODO: defer: true?\r\n\t\r\n\t    assign(options);\r\n\t\r\n\t    if (!useGlobalHTML5Audio) {\r\n\t\r\n\t      if (mobileHTML5) {\r\n\t\r\n\t        // force the singleton HTML5 pattern on mobile, by default.\r\n\t        if (!sm2.setupOptions.ignoreMobileRestrictions || sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n\t          messages.push(strings.globalHTML5);\r\n\t          useGlobalHTML5Audio = true;\r\n\t        }\r\n\t\r\n\t      } else if (sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n\t\r\n\t        // only apply singleton HTML5 on desktop if forced.\r\n\t        messages.push(strings.globalHTML5);\r\n\t        useGlobalHTML5Audio = true;\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    if (!didSetup && mobileHTML5) {\r\n\t\r\n\t      if (sm2.setupOptions.ignoreMobileRestrictions) {\r\n\t\r\n\t        messages.push(strings.ignoreMobile);\r\n\t\r\n\t      } else {\r\n\t\r\n\t        // prefer HTML5 for mobile + tablet-like devices, probably more reliable vs. flash at this point.\r\n\t\r\n\t        // <d>\r\n\t        if (!sm2.setupOptions.useHTML5Audio || sm2.setupOptions.preferFlash) {\r\n\t          // notify that defaults are being changed.\r\n\t          sm2._wD(strings.mobileUA);\r\n\t        }\r\n\t        // </d>\r\n\t\r\n\t        sm2.setupOptions.useHTML5Audio = true;\r\n\t        sm2.setupOptions.preferFlash = false;\r\n\t\r\n\t        if (is_iDevice) {\r\n\t\r\n\t          // no flash here.\r\n\t          sm2.ignoreFlash = true;\r\n\t\r\n\t        } else if ((isAndroid && !ua.match(/android\\s2\\.3/i)) || !isAndroid) {\r\n\t\r\n\t          /**\r\n\t           * Android devices tend to work better with a single audio instance, specifically for chained playback of sounds in sequence.\r\n\t           * Common use case: exiting sound onfinish() -> createSound() -> play()\r\n\t           * Presuming similar restrictions for other mobile, non-Android, non-iOS devices.\r\n\t           */\r\n\t\r\n\t          // <d>\r\n\t          sm2._wD(strings.globalHTML5);\r\n\t          // </d>\r\n\t\r\n\t          useGlobalHTML5Audio = true;\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    // special case 1: \"Late setup\". SM2 loaded normally, but user didn't assign flash URL eg., setup({url:...}) before SM2 init. Treat as delayed init.\r\n\t\r\n\t    if (options) {\r\n\t\r\n\t      if (noURL && didDCLoaded && options.url !== _undefined) {\r\n\t        sm2.beginDelayedInit();\r\n\t      }\r\n\t\r\n\t      // special case 2: If lazy-loading SM2 (DOMContentLoaded has already happened) and user calls setup() with url: parameter, try to init ASAP.\r\n\t\r\n\t      if (!didDCLoaded && options.url !== _undefined && doc.readyState === 'complete') {\r\n\t        setTimeout(domContentLoaded, 1);\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    didSetup = true;\r\n\t\r\n\t    return sm2;\r\n\t\r\n\t  };\r\n\t\r\n\t  this.ok = function() {\r\n\t\r\n\t    return (needsFlash ? (didInit && !disabled) : (sm2.useHTML5Audio && sm2.hasHTML5));\r\n\t\r\n\t  };\r\n\t\r\n\t  this.supported = this.ok; // legacy\r\n\t\r\n\t  this.getMovie = function(movie_id) {\r\n\t\r\n\t    // safety net: some old browsers differ on SWF references, possibly related to ExternalInterface / flash version\r\n\t    return id(movie_id) || doc[movie_id] || window[movie_id];\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Creates a SMSound sound object instance. Can also be overloaded, e.g., createSound('mySound', '/some.mp3');\r\n\t   *\r\n\t   * @param {object} oOptions Sound options (at minimum, url parameter is required.)\r\n\t   * @return {object} SMSound The new SMSound object.\r\n\t   */\r\n\t\r\n\t  this.createSound = function(oOptions, _url) {\r\n\t\r\n\t    var cs, cs_string, options, oSound = null;\r\n\t\r\n\t    // <d>\r\n\t    cs = sm + '.createSound(): ';\r\n\t    cs_string = cs + str(!didInit ? 'notReady' : 'notOK');\r\n\t    // </d>\r\n\t\r\n\t    if (!didInit || !sm2.ok()) {\r\n\t      complain(cs_string);\r\n\t      return false;\r\n\t    }\r\n\t\r\n\t    if (_url !== _undefined) {\r\n\t      // function overloading in JS! :) ... assume simple createSound(id, url) use case.\r\n\t      oOptions = {\r\n\t        id: oOptions,\r\n\t        url: _url\r\n\t      };\r\n\t    }\r\n\t\r\n\t    // inherit from defaultOptions\r\n\t    options = mixin(oOptions);\r\n\t\r\n\t    options.url = parseURL(options.url);\r\n\t\r\n\t    // generate an id, if needed.\r\n\t    if (options.id === _undefined) {\r\n\t      options.id = sm2.setupOptions.idPrefix + (idCounter++);\r\n\t    }\r\n\t\r\n\t    // <d>\r\n\t    if (options.id.toString().charAt(0).match(/^[0-9]$/)) {\r\n\t      sm2._wD(cs + str('badID', options.id), 2);\r\n\t    }\r\n\t\r\n\t    sm2._wD(cs + options.id + (options.url ? ' (' + options.url + ')' : ''), 1);\r\n\t    // </d>\r\n\t\r\n\t    if (idCheck(options.id, true)) {\r\n\t      sm2._wD(cs + options.id + ' exists', 1);\r\n\t      return sm2.sounds[options.id];\r\n\t    }\r\n\t\r\n\t    function make() {\r\n\t\r\n\t      options = loopFix(options);\r\n\t      sm2.sounds[options.id] = new SMSound(options);\r\n\t      sm2.soundIDs.push(options.id);\r\n\t      return sm2.sounds[options.id];\r\n\t\r\n\t    }\r\n\t\r\n\t    if (html5OK(options)) {\r\n\t\r\n\t      oSound = make();\r\n\t      // <d>\r\n\t      if (!sm2.html5Only) {\r\n\t        sm2._wD(options.id + ': Using HTML5');\r\n\t      }\r\n\t      // </d>\r\n\t      oSound._setup_html5(options);\r\n\t\r\n\t    } else {\r\n\t\r\n\t      if (sm2.html5Only) {\r\n\t        sm2._wD(options.id + ': No HTML5 support for this sound, and no Flash. Exiting.');\r\n\t        return make();\r\n\t      }\r\n\t\r\n\t      // TODO: Move HTML5/flash checks into generic URL parsing/handling function.\r\n\t\r\n\t      if (sm2.html5.usingFlash && options.url && options.url.match(/data:/i)) {\r\n\t        // data: URIs not supported by Flash, either.\r\n\t        sm2._wD(options.id + ': data: URIs not supported via Flash. Exiting.');\r\n\t        return make();\r\n\t      }\r\n\t\r\n\t      if (fV > 8) {\r\n\t        if (options.isMovieStar === null) {\r\n\t          // attempt to detect MPEG-4 formats\r\n\t          options.isMovieStar = !!(options.serverURL || (options.type ? options.type.match(netStreamMimeTypes) : false) || (options.url && options.url.match(netStreamPattern)));\r\n\t        }\r\n\t        // <d>\r\n\t        if (options.isMovieStar) {\r\n\t          sm2._wD(cs + 'using MovieStar handling');\r\n\t          if (options.loops > 1) {\r\n\t            _wDS('noNSLoop');\r\n\t          }\r\n\t        }\r\n\t        // </d>\r\n\t      }\r\n\t\r\n\t      options = policyFix(options, cs);\r\n\t      oSound = make();\r\n\t\r\n\t      if (fV === 8) {\r\n\t        flash._createSound(options.id, options.loops || 1, options.usePolicyFile);\r\n\t      } else {\r\n\t        flash._createSound(options.id, options.url, options.usePeakData, options.useWaveformData, options.useEQData, options.isMovieStar, (options.isMovieStar ? options.bufferTime : false), options.loops || 1, options.serverURL, options.duration || null, options.autoPlay, true, options.autoLoad, options.usePolicyFile);\r\n\t        if (!options.serverURL) {\r\n\t          // We are connected immediately\r\n\t          oSound.connected = true;\r\n\t          if (options.onconnect) {\r\n\t            options.onconnect.apply(oSound);\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t\r\n\t      if (!options.serverURL && (options.autoLoad || options.autoPlay)) {\r\n\t        // call load for non-rtmp streams\r\n\t        oSound.load(options);\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    // rtmp will play in onconnect\r\n\t    if (!options.serverURL && options.autoPlay) {\r\n\t      oSound.play();\r\n\t    }\r\n\t\r\n\t    return oSound;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Destroys a SMSound sound object instance.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound to destroy\r\n\t   */\r\n\t\r\n\t  this.destroySound = function(sID, _bFromSound) {\r\n\t\r\n\t    // explicitly destroy a sound before normal page unload, etc.\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    var oS = sm2.sounds[sID], i;\r\n\t\r\n\t    oS.stop();\r\n\t\r\n\t    // Disable all callbacks after stop(), when the sound is being destroyed\r\n\t    oS._iO = {};\r\n\t\r\n\t    oS.unload();\r\n\t\r\n\t    for (i = 0; i < sm2.soundIDs.length; i++) {\r\n\t      if (sm2.soundIDs[i] === sID) {\r\n\t        sm2.soundIDs.splice(i, 1);\r\n\t        break;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    if (!_bFromSound) {\r\n\t      // ignore if being called from SMSound instance\r\n\t      oS.destruct(true);\r\n\t    }\r\n\t\r\n\t    oS = null;\r\n\t    delete sm2.sounds[sID];\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the load() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @param {object} oOptions Optional: Sound options\r\n\t   */\r\n\t\r\n\t  this.load = function(sID, oOptions) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].load(oOptions);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the unload() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   */\r\n\t\r\n\t  this.unload = function(sID) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].unload();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the onPosition() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @param {number} nPosition The position to watch for\r\n\t   * @param {function} oMethod The relevant callback to fire\r\n\t   * @param {object} oScope Optional: The scope to apply the callback to\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.onPosition = function(sID, nPosition, oMethod, oScope) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].onposition(nPosition, oMethod, oScope);\r\n\t\r\n\t  };\r\n\t\r\n\t  // legacy/backwards-compability: lower-case method name\r\n\t  this.onposition = this.onPosition;\r\n\t\r\n\t  /**\r\n\t   * Calls the clearOnPosition() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @param {number} nPosition The position to watch for\r\n\t   * @param {function} oMethod Optional: The relevant callback to fire\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.clearOnPosition = function(sID, nPosition, oMethod) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].clearOnPosition(nPosition, oMethod);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the play() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @param {object} oOptions Optional: Sound options\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.play = function(sID, oOptions) {\r\n\t\r\n\t    var result = null,\r\n\t        // legacy function-overloading use case: play('mySound', '/path/to/some.mp3');\r\n\t        overloaded = (oOptions && !(oOptions instanceof Object));\r\n\t\r\n\t    if (!didInit || !sm2.ok()) {\r\n\t      complain(sm + '.play(): ' + str(!didInit ? 'notReady' : 'notOK'));\r\n\t      return false;\r\n\t    }\r\n\t\r\n\t    if (!idCheck(sID, overloaded)) {\r\n\t\r\n\t      // no sound found for the given ID. Bail.\r\n\t      if (!overloaded) return false;\r\n\t\r\n\t      if (overloaded) {\r\n\t        oOptions = {\r\n\t          url: oOptions\r\n\t        };\r\n\t      }\r\n\t\r\n\t      if (oOptions && oOptions.url) {\r\n\t        // overloading use case, create+play: .play('someID', {url:'/path/to.mp3'});\r\n\t        sm2._wD(sm + '.play(): Attempting to create \"' + sID + '\"', 1);\r\n\t        oOptions.id = sID;\r\n\t        result = sm2.createSound(oOptions).play();\r\n\t      }\r\n\t\r\n\t    } else if (overloaded) {\r\n\t\r\n\t      // existing sound object case\r\n\t      oOptions = {\r\n\t        url: oOptions\r\n\t      };\r\n\t\r\n\t    }\r\n\t\r\n\t    if (result === null) {\r\n\t      // default case\r\n\t      result = sm2.sounds[sID].play(oOptions);\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  // just for convenience\r\n\t  this.start = this.play;\r\n\t\r\n\t  /**\r\n\t   * Calls the setPlaybackRate() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.setPlaybackRate = function(sID, rate, allowOverride) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].setPlaybackRate(rate, allowOverride);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the setPosition() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @param {number} nMsecOffset Position (milliseconds)\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.setPosition = function(sID, nMsecOffset) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].setPosition(nMsecOffset);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the stop() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.stop = function(sID) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    sm2._wD(sm + '.stop(' + sID + ')', 1);\r\n\t\r\n\t    return sm2.sounds[sID].stop();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Stops all currently-playing sounds.\r\n\t   */\r\n\t\r\n\t  this.stopAll = function() {\r\n\t\r\n\t    var oSound;\r\n\t    sm2._wD(sm + '.stopAll()', 1);\r\n\t\r\n\t    for (oSound in sm2.sounds) {\r\n\t      if (sm2.sounds.hasOwnProperty(oSound)) {\r\n\t        // apply only to sound objects\r\n\t        sm2.sounds[oSound].stop();\r\n\t      }\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the pause() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.pause = function(sID) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].pause();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Pauses all currently-playing sounds.\r\n\t   */\r\n\t\r\n\t  this.pauseAll = function() {\r\n\t\r\n\t    var i;\r\n\t    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\t      sm2.sounds[sm2.soundIDs[i]].pause();\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the resume() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.resume = function(sID) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].resume();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Resumes all currently-paused sounds.\r\n\t   */\r\n\t\r\n\t  this.resumeAll = function() {\r\n\t\r\n\t    var i;\r\n\t    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\t      sm2.sounds[sm2.soundIDs[i]].resume();\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the togglePause() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.togglePause = function(sID) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].togglePause();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the setPan() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @param {number} nPan The pan value (-100 to 100)\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.setPan = function(sID, nPan) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].setPan(nPan);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the setVolume() method of a SMSound object by ID\r\n\t   * Overloaded case: pass only volume argument eg., setVolume(50) to apply to all sounds.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @param {number} nVol The volume value (0 to 100)\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.setVolume = function(sID, nVol) {\r\n\t\r\n\t    // setVolume(50) function overloading case - apply to all sounds\r\n\t\r\n\t    var i, j;\r\n\t\r\n\t    if (sID !== _undefined && !isNaN(sID) && nVol === _undefined) {\r\n\t      for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n\t        sm2.sounds[sm2.soundIDs[i]].setVolume(sID);\r\n\t      }\r\n\t      return false;\r\n\t    }\r\n\t\r\n\t    // setVolume('mySound', 50) case\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].setVolume(nVol);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the mute() method of either a single SMSound object by ID, or all sound objects.\r\n\t   *\r\n\t   * @param {string} sID Optional: The ID of the sound (if omitted, all sounds will be used.)\r\n\t   */\r\n\t\r\n\t  this.mute = function(sID) {\r\n\t\r\n\t    var i = 0;\r\n\t\r\n\t    if (sID instanceof String) {\r\n\t      sID = null;\r\n\t    }\r\n\t\r\n\t    if (!sID) {\r\n\t\r\n\t      sm2._wD(sm + '.mute(): Muting all sounds');\r\n\t      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\t        sm2.sounds[sm2.soundIDs[i]].mute();\r\n\t      }\r\n\t      sm2.muted = true;\r\n\t\r\n\t    } else {\r\n\t\r\n\t      if (!idCheck(sID)) return false;\r\n\t\r\n\t      sm2._wD(sm + '.mute(): Muting \"' + sID + '\"');\r\n\t      return sm2.sounds[sID].mute();\r\n\t\r\n\t    }\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Mutes all sounds.\r\n\t   */\r\n\t\r\n\t  this.muteAll = function() {\r\n\t\r\n\t    sm2.mute();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the unmute() method of either a single SMSound object by ID, or all sound objects.\r\n\t   *\r\n\t   * @param {string} sID Optional: The ID of the sound (if omitted, all sounds will be used.)\r\n\t   */\r\n\t\r\n\t  this.unmute = function(sID) {\r\n\t\r\n\t    var i;\r\n\t\r\n\t    if (sID instanceof String) {\r\n\t      sID = null;\r\n\t    }\r\n\t\r\n\t    if (!sID) {\r\n\t\r\n\t      sm2._wD(sm + '.unmute(): Unmuting all sounds');\r\n\t      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\t        sm2.sounds[sm2.soundIDs[i]].unmute();\r\n\t      }\r\n\t      sm2.muted = false;\r\n\t\r\n\t    } else {\r\n\t\r\n\t      if (!idCheck(sID)) return false;\r\n\t\r\n\t      sm2._wD(sm + '.unmute(): Unmuting \"' + sID + '\"');\r\n\t\r\n\t      return sm2.sounds[sID].unmute();\r\n\t\r\n\t    }\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Unmutes all sounds.\r\n\t   */\r\n\t\r\n\t  this.unmuteAll = function() {\r\n\t\r\n\t    sm2.unmute();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Calls the toggleMute() method of a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.toggleMute = function(sID) {\r\n\t\r\n\t    if (!idCheck(sID)) return false;\r\n\t\r\n\t    return sm2.sounds[sID].toggleMute();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Retrieves the memory used by the flash plugin.\r\n\t   *\r\n\t   * @return {number} The amount of memory in use\r\n\t   */\r\n\t\r\n\t  this.getMemoryUse = function() {\r\n\t\r\n\t    // flash-only\r\n\t    var ram = 0;\r\n\t\r\n\t    if (flash && fV !== 8) {\r\n\t      ram = parseInt(flash._getMemoryUse(), 10);\r\n\t    }\r\n\t\r\n\t    return ram;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Undocumented: NOPs soundManager and all SMSound objects.\r\n\t   */\r\n\t\r\n\t  this.disable = function(bNoDisable) {\r\n\t\r\n\t    // destroy all functions\r\n\t    var i;\r\n\t\r\n\t    if (bNoDisable === _undefined) {\r\n\t      bNoDisable = false;\r\n\t    }\r\n\t\r\n\t    // already disabled?\r\n\t    if (disabled) return false;\r\n\t\r\n\t    disabled = true;\r\n\t\r\n\t    _wDS('shutdown', 1);\r\n\t\r\n\t    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\t      disableObject(sm2.sounds[sm2.soundIDs[i]]);\r\n\t    }\r\n\t\r\n\t    disableObject(sm2);\r\n\t\r\n\t    // fire \"complete\", despite fail\r\n\t    initComplete(bNoDisable);\r\n\t\r\n\t    event.remove(window, 'load', initUserOnload);\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Determines playability of a MIME type, eg. 'audio/mp3'.\r\n\t   */\r\n\t\r\n\t  this.canPlayMIME = function(sMIME) {\r\n\t\r\n\t    var result;\r\n\t\r\n\t    if (sm2.hasHTML5) {\r\n\t      result = html5CanPlay({\r\n\t        type: sMIME\r\n\t      });\r\n\t    }\r\n\t\r\n\t    if (!result && needsFlash) {\r\n\t      // if flash 9, test netStream (movieStar) types as well.\r\n\t      result = (sMIME && sm2.ok() ? !!((fV > 8 ? sMIME.match(netStreamMimeTypes) : null) || sMIME.match(sm2.mimePattern)) : null); // TODO: make less \"weird\" (per JSLint)\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Determines playability of a URL based on audio support.\r\n\t   *\r\n\t   * @param {string} sURL The URL to test\r\n\t   * @return {boolean} URL playability\r\n\t   */\r\n\t\r\n\t  this.canPlayURL = function(sURL) {\r\n\t\r\n\t    var result;\r\n\t\r\n\t    if (sm2.hasHTML5) {\r\n\t      result = html5CanPlay({\r\n\t        url: sURL\r\n\t      });\r\n\t    }\r\n\t\r\n\t    if (!result && needsFlash) {\r\n\t      result = (sURL && sm2.ok() ? !!(sURL.match(sm2.filePattern)) : null);\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Determines playability of an HTML DOM &lt;a&gt; object (or similar object literal) based on audio support.\r\n\t   *\r\n\t   * @param {object} oLink an HTML DOM &lt;a&gt; object or object literal including href and/or type attributes\r\n\t   * @return {boolean} URL playability\r\n\t   */\r\n\t\r\n\t  this.canPlayLink = function(oLink) {\r\n\t\r\n\t    if (oLink.type !== _undefined && oLink.type && sm2.canPlayMIME(oLink.type)) return true;\r\n\t\r\n\t    return sm2.canPlayURL(oLink.href);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Retrieves a SMSound object by ID.\r\n\t   *\r\n\t   * @param {string} sID The ID of the sound\r\n\t   * @return {SMSound} The SMSound object\r\n\t   */\r\n\t\r\n\t  this.getSoundById = function(sID, _suppressDebug) {\r\n\t\r\n\t    if (!sID) return null;\r\n\t\r\n\t    var result = sm2.sounds[sID];\r\n\t\r\n\t    // <d>\r\n\t    if (!result && !_suppressDebug) {\r\n\t      sm2._wD(sm + '.getSoundById(): Sound \"' + sID + '\" not found.', 2);\r\n\t    }\r\n\t    // </d>\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Queues a callback for execution when SoundManager has successfully initialized.\r\n\t   *\r\n\t   * @param {function} oMethod The callback method to fire\r\n\t   * @param {object} oScope Optional: The scope to apply to the callback\r\n\t   */\r\n\t\r\n\t  this.onready = function(oMethod, oScope) {\r\n\t\r\n\t    var sType = 'onready',\r\n\t        result = false;\r\n\t\r\n\t    if (typeof oMethod === 'function') {\r\n\t\r\n\t      // <d>\r\n\t      if (didInit) {\r\n\t        sm2._wD(str('queue', sType));\r\n\t      }\r\n\t      // </d>\r\n\t\r\n\t      if (!oScope) {\r\n\t        oScope = window;\r\n\t      }\r\n\t\r\n\t      addOnEvent(sType, oMethod, oScope);\r\n\t      processOnEvents();\r\n\t\r\n\t      result = true;\r\n\t\r\n\t    } else {\r\n\t\r\n\t      throw str('needFunction', sType);\r\n\t\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Queues a callback for execution when SoundManager has failed to initialize.\r\n\t   *\r\n\t   * @param {function} oMethod The callback method to fire\r\n\t   * @param {object} oScope Optional: The scope to apply to the callback\r\n\t   */\r\n\t\r\n\t  this.ontimeout = function(oMethod, oScope) {\r\n\t\r\n\t    var sType = 'ontimeout',\r\n\t        result = false;\r\n\t\r\n\t    if (typeof oMethod === 'function') {\r\n\t\r\n\t      // <d>\r\n\t      if (didInit) {\r\n\t        sm2._wD(str('queue', sType));\r\n\t      }\r\n\t      // </d>\r\n\t\r\n\t      if (!oScope) {\r\n\t        oScope = window;\r\n\t      }\r\n\t\r\n\t      addOnEvent(sType, oMethod, oScope);\r\n\t      processOnEvents({ type: sType });\r\n\t\r\n\t      result = true;\r\n\t\r\n\t    } else {\r\n\t\r\n\t      throw str('needFunction', sType);\r\n\t\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Writes console.log()-style debug output to a console or in-browser element.\r\n\t   * Applies when debugMode = true\r\n\t   *\r\n\t   * @param {string} sText The console message\r\n\t   * @param {object} nType Optional log level (number), or object. Number case: Log type/style where 0 = 'info', 1 = 'warn', 2 = 'error'. Object case: Object to be dumped.\r\n\t   */\r\n\t\r\n\t  this._writeDebug = function(sText, sTypeOrObject) {\r\n\t\r\n\t    // pseudo-private console.log()-style output\r\n\t    // <d>\r\n\t\r\n\t    var sDID = 'soundmanager-debug', o, oItem;\r\n\t\r\n\t    if (!sm2.setupOptions.debugMode) return false;\r\n\t\r\n\t    if (hasConsole && sm2.useConsole) {\r\n\t      if (sTypeOrObject && typeof sTypeOrObject === 'object') {\r\n\t        // object passed; dump to console.\r\n\t        console.log(sText, sTypeOrObject);\r\n\t      } else if (debugLevels[sTypeOrObject] !== _undefined) {\r\n\t        console[debugLevels[sTypeOrObject]](sText);\r\n\t      } else {\r\n\t        console.log(sText);\r\n\t      }\r\n\t      if (sm2.consoleOnly) return true;\r\n\t    }\r\n\t\r\n\t    o = id(sDID);\r\n\t\r\n\t    if (!o) return false;\r\n\t\r\n\t    oItem = doc.createElement('div');\r\n\t\r\n\t    if (++wdCount % 2 === 0) {\r\n\t      oItem.className = 'sm2-alt';\r\n\t    }\r\n\t\r\n\t    if (sTypeOrObject === _undefined) {\r\n\t      sTypeOrObject = 0;\r\n\t    } else {\r\n\t      sTypeOrObject = parseInt(sTypeOrObject, 10);\r\n\t    }\r\n\t\r\n\t    oItem.appendChild(doc.createTextNode(sText));\r\n\t\r\n\t    if (sTypeOrObject) {\r\n\t      if (sTypeOrObject >= 2) {\r\n\t        oItem.style.fontWeight = 'bold';\r\n\t      }\r\n\t      if (sTypeOrObject === 3) {\r\n\t        oItem.style.color = '#ff3333';\r\n\t      }\r\n\t    }\r\n\t\r\n\t    // top-to-bottom\r\n\t    // o.appendChild(oItem);\r\n\t\r\n\t    // bottom-to-top\r\n\t    o.insertBefore(oItem, o.firstChild);\r\n\t\r\n\t    o = null;\r\n\t    // </d>\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  // <d>\r\n\t  // last-resort debugging option\r\n\t  if (wl.indexOf('sm2-debug=alert') !== -1) {\r\n\t    this._writeDebug = function(sText) {\r\n\t      window.alert(sText);\r\n\t    };\r\n\t  }\r\n\t  // </d>\r\n\t\r\n\t  // alias\r\n\t  this._wD = this._writeDebug;\r\n\t\r\n\t  /**\r\n\t   * Provides debug / state information on all SMSound objects.\r\n\t   */\r\n\t\r\n\t  this._debug = function() {\r\n\t\r\n\t    // <d>\r\n\t    var i, j;\r\n\t    _wDS('currentObj', 1);\r\n\t\r\n\t    for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n\t      sm2.sounds[sm2.soundIDs[i]]._debug();\r\n\t    }\r\n\t    // </d>\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Restarts and re-initializes the SoundManager instance.\r\n\t   *\r\n\t   * @param {boolean} resetEvents Optional: When true, removes all registered onready and ontimeout event callbacks.\r\n\t   * @param {boolean} excludeInit Options: When true, does not call beginDelayedInit() (which would restart SM2).\r\n\t   * @return {object} soundManager The soundManager instance.\r\n\t   */\r\n\t\r\n\t  this.reboot = function(resetEvents, excludeInit) {\r\n\t\r\n\t    // reset some (or all) state, and re-init unless otherwise specified.\r\n\t\r\n\t    // <d>\r\n\t    if (sm2.soundIDs.length) {\r\n\t      sm2._wD('Destroying ' + sm2.soundIDs.length + ' SMSound object' + (sm2.soundIDs.length !== 1 ? 's' : '') + '...');\r\n\t    }\r\n\t    // </d>\r\n\t\r\n\t    var i, j, k;\r\n\t\r\n\t    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\t      sm2.sounds[sm2.soundIDs[i]].destruct();\r\n\t    }\r\n\t\r\n\t    // trash ze flash (remove from the DOM)\r\n\t\r\n\t    if (flash) {\r\n\t\r\n\t      try {\r\n\t\r\n\t        if (isIE) {\r\n\t          oRemovedHTML = flash.innerHTML;\r\n\t        }\r\n\t\r\n\t        oRemoved = flash.parentNode.removeChild(flash);\r\n\t\r\n\t      } catch(e) {\r\n\t\r\n\t        // Remove failed? May be due to flash blockers silently removing the SWF object/embed node from the DOM. Warn and continue.\r\n\t\r\n\t        _wDS('badRemove', 2);\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    // actually, force recreate of movie.\r\n\t\r\n\t    oRemovedHTML = oRemoved = needsFlash = flash = null;\r\n\t\r\n\t    sm2.enabled = didDCLoaded = didInit = waitingForEI = initPending = didAppend = appendSuccess = disabled = useGlobalHTML5Audio = sm2.swfLoaded = false;\r\n\t\r\n\t    sm2.soundIDs = [];\r\n\t    sm2.sounds = {};\r\n\t\r\n\t    idCounter = 0;\r\n\t    didSetup = false;\r\n\t\r\n\t    if (!resetEvents) {\r\n\t      // reset callbacks for onready, ontimeout etc. so that they will fire again on re-init\r\n\t      for (i in on_queue) {\r\n\t        if (on_queue.hasOwnProperty(i)) {\r\n\t          for (j = 0, k = on_queue[i].length; j < k; j++) {\r\n\t            on_queue[i][j].fired = false;\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t    } else {\r\n\t      // remove all callbacks entirely\r\n\t      on_queue = [];\r\n\t    }\r\n\t\r\n\t    // <d>\r\n\t    if (!excludeInit) {\r\n\t      sm2._wD(sm + ': Rebooting...');\r\n\t    }\r\n\t    // </d>\r\n\t\r\n\t    // reset HTML5 and flash canPlay test results\r\n\t\r\n\t    sm2.html5 = {\r\n\t      usingFlash: null\r\n\t    };\r\n\t\r\n\t    sm2.flash = {};\r\n\t\r\n\t    // reset device-specific HTML/flash mode switches\r\n\t\r\n\t    sm2.html5Only = false;\r\n\t    sm2.ignoreFlash = false;\r\n\t\r\n\t    window.setTimeout(function() {\r\n\t\r\n\t      // by default, re-init\r\n\t\r\n\t      if (!excludeInit) {\r\n\t        sm2.beginDelayedInit();\r\n\t      }\r\n\t\r\n\t    }, 20);\r\n\t\r\n\t    return sm2;\r\n\t\r\n\t  };\r\n\t\r\n\t  this.reset = function() {\r\n\t\r\n\t    /**\r\n\t     * Shuts down and restores the SoundManager instance to its original loaded state, without an explicit reboot. All onready/ontimeout handlers are removed.\r\n\t     * After this call, SM2 may be re-initialized via soundManager.beginDelayedInit().\r\n\t     * @return {object} soundManager The soundManager instance.\r\n\t     */\r\n\t\r\n\t    _wDS('reset');\r\n\t\r\n\t    return sm2.reboot(true, true);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Undocumented: Determines the SM2 flash movie's load progress.\r\n\t   *\r\n\t   * @return {number or null} Percent loaded, or if invalid/unsupported, null.\r\n\t   */\r\n\t\r\n\t  this.getMoviePercent = function() {\r\n\t\r\n\t    /**\r\n\t     * Interesting syntax notes...\r\n\t     * Flash/ExternalInterface (ActiveX/NPAPI) bridge methods are not typeof \"function\" nor instanceof Function, but are still valid.\r\n\t     * Furthermore, using (flash && flash.PercentLoaded) causes IE to throw \"object doesn't support this property or method\".\r\n\t     * Thus, 'in' syntax must be used.\r\n\t     */\r\n\t\r\n\t    return (flash && 'PercentLoaded' in flash ? flash.PercentLoaded() : null);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Additional helper for manually invoking SM2's init process after DOM Ready / window.onload().\r\n\t   */\r\n\t\r\n\t  this.beginDelayedInit = function() {\r\n\t\r\n\t    windowLoaded = true;\r\n\t    domContentLoaded();\r\n\t\r\n\t    setTimeout(function() {\r\n\t\r\n\t      if (initPending) return false;\r\n\t\r\n\t      createMovie();\r\n\t      initMovie();\r\n\t      initPending = true;\r\n\t\r\n\t      return true;\r\n\t\r\n\t    }, 20);\r\n\t\r\n\t    delayWaitForEI();\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Destroys the SoundManager instance and all SMSound instances.\r\n\t   */\r\n\t\r\n\t  this.destruct = function() {\r\n\t\r\n\t    sm2._wD(sm + '.destruct()');\r\n\t    sm2.disable(true);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * SMSound() (sound object) constructor\r\n\t   * ------------------------------------\r\n\t   *\r\n\t   * @param {object} oOptions Sound options (id and url are required attributes)\r\n\t   * @return {SMSound} The new SMSound object\r\n\t   */\r\n\t\r\n\t  SMSound = function(oOptions) {\r\n\t\r\n\t    var s = this, resetProperties, add_html5_events, remove_html5_events, stop_html5_timer, start_html5_timer, attachOnPosition, onplay_called = false, onPositionItems = [], onPositionFired = 0, detachOnPosition, applyFromTo, lastURL = null, lastHTML5State, urlOmitted;\r\n\t\r\n\t    lastHTML5State = {\r\n\t      // tracks duration + position (time)\r\n\t      duration: null,\r\n\t      time: null\r\n\t    };\r\n\t\r\n\t    this.id = oOptions.id;\r\n\t\r\n\t    // legacy\r\n\t    this.sID = this.id;\r\n\t\r\n\t    this.url = oOptions.url;\r\n\t    this.options = mixin(oOptions);\r\n\t\r\n\t    // per-play-instance-specific options\r\n\t    this.instanceOptions = this.options;\r\n\t\r\n\t    // short alias\r\n\t    this._iO = this.instanceOptions;\r\n\t\r\n\t    // assign property defaults\r\n\t    this.pan = this.options.pan;\r\n\t    this.volume = this.options.volume;\r\n\t\r\n\t    // whether or not this object is using HTML5\r\n\t    this.isHTML5 = false;\r\n\t\r\n\t    // internal HTML5 Audio() object reference\r\n\t    this._a = null;\r\n\t\r\n\t    // for flash 8 special-case createSound() without url, followed by load/play with url case\r\n\t    urlOmitted = (!this.url);\r\n\t\r\n\t    /**\r\n\t     * SMSound() public methods\r\n\t     * ------------------------\r\n\t     */\r\n\t\r\n\t    this.id3 = {};\r\n\t\r\n\t    /**\r\n\t     * Writes SMSound object parameters to debug console\r\n\t     */\r\n\t\r\n\t    this._debug = function() {\r\n\t\r\n\t      // <d>\r\n\t      sm2._wD(s.id + ': Merged options:', s.options);\r\n\t      // </d>\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Begins loading a sound per its *url*.\r\n\t     *\r\n\t     * @param {object} options Optional: Sound options\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.load = function(options) {\r\n\t\r\n\t      var oSound = null, instanceOptions;\r\n\t\r\n\t      if (options !== _undefined) {\r\n\t        s._iO = mixin(options, s.options);\r\n\t      } else {\r\n\t        options = s.options;\r\n\t        s._iO = options;\r\n\t        if (lastURL && lastURL !== s.url) {\r\n\t          _wDS('manURL');\r\n\t          s._iO.url = s.url;\r\n\t          s.url = null;\r\n\t        }\r\n\t      }\r\n\t\r\n\t      if (!s._iO.url) {\r\n\t        s._iO.url = s.url;\r\n\t      }\r\n\t\r\n\t      s._iO.url = parseURL(s._iO.url);\r\n\t\r\n\t      // ensure we're in sync\r\n\t      s.instanceOptions = s._iO;\r\n\t\r\n\t      // local shortcut\r\n\t      instanceOptions = s._iO;\r\n\t\r\n\t      sm2._wD(s.id + ': load (' + instanceOptions.url + ')');\r\n\t\r\n\t      if (!instanceOptions.url && !s.url) {\r\n\t        sm2._wD(s.id + ': load(): url is unassigned. Exiting.', 2);\r\n\t        return s;\r\n\t      }\r\n\t\r\n\t      // <d>\r\n\t      if (!s.isHTML5 && fV === 8 && !s.url && !instanceOptions.autoPlay) {\r\n\t        // flash 8 load() -> play() won't work before onload has fired.\r\n\t        sm2._wD(s.id + ': Flash 8 load() limitation: Wait for onload() before calling play().', 1);\r\n\t      }\r\n\t      // </d>\r\n\t\r\n\t      if (instanceOptions.url === s.url && s.readyState !== 0 && s.readyState !== 2) {\r\n\t        _wDS('onURL', 1);\r\n\t        // if loaded and an onload() exists, fire immediately.\r\n\t        if (s.readyState === 3 && instanceOptions.onload) {\r\n\t          // assume success based on truthy duration.\r\n\t          wrapCallback(s, function() {\r\n\t            instanceOptions.onload.apply(s, [(!!s.duration)]);\r\n\t          });\r\n\t        }\r\n\t        return s;\r\n\t      }\r\n\t\r\n\t      // reset a few state properties\r\n\t\r\n\t      s.loaded = false;\r\n\t      s.readyState = 1;\r\n\t      s.playState = 0;\r\n\t      s.id3 = {};\r\n\t\r\n\t      // TODO: If switching from HTML5 -> flash (or vice versa), stop currently-playing audio.\r\n\t\r\n\t      if (html5OK(instanceOptions)) {\r\n\t\r\n\t        oSound = s._setup_html5(instanceOptions);\r\n\t\r\n\t        if (!oSound._called_load) {\r\n\t\r\n\t          s._html5_canplay = false;\r\n\t\r\n\t          // TODO: review called_load / html5_canplay logic\r\n\t\r\n\t          // if url provided directly to load(), assign it here.\r\n\t\r\n\t          if (s.url !== instanceOptions.url) {\r\n\t\r\n\t            sm2._wD(_wDS('manURL') + ': ' + instanceOptions.url);\r\n\t\r\n\t            s._a.src = instanceOptions.url;\r\n\t\r\n\t            // TODO: review / re-apply all relevant options (volume, loop, onposition etc.)\r\n\t\r\n\t            // reset position for new URL\r\n\t            s.setPosition(0);\r\n\t\r\n\t          }\r\n\t\r\n\t          // given explicit load call, try to preload.\r\n\t\r\n\t          // early HTML5 implementation (non-standard)\r\n\t          s._a.autobuffer = 'auto';\r\n\t\r\n\t          // standard property, values: none / metadata / auto\r\n\t          // reference: http://msdn.microsoft.com/en-us/library/ie/ff974759%28v=vs.85%29.aspx\r\n\t          s._a.preload = 'auto';\r\n\t\r\n\t          s._a._called_load = true;\r\n\t\r\n\t        } else {\r\n\t\r\n\t          sm2._wD(s.id + ': Ignoring request to load again');\r\n\t\r\n\t        }\r\n\t\r\n\t      } else {\r\n\t\r\n\t        if (sm2.html5Only) {\r\n\t          sm2._wD(s.id + ': No flash support. Exiting.');\r\n\t          return s;\r\n\t        }\r\n\t\r\n\t        if (s._iO.url && s._iO.url.match(/data:/i)) {\r\n\t          // data: URIs not supported by Flash, either.\r\n\t          sm2._wD(s.id + ': data: URIs not supported via Flash. Exiting.');\r\n\t          return s;\r\n\t        }\r\n\t\r\n\t        try {\r\n\t          s.isHTML5 = false;\r\n\t          s._iO = policyFix(loopFix(instanceOptions));\r\n\t          // if we have \"position\", disable auto-play as we'll be seeking to that position at onload().\r\n\t          if (s._iO.autoPlay && (s._iO.position || s._iO.from)) {\r\n\t            sm2._wD(s.id + ': Disabling autoPlay because of non-zero offset case');\r\n\t            s._iO.autoPlay = false;\r\n\t          }\r\n\t          // re-assign local shortcut\r\n\t          instanceOptions = s._iO;\r\n\t          if (fV === 8) {\r\n\t            flash._load(s.id, instanceOptions.url, instanceOptions.stream, instanceOptions.autoPlay, instanceOptions.usePolicyFile);\r\n\t          } else {\r\n\t            flash._load(s.id, instanceOptions.url, !!(instanceOptions.stream), !!(instanceOptions.autoPlay), instanceOptions.loops || 1, !!(instanceOptions.autoLoad), instanceOptions.usePolicyFile);\r\n\t          }\r\n\t        } catch(e) {\r\n\t          _wDS('smError', 2);\r\n\t          debugTS('onload', false);\r\n\t          catchError({\r\n\t            type: 'SMSOUND_LOAD_JS_EXCEPTION',\r\n\t            fatal: true\r\n\t          });\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      // after all of this, ensure sound url is up to date.\r\n\t      s.url = instanceOptions.url;\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Unloads a sound, canceling any open HTTP requests.\r\n\t     *\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.unload = function() {\r\n\t\r\n\t      // Flash 8/AS2 can't \"close\" a stream - fake it by loading an empty URL\r\n\t      // Flash 9/AS3: Close stream, preventing further load\r\n\t      // HTML5: Most UAs will use empty URL\r\n\t\r\n\t      if (s.readyState !== 0) {\r\n\t\r\n\t        sm2._wD(s.id + ': unload()');\r\n\t\r\n\t        if (!s.isHTML5) {\r\n\t\r\n\t          if (fV === 8) {\r\n\t            flash._unload(s.id, emptyURL);\r\n\t          } else {\r\n\t            flash._unload(s.id);\r\n\t          }\r\n\t\r\n\t        } else {\r\n\t\r\n\t          stop_html5_timer();\r\n\t\r\n\t          if (s._a) {\r\n\t\r\n\t            s._a.pause();\r\n\t\r\n\t            // update empty URL, too\r\n\t            lastURL = html5Unload(s._a);\r\n\t\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t        // reset load/status flags\r\n\t        resetProperties();\r\n\t\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Unloads and destroys a sound.\r\n\t     */\r\n\t\r\n\t    this.destruct = function(_bFromSM) {\r\n\t\r\n\t      sm2._wD(s.id + ': Destruct');\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t\r\n\t        // kill sound within Flash\r\n\t        // Disable the onfailure handler\r\n\t        s._iO.onfailure = null;\r\n\t        flash._destroySound(s.id);\r\n\t\r\n\t      } else {\r\n\t\r\n\t        stop_html5_timer();\r\n\t\r\n\t        if (s._a) {\r\n\t          s._a.pause();\r\n\t          html5Unload(s._a);\r\n\t          if (!useGlobalHTML5Audio) {\r\n\t            remove_html5_events();\r\n\t          }\r\n\t          // break obvious circular reference\r\n\t          s._a._s = null;\r\n\t          s._a = null;\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      if (!_bFromSM) {\r\n\t        // ensure deletion from controller\r\n\t        sm2.destroySound(s.id, true);\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Begins playing a sound.\r\n\t     *\r\n\t     * @param {object} options Optional: Sound options\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.play = function(options, _updatePlayState) {\r\n\t\r\n\t      var fN, allowMulti, a, onready,\r\n\t          audioClone, onended, oncanplay,\r\n\t          startOK = true;\r\n\t\r\n\t      // <d>\r\n\t      fN = s.id + ': play(): ';\r\n\t      // </d>\r\n\t\r\n\t      // default to true\r\n\t      _updatePlayState = (_updatePlayState === _undefined ? true : _updatePlayState);\r\n\t\r\n\t      if (!options) {\r\n\t        options = {};\r\n\t      }\r\n\t\r\n\t      // first, use local URL (if specified)\r\n\t      if (s.url) {\r\n\t        s._iO.url = s.url;\r\n\t      }\r\n\t\r\n\t      // mix in any options defined at createSound()\r\n\t      s._iO = mixin(s._iO, s.options);\r\n\t\r\n\t      // mix in any options specific to this method\r\n\t      s._iO = mixin(options, s._iO);\r\n\t\r\n\t      s._iO.url = parseURL(s._iO.url);\r\n\t\r\n\t      s.instanceOptions = s._iO;\r\n\t\r\n\t      // RTMP-only\r\n\t      if (!s.isHTML5 && s._iO.serverURL && !s.connected) {\r\n\t        if (!s.getAutoPlay()) {\r\n\t          sm2._wD(fN + ' Netstream not connected yet - setting autoPlay');\r\n\t          s.setAutoPlay(true);\r\n\t        }\r\n\t        // play will be called in onconnect()\r\n\t        return s;\r\n\t      }\r\n\t\r\n\t      if (html5OK(s._iO)) {\r\n\t        s._setup_html5(s._iO);\r\n\t        start_html5_timer();\r\n\t      }\r\n\t\r\n\t      if (s.playState === 1 && !s.paused) {\r\n\t\r\n\t        allowMulti = s._iO.multiShot;\r\n\t\r\n\t        if (!allowMulti) {\r\n\t\r\n\t          sm2._wD(fN + 'Already playing (one-shot)', 1);\r\n\t\r\n\t          if (s.isHTML5) {\r\n\t            // go back to original position.\r\n\t            s.setPosition(s._iO.position);\r\n\t          }\r\n\t\r\n\t          return s;\r\n\t\r\n\t        }\r\n\t\r\n\t        sm2._wD(fN + 'Already playing (multi-shot)', 1);\r\n\t\r\n\t      }\r\n\t\r\n\t      // edge case: play() with explicit URL parameter\r\n\t      if (options.url && options.url !== s.url) {\r\n\t\r\n\t        // special case for createSound() followed by load() / play() with url; avoid double-load case.\r\n\t        if (!s.readyState && !s.isHTML5 && fV === 8 && urlOmitted) {\r\n\t\r\n\t          urlOmitted = false;\r\n\t\r\n\t        } else {\r\n\t\r\n\t          // load using merged options\r\n\t          s.load(s._iO);\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      if (!s.loaded) {\r\n\t\r\n\t        if (s.readyState === 0) {\r\n\t\r\n\t          sm2._wD(fN + 'Attempting to load');\r\n\t\r\n\t          // try to get this sound playing ASAP\r\n\t          if (!s.isHTML5 && !sm2.html5Only) {\r\n\t\r\n\t            // flash: assign directly because setAutoPlay() increments the instanceCount\r\n\t            s._iO.autoPlay = true;\r\n\t            s.load(s._iO);\r\n\t\r\n\t          } else if (s.isHTML5) {\r\n\t\r\n\t            // iOS needs this when recycling sounds, loading a new URL on an existing object.\r\n\t            s.load(s._iO);\r\n\t\r\n\t          } else {\r\n\t\r\n\t            sm2._wD(fN + 'Unsupported type. Exiting.');\r\n\t\r\n\t            return s;\r\n\t\r\n\t          }\r\n\t\r\n\t          // HTML5 hack - re-set instanceOptions?\r\n\t          s.instanceOptions = s._iO;\r\n\t\r\n\t        } else if (s.readyState === 2) {\r\n\t\r\n\t          sm2._wD(fN + 'Could not load - exiting', 2);\r\n\t\r\n\t          return s;\r\n\t\r\n\t        } else {\r\n\t\r\n\t          sm2._wD(fN + 'Loading - attempting to play...');\r\n\t\r\n\t        }\r\n\t\r\n\t      } else {\r\n\t\r\n\t        // \"play()\"\r\n\t        sm2._wD(fN.substr(0, fN.lastIndexOf(':')));\r\n\t\r\n\t      }\r\n\t\r\n\t      if (!s.isHTML5 && fV === 9 && s.position > 0 && s.position === s.duration) {\r\n\t        // flash 9 needs a position reset if play() is called while at the end of a sound.\r\n\t        sm2._wD(fN + 'Sound at end, resetting to position: 0');\r\n\t        options.position = 0;\r\n\t      }\r\n\t\r\n\t      /**\r\n\t       * Streams will pause when their buffer is full if they are being loaded.\r\n\t       * In this case paused is true, but the song hasn't started playing yet.\r\n\t       * If we just call resume() the onplay() callback will never be called.\r\n\t       * So only call resume() if the position is > 0.\r\n\t       * Another reason is because options like volume won't have been applied yet.\r\n\t       * For normal sounds, just resume.\r\n\t       */\r\n\t\r\n\t      if (s.paused && s.position >= 0 && (!s._iO.serverURL || s.position > 0)) {\r\n\t\r\n\t        // https://gist.github.com/37b17df75cc4d7a90bf6\r\n\t        sm2._wD(fN + 'Resuming from paused state', 1);\r\n\t        s.resume();\r\n\t\r\n\t      } else {\r\n\t\r\n\t        s._iO = mixin(options, s._iO);\r\n\t\r\n\t        /**\r\n\t         * Preload in the event of play() with position under Flash,\r\n\t         * or from/to parameters and non-RTMP case\r\n\t         */\r\n\t        if (((!s.isHTML5 && s._iO.position !== null && s._iO.position > 0) || (s._iO.from !== null && s._iO.from > 0) || s._iO.to !== null) && s.instanceCount === 0 && s.playState === 0 && !s._iO.serverURL) {\r\n\t\r\n\t          onready = function() {\r\n\t            // sound \"canplay\" or onload()\r\n\t            // re-apply position/from/to to instance options, and start playback\r\n\t            s._iO = mixin(options, s._iO);\r\n\t            s.play(s._iO);\r\n\t          };\r\n\t\r\n\t          // HTML5 needs to at least have \"canplay\" fired before seeking.\r\n\t          if (s.isHTML5 && !s._html5_canplay) {\r\n\t\r\n\t            // this hasn't been loaded yet. load it first, and then do this again.\r\n\t            sm2._wD(fN + 'Beginning load for non-zero offset case');\r\n\t\r\n\t            s.load({\r\n\t              // note: custom HTML5-only event added for from/to implementation.\r\n\t              _oncanplay: onready\r\n\t            });\r\n\t\r\n\t          } else if (!s.isHTML5 && !s.loaded && (!s.readyState || s.readyState !== 2)) {\r\n\t\r\n\t            // to be safe, preload the whole thing in Flash.\r\n\t\r\n\t            sm2._wD(fN + 'Preloading for non-zero offset case');\r\n\t\r\n\t            s.load({\r\n\t              onload: onready\r\n\t            });\r\n\t\r\n\t          }\r\n\t\r\n\t          // otherwise, we're ready to go. re-apply local options, and continue\r\n\t\r\n\t          s._iO = applyFromTo();\r\n\t\r\n\t        }\r\n\t\r\n\t        // sm2._wD(fN + 'Starting to play');\r\n\t\r\n\t        // increment instance counter, where enabled + supported\r\n\t        if (!s.instanceCount || s._iO.multiShotEvents || (s.isHTML5 && s._iO.multiShot && !useGlobalHTML5Audio) || (!s.isHTML5 && fV > 8 && !s.getAutoPlay())) {\r\n\t          s.instanceCount++;\r\n\t        }\r\n\t\r\n\t        // if first play and onposition parameters exist, apply them now\r\n\t        if (s._iO.onposition && s.playState === 0) {\r\n\t          attachOnPosition(s);\r\n\t        }\r\n\t\r\n\t        s.playState = 1;\r\n\t        s.paused = false;\r\n\t\r\n\t        s.position = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position : 0);\r\n\t\r\n\t        if (!s.isHTML5) {\r\n\t          s._iO = policyFix(loopFix(s._iO));\r\n\t        }\r\n\t\r\n\t        if (s._iO.onplay && _updatePlayState) {\r\n\t          s._iO.onplay.apply(s);\r\n\t          onplay_called = true;\r\n\t        }\r\n\t\r\n\t        s.setVolume(s._iO.volume, true);\r\n\t        s.setPan(s._iO.pan, true);\r\n\t\r\n\t        if (s._iO.playbackRate !== 1) {\r\n\t          s.setPlaybackRate(s._iO.playbackRate);\r\n\t        }\r\n\t\r\n\t        if (!s.isHTML5) {\r\n\t\r\n\t          startOK = flash._start(s.id, s._iO.loops || 1, (fV === 9 ? s.position : s.position / msecScale), s._iO.multiShot || false);\r\n\t\r\n\t          if (fV === 9 && !startOK) {\r\n\t            // edge case: no sound hardware, or 32-channel flash ceiling hit.\r\n\t            // applies only to Flash 9, non-NetStream/MovieStar sounds.\r\n\t            // http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/media/Sound.html#play%28%29\r\n\t            sm2._wD(fN + 'No sound hardware, or 32-sound ceiling hit', 2);\r\n\t            if (s._iO.onplayerror) {\r\n\t              s._iO.onplayerror.apply(s);\r\n\t            }\r\n\t\r\n\t          }\r\n\t\r\n\t        } else if (s.instanceCount < 2) {\r\n\t\r\n\t            // HTML5 single-instance case\r\n\t\r\n\t            start_html5_timer();\r\n\t\r\n\t            a = s._setup_html5();\r\n\t\r\n\t            s.setPosition(s._iO.position);\r\n\t\r\n\t            a.play();\r\n\t\r\n\t          } else {\r\n\t\r\n\t            // HTML5 multi-shot case\r\n\t\r\n\t            sm2._wD(s.id + ': Cloning Audio() for instance #' + s.instanceCount + '...');\r\n\t\r\n\t            audioClone = new Audio(s._iO.url);\r\n\t\r\n\t            onended = function() {\r\n\t              event.remove(audioClone, 'ended', onended);\r\n\t              s._onfinish(s);\r\n\t              // cleanup\r\n\t              html5Unload(audioClone);\r\n\t              audioClone = null;\r\n\t            };\r\n\t\r\n\t            oncanplay = function() {\r\n\t              event.remove(audioClone, 'canplay', oncanplay);\r\n\t              try {\r\n\t                audioClone.currentTime = s._iO.position / msecScale;\r\n\t              } catch(err) {\r\n\t                complain(s.id + ': multiShot play() failed to apply position of ' + (s._iO.position / msecScale));\r\n\t              }\r\n\t              audioClone.play();\r\n\t            };\r\n\t\r\n\t            event.add(audioClone, 'ended', onended);\r\n\t\r\n\t            // apply volume to clones, too\r\n\t            if (s._iO.volume !== _undefined) {\r\n\t              audioClone.volume = Math.max(0, Math.min(1, s._iO.volume / 100));\r\n\t            }\r\n\t\r\n\t            // playing multiple muted sounds? if you do this, you're weird ;) - but let's cover it.\r\n\t            if (s.muted) {\r\n\t              audioClone.muted = true;\r\n\t            }\r\n\t\r\n\t            if (s._iO.position) {\r\n\t              // HTML5 audio can't seek before onplay() event has fired.\r\n\t              // wait for canplay, then seek to position and start playback.\r\n\t              event.add(audioClone, 'canplay', oncanplay);\r\n\t            } else {\r\n\t              // begin playback at currentTime: 0\r\n\t              audioClone.play();\r\n\t            }\r\n\t\r\n\t          }\r\n\t\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    // just for convenience\r\n\t    this.start = this.play;\r\n\t\r\n\t    /**\r\n\t     * Stops playing a sound (and optionally, all sounds)\r\n\t     *\r\n\t     * @param {boolean} bAll Optional: Whether to stop all sounds\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.stop = function(bAll) {\r\n\t\r\n\t      var instanceOptions = s._iO,\r\n\t          originalPosition;\r\n\t\r\n\t      if (s.playState === 1) {\r\n\t\r\n\t        sm2._wD(s.id + ': stop()');\r\n\t\r\n\t        s._onbufferchange(0);\r\n\t        s._resetOnPosition(0);\r\n\t        s.paused = false;\r\n\t\r\n\t        if (!s.isHTML5) {\r\n\t          s.playState = 0;\r\n\t        }\r\n\t\r\n\t        // remove onPosition listeners, if any\r\n\t        detachOnPosition();\r\n\t\r\n\t        // and \"to\" position, if set\r\n\t        if (instanceOptions.to) {\r\n\t          s.clearOnPosition(instanceOptions.to);\r\n\t        }\r\n\t\r\n\t        if (!s.isHTML5) {\r\n\t\r\n\t          flash._stop(s.id, bAll);\r\n\t\r\n\t          // hack for netStream: just unload\r\n\t          if (instanceOptions.serverURL) {\r\n\t            s.unload();\r\n\t          }\r\n\t\r\n\t        } else if (s._a) {\r\n\t\r\n\t            originalPosition = s.position;\r\n\t\r\n\t            // act like Flash, though\r\n\t            s.setPosition(0);\r\n\t\r\n\t            // hack: reflect old position for onstop() (also like Flash)\r\n\t            s.position = originalPosition;\r\n\t\r\n\t            // html5 has no stop()\r\n\t            // NOTE: pausing means iOS requires interaction to resume.\r\n\t            s._a.pause();\r\n\t\r\n\t            s.playState = 0;\r\n\t\r\n\t            // and update UI\r\n\t            s._onTimer();\r\n\t\r\n\t            stop_html5_timer();\r\n\t\r\n\t          }\r\n\t\r\n\t        s.instanceCount = 0;\r\n\t        s._iO = {};\r\n\t\r\n\t        if (instanceOptions.onstop) {\r\n\t          instanceOptions.onstop.apply(s);\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Undocumented/internal: Sets autoPlay for RTMP.\r\n\t     *\r\n\t     * @param {boolean} autoPlay state\r\n\t     */\r\n\t\r\n\t    this.setAutoPlay = function(autoPlay) {\r\n\t\r\n\t      sm2._wD(s.id + ': Autoplay turned ' + (autoPlay ? 'on' : 'off'));\r\n\t      s._iO.autoPlay = autoPlay;\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t        flash._setAutoPlay(s.id, autoPlay);\r\n\t        if (autoPlay) {\r\n\t          // only increment the instanceCount if the sound isn't loaded (TODO: verify RTMP)\r\n\t          if (!s.instanceCount && s.readyState === 1) {\r\n\t            s.instanceCount++;\r\n\t            sm2._wD(s.id + ': Incremented instance count to ' + s.instanceCount);\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Undocumented/internal: Returns the autoPlay boolean.\r\n\t     *\r\n\t     * @return {boolean} The current autoPlay value\r\n\t     */\r\n\t\r\n\t    this.getAutoPlay = function() {\r\n\t\r\n\t      return s._iO.autoPlay;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Sets the playback rate of a sound (HTML5-only.)\r\n\t     *\r\n\t     * @param {number} playbackRate (+/-)\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.setPlaybackRate = function(playbackRate) {\r\n\t\r\n\t      // Per Mozilla, limit acceptable values to prevent playback from stopping (unless allowOverride is truthy.)\r\n\t      // https://developer.mozilla.org/en-US/Apps/Build/Audio_and_video_delivery/WebAudio_playbackRate_explained\r\n\t      var normalizedRate = Math.max(0.5, Math.min(4, playbackRate));\r\n\t\r\n\t      // <d>\r\n\t      if (normalizedRate !== playbackRate) {\r\n\t        sm2._wD(s.id + ': setPlaybackRate(' + playbackRate + '): limiting rate to ' + normalizedRate, 2);\r\n\t      }\r\n\t      // </d>\r\n\t\r\n\t      if (s.isHTML5) {\r\n\t        try {\r\n\t          s._iO.playbackRate = normalizedRate;\r\n\t          s._a.playbackRate = normalizedRate;\r\n\t        } catch(e) {\r\n\t          sm2._wD(s.id + ': setPlaybackRate(' + normalizedRate + ') failed: ' + e.message, 2);\r\n\t        }\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Sets the position of a sound.\r\n\t     *\r\n\t     * @param {number} nMsecOffset Position (milliseconds)\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.setPosition = function(nMsecOffset) {\r\n\t\r\n\t      if (nMsecOffset === _undefined) {\r\n\t        nMsecOffset = 0;\r\n\t      }\r\n\t\r\n\t      var position, position1K,\r\n\t          // Use the duration from the instance options, if we don't have a track duration yet.\r\n\t          // position >= 0 and <= current available (loaded) duration\r\n\t          offset = (s.isHTML5 ? Math.max(nMsecOffset, 0) : Math.min(s.duration || s._iO.duration, Math.max(nMsecOffset, 0)));\r\n\t\r\n\t      s.position = offset;\r\n\t      position1K = s.position / msecScale;\r\n\t      s._resetOnPosition(s.position);\r\n\t      s._iO.position = offset;\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t\r\n\t        position = (fV === 9 ? s.position : position1K);\r\n\t\r\n\t        if (s.readyState && s.readyState !== 2) {\r\n\t          // if paused or not playing, will not resume (by playing)\r\n\t          flash._setPosition(s.id, position, (s.paused || !s.playState), s._iO.multiShot);\r\n\t        }\r\n\t\r\n\t      } else if (s._a) {\r\n\t\r\n\t        // Set the position in the canplay handler if the sound is not ready yet\r\n\t        if (s._html5_canplay) {\r\n\t\r\n\t          if (s._a.currentTime.toFixed(3) !== position1K.toFixed(3)) {\r\n\t\r\n\t            /**\r\n\t             * DOM/JS errors/exceptions to watch out for:\r\n\t             * if seek is beyond (loaded?) position, \"DOM exception 11\"\r\n\t             * \"INDEX_SIZE_ERR\": DOM exception 1\r\n\t             */\r\n\t            sm2._wD(s.id + ': setPosition(' + position1K + ')');\r\n\t\r\n\t            try {\r\n\t              s._a.currentTime = position1K;\r\n\t              if (s.playState === 0 || s.paused) {\r\n\t                // allow seek without auto-play/resume\r\n\t                s._a.pause();\r\n\t              }\r\n\t            } catch(e) {\r\n\t              sm2._wD(s.id + ': setPosition(' + position1K + ') failed: ' + e.message, 2);\r\n\t            }\r\n\t\r\n\t          }\r\n\t\r\n\t        } else if (position1K) {\r\n\t\r\n\t          // warn on non-zero seek attempts\r\n\t          sm2._wD(s.id + ': setPosition(' + position1K + '): Cannot seek yet, sound not ready', 2);\r\n\t          return s;\r\n\t\r\n\t        }\r\n\t\r\n\t        if (s.paused) {\r\n\t\r\n\t          // if paused, refresh UI right away by forcing update\r\n\t          s._onTimer(true);\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Pauses sound playback.\r\n\t     *\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.pause = function(_bCallFlash) {\r\n\t\r\n\t      if (s.paused || (s.playState === 0 && s.readyState !== 1)) return s;\r\n\t\r\n\t      sm2._wD(s.id + ': pause()');\r\n\t      s.paused = true;\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t        if (_bCallFlash || _bCallFlash === _undefined) {\r\n\t          flash._pause(s.id, s._iO.multiShot);\r\n\t        }\r\n\t      } else {\r\n\t        s._setup_html5().pause();\r\n\t        stop_html5_timer();\r\n\t      }\r\n\t\r\n\t      if (s._iO.onpause) {\r\n\t        s._iO.onpause.apply(s);\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Resumes sound playback.\r\n\t     *\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    /**\r\n\t     * When auto-loaded streams pause on buffer full they have a playState of 0.\r\n\t     * We need to make sure that the playState is set to 1 when these streams \"resume\".\r\n\t     * When a paused stream is resumed, we need to trigger the onplay() callback if it\r\n\t     * hasn't been called already. In this case since the sound is being played for the\r\n\t     * first time, I think it's more appropriate to call onplay() rather than onresume().\r\n\t     */\r\n\t\r\n\t    this.resume = function() {\r\n\t\r\n\t      var instanceOptions = s._iO;\r\n\t\r\n\t      if (!s.paused) return s;\r\n\t\r\n\t      sm2._wD(s.id + ': resume()');\r\n\t      s.paused = false;\r\n\t      s.playState = 1;\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t\r\n\t        if (instanceOptions.isMovieStar && !instanceOptions.serverURL) {\r\n\t          // Bizarre Webkit bug (Chrome reported via 8tracks.com dudes): AAC content paused for 30+ seconds(?) will not resume without a reposition.\r\n\t          s.setPosition(s.position);\r\n\t        }\r\n\t\r\n\t        // flash method is toggle-based (pause/resume)\r\n\t        flash._pause(s.id, instanceOptions.multiShot);\r\n\t\r\n\t      } else {\r\n\t\r\n\t        s._setup_html5().play();\r\n\t        start_html5_timer();\r\n\t\r\n\t      }\r\n\t\r\n\t      if (!onplay_called && instanceOptions.onplay) {\r\n\t\r\n\t        instanceOptions.onplay.apply(s);\r\n\t        onplay_called = true;\r\n\t\r\n\t      } else if (instanceOptions.onresume) {\r\n\t\r\n\t        instanceOptions.onresume.apply(s);\r\n\t\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Toggles sound playback.\r\n\t     *\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.togglePause = function() {\r\n\t\r\n\t      sm2._wD(s.id + ': togglePause()');\r\n\t\r\n\t      if (s.playState === 0) {\r\n\t        s.play({\r\n\t          position: (fV === 9 && !s.isHTML5 ? s.position : s.position / msecScale)\r\n\t        });\r\n\t        return s;\r\n\t      }\r\n\t\r\n\t      if (s.paused) {\r\n\t        s.resume();\r\n\t      } else {\r\n\t        s.pause();\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Sets the panning (L-R) effect.\r\n\t     *\r\n\t     * @param {number} nPan The pan value (-100 to 100)\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.setPan = function(nPan, bInstanceOnly) {\r\n\t\r\n\t      if (nPan === _undefined) {\r\n\t        nPan = 0;\r\n\t      }\r\n\t\r\n\t      if (bInstanceOnly === _undefined) {\r\n\t        bInstanceOnly = false;\r\n\t      }\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t        flash._setPan(s.id, nPan);\r\n\t      } // else { no HTML5 pan? }\r\n\t\r\n\t      s._iO.pan = nPan;\r\n\t\r\n\t      if (!bInstanceOnly) {\r\n\t        s.pan = nPan;\r\n\t        s.options.pan = nPan;\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Sets the volume.\r\n\t     *\r\n\t     * @param {number} nVol The volume value (0 to 100)\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.setVolume = function(nVol, _bInstanceOnly) {\r\n\t\r\n\t      /**\r\n\t       * Note: Setting volume has no effect on iOS \"special snowflake\" devices.\r\n\t       * Hardware volume control overrides software, and volume\r\n\t       * will always return 1 per Apple docs. (iOS 4 + 5.)\r\n\t       * http://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/HTML-canvas-guide/AddingSoundtoCanvasAnimations/AddingSoundtoCanvasAnimations.html\r\n\t       */\r\n\t\r\n\t      if (nVol === _undefined) {\r\n\t        nVol = 100;\r\n\t      }\r\n\t\r\n\t      if (_bInstanceOnly === _undefined) {\r\n\t        _bInstanceOnly = false;\r\n\t      }\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t\r\n\t        flash._setVolume(s.id, (sm2.muted && !s.muted) || s.muted ? 0 : nVol);\r\n\t\r\n\t      } else if (s._a) {\r\n\t\r\n\t        if (sm2.muted && !s.muted) {\r\n\t          s.muted = true;\r\n\t          s._a.muted = true;\r\n\t        }\r\n\t\r\n\t        // valid range for native HTML5 Audio(): 0-1\r\n\t        s._a.volume = Math.max(0, Math.min(1, nVol / 100));\r\n\t\r\n\t      }\r\n\t\r\n\t      s._iO.volume = nVol;\r\n\t\r\n\t      if (!_bInstanceOnly) {\r\n\t        s.volume = nVol;\r\n\t        s.options.volume = nVol;\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Mutes the sound.\r\n\t     *\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.mute = function() {\r\n\t\r\n\t      s.muted = true;\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t        flash._setVolume(s.id, 0);\r\n\t      } else if (s._a) {\r\n\t        s._a.muted = true;\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Unmutes the sound.\r\n\t     *\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.unmute = function() {\r\n\t\r\n\t      s.muted = false;\r\n\t      var hasIO = (s._iO.volume !== _undefined);\r\n\t\r\n\t      if (!s.isHTML5) {\r\n\t        flash._setVolume(s.id, hasIO ? s._iO.volume : s.options.volume);\r\n\t      } else if (s._a) {\r\n\t        s._a.muted = false;\r\n\t      }\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Toggles the muted state of a sound.\r\n\t     *\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.toggleMute = function() {\r\n\t\r\n\t      return (s.muted ? s.unmute() : s.mute());\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Registers a callback to be fired when a sound reaches a given position during playback.\r\n\t     *\r\n\t     * @param {number} nPosition The position to watch for\r\n\t     * @param {function} oMethod The relevant callback to fire\r\n\t     * @param {object} oScope Optional: The scope to apply the callback to\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.onPosition = function(nPosition, oMethod, oScope) {\r\n\t\r\n\t      // TODO: basic dupe checking?\r\n\t\r\n\t      onPositionItems.push({\r\n\t        position: parseInt(nPosition, 10),\r\n\t        method: oMethod,\r\n\t        scope: (oScope !== _undefined ? oScope : s),\r\n\t        fired: false\r\n\t      });\r\n\t\r\n\t      return s;\r\n\t\r\n\t    };\r\n\t\r\n\t    // legacy/backwards-compability: lower-case method name\r\n\t    this.onposition = this.onPosition;\r\n\t\r\n\t    /**\r\n\t     * Removes registered callback(s) from a sound, by position and/or callback.\r\n\t     *\r\n\t     * @param {number} nPosition The position to clear callback(s) for\r\n\t     * @param {function} oMethod Optional: Identify one callback to be removed when multiple listeners exist for one position\r\n\t     * @return {SMSound} The SMSound object\r\n\t     */\r\n\t\r\n\t    this.clearOnPosition = function(nPosition, oMethod) {\r\n\t\r\n\t      var i;\r\n\t\r\n\t      nPosition = parseInt(nPosition, 10);\r\n\t\r\n\t      if (isNaN(nPosition)) {\r\n\t        // safety check\r\n\t        return;\r\n\t      }\r\n\t\r\n\t      for (i = 0; i < onPositionItems.length; i++) {\r\n\t\r\n\t        if (nPosition === onPositionItems[i].position) {\r\n\t          // remove this item if no method was specified, or, if the method matches\r\n\t\r\n\t          if (!oMethod || (oMethod === onPositionItems[i].method)) {\r\n\t\r\n\t            if (onPositionItems[i].fired) {\r\n\t              // decrement \"fired\" counter, too\r\n\t              onPositionFired--;\r\n\t            }\r\n\t\r\n\t            onPositionItems.splice(i, 1);\r\n\t\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    this._processOnPosition = function() {\r\n\t\r\n\t      var i, item, j = onPositionItems.length;\r\n\t\r\n\t      if (!j || !s.playState || onPositionFired >= j) return false;\r\n\t\r\n\t      for (i = j - 1; i >= 0; i--) {\r\n\t\r\n\t        item = onPositionItems[i];\r\n\t\r\n\t        if (!item.fired && s.position >= item.position) {\r\n\t\r\n\t          item.fired = true;\r\n\t          onPositionFired++;\r\n\t          item.method.apply(item.scope, [item.position]);\r\n\t\r\n\t          //  reset j -- onPositionItems.length can be changed in the item callback above... occasionally breaking the loop.\r\n\t          j = onPositionItems.length;\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      return true;\r\n\t\r\n\t    };\r\n\t\r\n\t    this._resetOnPosition = function(nPosition) {\r\n\t\r\n\t      // reset \"fired\" for items interested in this position\r\n\t      var i, item, j = onPositionItems.length;\r\n\t\r\n\t      if (!j) return false;\r\n\t\r\n\t      for (i = j - 1; i >= 0; i--) {\r\n\t\r\n\t        item = onPositionItems[i];\r\n\t\r\n\t        if (item.fired && nPosition <= item.position) {\r\n\t          item.fired = false;\r\n\t          onPositionFired--;\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      return true;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * SMSound() private internals\r\n\t     * --------------------------------\r\n\t     */\r\n\t\r\n\t    applyFromTo = function() {\r\n\t\r\n\t      var instanceOptions = s._iO,\r\n\t          f = instanceOptions.from,\r\n\t          t = instanceOptions.to,\r\n\t          start, end;\r\n\t\r\n\t      end = function() {\r\n\t\r\n\t        // end has been reached.\r\n\t        sm2._wD(s.id + ': \"To\" time of ' + t + ' reached.');\r\n\t\r\n\t        // detach listener\r\n\t        s.clearOnPosition(t, end);\r\n\t\r\n\t        // stop should clear this, too\r\n\t        s.stop();\r\n\t\r\n\t      };\r\n\t\r\n\t      start = function() {\r\n\t\r\n\t        sm2._wD(s.id + ': Playing \"from\" ' + f);\r\n\t\r\n\t        // add listener for end\r\n\t        if (t !== null && !isNaN(t)) {\r\n\t          s.onPosition(t, end);\r\n\t        }\r\n\t\r\n\t      };\r\n\t\r\n\t      if (f !== null && !isNaN(f)) {\r\n\t\r\n\t        // apply to instance options, guaranteeing correct start position.\r\n\t        instanceOptions.position = f;\r\n\t\r\n\t        // multiShot timing can't be tracked, so prevent that.\r\n\t        instanceOptions.multiShot = false;\r\n\t\r\n\t        start();\r\n\t\r\n\t      }\r\n\t\r\n\t      // return updated instanceOptions including starting position\r\n\t      return instanceOptions;\r\n\t\r\n\t    };\r\n\t\r\n\t    attachOnPosition = function() {\r\n\t\r\n\t      var item,\r\n\t          op = s._iO.onposition;\r\n\t\r\n\t      // attach onposition things, if any, now.\r\n\t\r\n\t      if (op) {\r\n\t\r\n\t        for (item in op) {\r\n\t          if (op.hasOwnProperty(item)) {\r\n\t            s.onPosition(parseInt(item, 10), op[item]);\r\n\t          }\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    detachOnPosition = function() {\r\n\t\r\n\t      var item,\r\n\t          op = s._iO.onposition;\r\n\t\r\n\t      // detach any onposition()-style listeners.\r\n\t\r\n\t      if (op) {\r\n\t\r\n\t        for (item in op) {\r\n\t          if (op.hasOwnProperty(item)) {\r\n\t            s.clearOnPosition(parseInt(item, 10));\r\n\t          }\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    start_html5_timer = function() {\r\n\t\r\n\t      if (s.isHTML5) {\r\n\t        startTimer(s);\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    stop_html5_timer = function() {\r\n\t\r\n\t      if (s.isHTML5) {\r\n\t        stopTimer(s);\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    resetProperties = function(retainPosition) {\r\n\t\r\n\t      if (!retainPosition) {\r\n\t        onPositionItems = [];\r\n\t        onPositionFired = 0;\r\n\t      }\r\n\t\r\n\t      onplay_called = false;\r\n\t\r\n\t      s._hasTimer = null;\r\n\t      s._a = null;\r\n\t      s._html5_canplay = false;\r\n\t      s.bytesLoaded = null;\r\n\t      s.bytesTotal = null;\r\n\t      s.duration = (s._iO && s._iO.duration ? s._iO.duration : null);\r\n\t      s.durationEstimate = null;\r\n\t      s.buffered = [];\r\n\t\r\n\t      // legacy: 1D array\r\n\t      s.eqData = [];\r\n\t\r\n\t      s.eqData.left = [];\r\n\t      s.eqData.right = [];\r\n\t\r\n\t      s.failures = 0;\r\n\t      s.isBuffering = false;\r\n\t      s.instanceOptions = {};\r\n\t      s.instanceCount = 0;\r\n\t      s.loaded = false;\r\n\t      s.metadata = {};\r\n\t\r\n\t      // 0 = uninitialised, 1 = loading, 2 = failed/error, 3 = loaded/success\r\n\t      s.readyState = 0;\r\n\t\r\n\t      s.muted = false;\r\n\t      s.paused = false;\r\n\t\r\n\t      s.peakData = {\r\n\t        left: 0,\r\n\t        right: 0\r\n\t      };\r\n\t\r\n\t      s.waveformData = {\r\n\t        left: [],\r\n\t        right: []\r\n\t      };\r\n\t\r\n\t      s.playState = 0;\r\n\t      s.position = null;\r\n\t\r\n\t      s.id3 = {};\r\n\t\r\n\t    };\r\n\t\r\n\t    resetProperties();\r\n\t\r\n\t    /**\r\n\t     * Pseudo-private SMSound internals\r\n\t     * --------------------------------\r\n\t     */\r\n\t\r\n\t    this._onTimer = function(bForce) {\r\n\t\r\n\t      /**\r\n\t       * HTML5-only _whileplaying() etc.\r\n\t       * called from both HTML5 native events, and polling/interval-based timers\r\n\t       * mimics flash and fires only when time/duration change, so as to be polling-friendly\r\n\t       */\r\n\t\r\n\t      var duration, isNew = false, time, x = {};\r\n\t\r\n\t      if (s._hasTimer || bForce) {\r\n\t\r\n\t        // TODO: May not need to track readyState (1 = loading)\r\n\t\r\n\t        if (s._a && (bForce || ((s.playState > 0 || s.readyState === 1) && !s.paused))) {\r\n\t\r\n\t          duration = s._get_html5_duration();\r\n\t\r\n\t          if (duration !== lastHTML5State.duration) {\r\n\t\r\n\t            lastHTML5State.duration = duration;\r\n\t            s.duration = duration;\r\n\t            isNew = true;\r\n\t\r\n\t          }\r\n\t\r\n\t          // TODO: investigate why this goes wack if not set/re-set each time.\r\n\t          s.durationEstimate = s.duration;\r\n\t\r\n\t          time = (s._a.currentTime * msecScale || 0);\r\n\t\r\n\t          if (time !== lastHTML5State.time) {\r\n\t\r\n\t            lastHTML5State.time = time;\r\n\t            isNew = true;\r\n\t\r\n\t          }\r\n\t\r\n\t          if (isNew || bForce) {\r\n\t\r\n\t            s._whileplaying(time, x, x, x, x);\r\n\t\r\n\t          }\r\n\t\r\n\t        }/* else {\r\n\t\r\n\t          // sm2._wD('_onTimer: Warn for \"'+s.id+'\": '+(!s._a?'Could not find element. ':'')+(s.playState === 0?'playState bad, 0?':'playState = '+s.playState+', OK'));\r\n\t\r\n\t          return false;\r\n\t\r\n\t        }*/\r\n\t\r\n\t      }\r\n\t\r\n\t      return isNew;\r\n\t\r\n\t    };\r\n\t\r\n\t    this._get_html5_duration = function() {\r\n\t\r\n\t      var instanceOptions = s._iO,\r\n\t          // if audio object exists, use its duration - else, instance option duration (if provided - it's a hack, really, and should be retired) OR null\r\n\t          d = (s._a && s._a.duration ? s._a.duration * msecScale : (instanceOptions && instanceOptions.duration ? instanceOptions.duration : null)),\r\n\t          result = (d && !isNaN(d) && d !== Infinity ? d : null);\r\n\t\r\n\t      return result;\r\n\t\r\n\t    };\r\n\t\r\n\t    this._apply_loop = function(a, nLoops) {\r\n\t\r\n\t      /**\r\n\t       * boolean instead of \"loop\", for webkit? - spec says string. http://www.w3.org/TR/html-markup/audio.html#audio.attrs.loop\r\n\t       * note that loop is either off or infinite under HTML5, unlike Flash which allows arbitrary loop counts to be specified.\r\n\t       */\r\n\t\r\n\t      // <d>\r\n\t      if (!a.loop && nLoops > 1) {\r\n\t        sm2._wD('Note: Native HTML5 looping is infinite.', 1);\r\n\t      }\r\n\t      // </d>\r\n\t\r\n\t      a.loop = (nLoops > 1 ? 'loop' : '');\r\n\t\r\n\t    };\r\n\t\r\n\t    this._setup_html5 = function(options) {\r\n\t\r\n\t      var instanceOptions = mixin(s._iO, options),\r\n\t          a = useGlobalHTML5Audio ? globalHTML5Audio : s._a,\r\n\t          dURL = decodeURI(instanceOptions.url),\r\n\t          sameURL;\r\n\t\r\n\t      /**\r\n\t       * \"First things first, I, Poppa...\" (reset the previous state of the old sound, if playing)\r\n\t       * Fixes case with devices that can only play one sound at a time\r\n\t       * Otherwise, other sounds in mid-play will be terminated without warning and in a stuck state\r\n\t       */\r\n\t\r\n\t      if (useGlobalHTML5Audio) {\r\n\t\r\n\t        if (dURL === decodeURI(lastGlobalHTML5URL)) {\r\n\t          // global HTML5 audio: re-use of URL\r\n\t          sameURL = true;\r\n\t        }\r\n\t\r\n\t      } else if (dURL === decodeURI(lastURL)) {\r\n\t\r\n\t        // options URL is the same as the \"last\" URL, and we used (loaded) it\r\n\t        sameURL = true;\r\n\t\r\n\t      }\r\n\t\r\n\t      if (a) {\r\n\t\r\n\t        if (a._s) {\r\n\t\r\n\t          if (useGlobalHTML5Audio) {\r\n\t\r\n\t            if (a._s && a._s.playState && !sameURL) {\r\n\t\r\n\t              // global HTML5 audio case, and loading a new URL. stop the currently-playing one.\r\n\t              a._s.stop();\r\n\t\r\n\t            }\r\n\t\r\n\t          } else if (!useGlobalHTML5Audio && dURL === decodeURI(lastURL)) {\r\n\t\r\n\t            // non-global HTML5 reuse case: same url, ignore request\r\n\t            s._apply_loop(a, instanceOptions.loops);\r\n\t\r\n\t            return a;\r\n\t\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t        if (!sameURL) {\r\n\t\r\n\t          // don't retain onPosition() stuff with new URLs.\r\n\t\r\n\t          if (lastURL) {\r\n\t            resetProperties(false);\r\n\t          }\r\n\t\r\n\t          // assign new HTML5 URL\r\n\t\r\n\t          a.src = instanceOptions.url;\r\n\t\r\n\t          s.url = instanceOptions.url;\r\n\t\r\n\t          lastURL = instanceOptions.url;\r\n\t\r\n\t          lastGlobalHTML5URL = instanceOptions.url;\r\n\t\r\n\t          a._called_load = false;\r\n\t\r\n\t        }\r\n\t\r\n\t      } else {\r\n\t\r\n\t        if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n\t\r\n\t          s._a = new Audio(instanceOptions.url);\r\n\t          s._a.load();\r\n\t\r\n\t        } else {\r\n\t\r\n\t          // null for stupid Opera 9.64 case\r\n\t          s._a = (isOpera && opera.version() < 10 ? new Audio(null) : new Audio());\r\n\t\r\n\t        }\r\n\t\r\n\t        // assign local reference\r\n\t        a = s._a;\r\n\t\r\n\t        a._called_load = false;\r\n\t\r\n\t        if (useGlobalHTML5Audio) {\r\n\t\r\n\t          globalHTML5Audio = a;\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      s.isHTML5 = true;\r\n\t\r\n\t      // store a ref on the track\r\n\t      s._a = a;\r\n\t\r\n\t      // store a ref on the audio\r\n\t      a._s = s;\r\n\t\r\n\t      add_html5_events();\r\n\t\r\n\t      s._apply_loop(a, instanceOptions.loops);\r\n\t\r\n\t      if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n\t\r\n\t        s.load();\r\n\t\r\n\t      } else {\r\n\t\r\n\t        // early HTML5 implementation (non-standard)\r\n\t        a.autobuffer = false;\r\n\t\r\n\t        // standard ('none' is also an option.)\r\n\t        a.preload = 'auto';\r\n\t\r\n\t      }\r\n\t\r\n\t      return a;\r\n\t\r\n\t    };\r\n\t\r\n\t    add_html5_events = function() {\r\n\t\r\n\t      if (s._a._added_events) return false;\r\n\t\r\n\t      var f;\r\n\t\r\n\t      function add(oEvt, oFn, bCapture) {\r\n\t        return s._a ? s._a.addEventListener(oEvt, oFn, bCapture || false) : null;\r\n\t      }\r\n\t\r\n\t      s._a._added_events = true;\r\n\t\r\n\t      for (f in html5_events) {\r\n\t        if (html5_events.hasOwnProperty(f)) {\r\n\t          add(f, html5_events[f]);\r\n\t        }\r\n\t      }\r\n\t\r\n\t      return true;\r\n\t\r\n\t    };\r\n\t\r\n\t    remove_html5_events = function() {\r\n\t\r\n\t      // Remove event listeners\r\n\t\r\n\t      var f;\r\n\t\r\n\t      function remove(oEvt, oFn, bCapture) {\r\n\t        return (s._a ? s._a.removeEventListener(oEvt, oFn, bCapture || false) : null);\r\n\t      }\r\n\t\r\n\t      sm2._wD(s.id + ': Removing event listeners');\r\n\t      s._a._added_events = false;\r\n\t\r\n\t      for (f in html5_events) {\r\n\t        if (html5_events.hasOwnProperty(f)) {\r\n\t          remove(f, html5_events[f]);\r\n\t        }\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Pseudo-private event internals\r\n\t     * ------------------------------\r\n\t     */\r\n\t\r\n\t    this._onload = function(nSuccess) {\r\n\t\r\n\t      var fN,\r\n\t          // check for duration to prevent false positives from flash 8 when loading from cache.\r\n\t          loadOK = !!nSuccess || (!s.isHTML5 && fV === 8 && s.duration);\r\n\t\r\n\t      // <d>\r\n\t      fN = s.id + ': ';\r\n\t      sm2._wD(fN + (loadOK ? 'onload()' : 'Failed to load / invalid sound?' + (!s.duration ? ' Zero-length duration reported.' : ' -') + ' (' + s.url + ')'), (loadOK ? 1 : 2));\r\n\t\r\n\t      if (!loadOK && !s.isHTML5) {\r\n\t        if (sm2.sandbox.noRemote === true) {\r\n\t          sm2._wD(fN + str('noNet'), 1);\r\n\t        }\r\n\t        if (sm2.sandbox.noLocal === true) {\r\n\t          sm2._wD(fN + str('noLocal'), 1);\r\n\t        }\r\n\t      }\r\n\t      // </d>\r\n\t\r\n\t      s.loaded = loadOK;\r\n\t      s.readyState = (loadOK ? 3 : 2);\r\n\t      s._onbufferchange(0);\r\n\t\r\n\t      if (!loadOK && !s.isHTML5) {\r\n\t        // note: no error code from Flash.\r\n\t        s._onerror();\r\n\t      }\r\n\t\r\n\t      if (s._iO.onload) {\r\n\t        wrapCallback(s, function() {\r\n\t          s._iO.onload.apply(s, [loadOK]);\r\n\t        });\r\n\t      }\r\n\t\r\n\t      return true;\r\n\t\r\n\t    };\r\n\t\r\n\t    this._onerror = function(errorCode, description) {\r\n\t\r\n\t      // https://html.spec.whatwg.org/multipage/embedded-content.html#error-codes\r\n\t      if (s._iO.onerror) {\r\n\t        wrapCallback(s, function() {\r\n\t          s._iO.onerror.apply(s, [errorCode, description]);\r\n\t        });\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    this._onbufferchange = function(nIsBuffering) {\r\n\t\r\n\t      // ignore if not playing\r\n\t      if (s.playState === 0) return false;\r\n\t\r\n\t      if ((nIsBuffering && s.isBuffering) || (!nIsBuffering && !s.isBuffering)) return false;\r\n\t\r\n\t      s.isBuffering = (nIsBuffering === 1);\r\n\t\r\n\t      if (s._iO.onbufferchange) {\r\n\t        sm2._wD(s.id + ': Buffer state change: ' + nIsBuffering);\r\n\t        s._iO.onbufferchange.apply(s, [nIsBuffering]);\r\n\t      }\r\n\t\r\n\t      return true;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * Playback may have stopped due to buffering, or related reason.\r\n\t     * This state can be encountered on iOS < 6 when auto-play is blocked.\r\n\t     */\r\n\t\r\n\t    this._onsuspend = function() {\r\n\t\r\n\t      if (s._iO.onsuspend) {\r\n\t        sm2._wD(s.id + ': Playback suspended');\r\n\t        s._iO.onsuspend.apply(s);\r\n\t      }\r\n\t\r\n\t      return true;\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * flash 9/movieStar + RTMP-only method, should fire only once at most\r\n\t     * at this point we just recreate failed sounds rather than trying to reconnect\r\n\t     */\r\n\t\r\n\t    this._onfailure = function(msg, level, code) {\r\n\t\r\n\t      s.failures++;\r\n\t      sm2._wD(s.id + ': Failure (' + s.failures + '): ' + msg);\r\n\t\r\n\t      if (s._iO.onfailure && s.failures === 1) {\r\n\t        s._iO.onfailure(msg, level, code);\r\n\t      } else {\r\n\t        sm2._wD(s.id + ': Ignoring failure');\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    /**\r\n\t     * flash 9/movieStar + RTMP-only method for unhandled warnings/exceptions from Flash\r\n\t     * e.g., RTMP \"method missing\" warning (non-fatal) for getStreamLength on server\r\n\t     */\r\n\t\r\n\t    this._onwarning = function(msg, level, code) {\r\n\t\r\n\t      if (s._iO.onwarning) {\r\n\t        s._iO.onwarning(msg, level, code);\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    this._onfinish = function() {\r\n\t\r\n\t      // store local copy before it gets trashed...\r\n\t      var io_onfinish = s._iO.onfinish;\r\n\t\r\n\t      s._onbufferchange(0);\r\n\t      s._resetOnPosition(0);\r\n\t\r\n\t      // reset some state items\r\n\t      if (s.instanceCount) {\r\n\t\r\n\t        s.instanceCount--;\r\n\t\r\n\t        if (!s.instanceCount) {\r\n\t\r\n\t          // remove onPosition listeners, if any\r\n\t          detachOnPosition();\r\n\t\r\n\t          // reset instance options\r\n\t          s.playState = 0;\r\n\t          s.paused = false;\r\n\t          s.instanceCount = 0;\r\n\t          s.instanceOptions = {};\r\n\t          s._iO = {};\r\n\t          stop_html5_timer();\r\n\t\r\n\t          // reset position, too\r\n\t          if (s.isHTML5) {\r\n\t            s.position = 0;\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t        if (!s.instanceCount || s._iO.multiShotEvents) {\r\n\t          // fire onfinish for last, or every instance\r\n\t          if (io_onfinish) {\r\n\t            sm2._wD(s.id + ': onfinish()');\r\n\t            wrapCallback(s, function() {\r\n\t              io_onfinish.apply(s);\r\n\t            });\r\n\t          }\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    this._whileloading = function(nBytesLoaded, nBytesTotal, nDuration, nBufferLength) {\r\n\t\r\n\t      var instanceOptions = s._iO;\r\n\t\r\n\t      s.bytesLoaded = nBytesLoaded;\r\n\t      s.bytesTotal = nBytesTotal;\r\n\t      s.duration = Math.floor(nDuration);\r\n\t      s.bufferLength = nBufferLength;\r\n\t\r\n\t      if (!s.isHTML5 && !instanceOptions.isMovieStar) {\r\n\t\r\n\t        if (instanceOptions.duration) {\r\n\t          // use duration from options, if specified and larger. nobody should be specifying duration in options, actually, and it should be retired.\r\n\t          s.durationEstimate = (s.duration > instanceOptions.duration) ? s.duration : instanceOptions.duration;\r\n\t        } else {\r\n\t          s.durationEstimate = parseInt((s.bytesTotal / s.bytesLoaded) * s.duration, 10);\r\n\t        }\r\n\t\r\n\t      } else {\r\n\t\r\n\t        s.durationEstimate = s.duration;\r\n\t\r\n\t      }\r\n\t\r\n\t      // for flash, reflect sequential-load-style buffering\r\n\t      if (!s.isHTML5) {\r\n\t        s.buffered = [{\r\n\t          start: 0,\r\n\t          end: s.duration\r\n\t        }];\r\n\t      }\r\n\t\r\n\t      // allow whileloading to fire even if \"load\" fired under HTML5, due to HTTP range/partials\r\n\t      if ((s.readyState !== 3 || s.isHTML5) && instanceOptions.whileloading) {\r\n\t        instanceOptions.whileloading.apply(s);\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    this._whileplaying = function(nPosition, oPeakData, oWaveformDataLeft, oWaveformDataRight, oEQData) {\r\n\t\r\n\t      var instanceOptions = s._iO,\r\n\t          eqLeft;\r\n\t\r\n\t      // flash safety net\r\n\t      if (isNaN(nPosition) || nPosition === null) return false;\r\n\t\r\n\t      // Safari HTML5 play() may return small -ve values when starting from position: 0, eg. -50.120396875. Unexpected/invalid per W3, I think. Normalize to 0.\r\n\t      s.position = Math.max(0, nPosition);\r\n\t\r\n\t      s._processOnPosition();\r\n\t\r\n\t      if (!s.isHTML5 && fV > 8) {\r\n\t\r\n\t        if (instanceOptions.usePeakData && oPeakData !== _undefined && oPeakData) {\r\n\t          s.peakData = {\r\n\t            left: oPeakData.leftPeak,\r\n\t            right: oPeakData.rightPeak\r\n\t          };\r\n\t        }\r\n\t\r\n\t        if (instanceOptions.useWaveformData && oWaveformDataLeft !== _undefined && oWaveformDataLeft) {\r\n\t          s.waveformData = {\r\n\t            left: oWaveformDataLeft.split(','),\r\n\t            right: oWaveformDataRight.split(',')\r\n\t          };\r\n\t        }\r\n\t\r\n\t        if (instanceOptions.useEQData) {\r\n\t          if (oEQData !== _undefined && oEQData && oEQData.leftEQ) {\r\n\t            eqLeft = oEQData.leftEQ.split(',');\r\n\t            s.eqData = eqLeft;\r\n\t            s.eqData.left = eqLeft;\r\n\t            if (oEQData.rightEQ !== _undefined && oEQData.rightEQ) {\r\n\t              s.eqData.right = oEQData.rightEQ.split(',');\r\n\t            }\r\n\t          }\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      if (s.playState === 1) {\r\n\t\r\n\t        // special case/hack: ensure buffering is false if loading from cache (and not yet started)\r\n\t        if (!s.isHTML5 && fV === 8 && !s.position && s.isBuffering) {\r\n\t          s._onbufferchange(0);\r\n\t        }\r\n\t\r\n\t        if (instanceOptions.whileplaying) {\r\n\t          // flash may call after actual finish\r\n\t          instanceOptions.whileplaying.apply(s);\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      return true;\r\n\t\r\n\t    };\r\n\t\r\n\t    this._oncaptiondata = function(oData) {\r\n\t\r\n\t      /**\r\n\t       * internal: flash 9 + NetStream (MovieStar/RTMP-only) feature\r\n\t       *\r\n\t       * @param {object} oData\r\n\t       */\r\n\t\r\n\t      sm2._wD(s.id + ': Caption data received.');\r\n\t\r\n\t      s.captiondata = oData;\r\n\t\r\n\t      if (s._iO.oncaptiondata) {\r\n\t        s._iO.oncaptiondata.apply(s, [oData]);\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    this._onmetadata = function(oMDProps, oMDData) {\r\n\t\r\n\t      /**\r\n\t       * internal: flash 9 + NetStream (MovieStar/RTMP-only) feature\r\n\t       * RTMP may include song title, MovieStar content may include encoding info\r\n\t       *\r\n\t       * @param {array} oMDProps (names)\r\n\t       * @param {array} oMDData (values)\r\n\t       */\r\n\t\r\n\t      sm2._wD(s.id + ': Metadata received.');\r\n\t\r\n\t      var oData = {}, i, j;\r\n\t\r\n\t      for (i = 0, j = oMDProps.length; i < j; i++) {\r\n\t        oData[oMDProps[i]] = oMDData[i];\r\n\t      }\r\n\t\r\n\t      s.metadata = oData;\r\n\t\r\n\t      if (s._iO.onmetadata) {\r\n\t        s._iO.onmetadata.call(s, s.metadata);\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    this._onid3 = function(oID3Props, oID3Data) {\r\n\t\r\n\t      /**\r\n\t       * internal: flash 8 + flash 9 ID3 feature\r\n\t       * may include artist, song title etc.\r\n\t       *\r\n\t       * @param {array} oID3Props (names)\r\n\t       * @param {array} oID3Data (values)\r\n\t       */\r\n\t\r\n\t      sm2._wD(s.id + ': ID3 data received.');\r\n\t\r\n\t      var oData = [], i, j;\r\n\t\r\n\t      for (i = 0, j = oID3Props.length; i < j; i++) {\r\n\t        oData[oID3Props[i]] = oID3Data[i];\r\n\t      }\r\n\t\r\n\t      s.id3 = mixin(s.id3, oData);\r\n\t\r\n\t      if (s._iO.onid3) {\r\n\t        s._iO.onid3.apply(s);\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    // flash/RTMP-only\r\n\t\r\n\t    this._onconnect = function(bSuccess) {\r\n\t\r\n\t      bSuccess = (bSuccess === 1);\r\n\t      sm2._wD(s.id + ': ' + (bSuccess ? 'Connected.' : 'Failed to connect? - ' + s.url), (bSuccess ? 1 : 2));\r\n\t      s.connected = bSuccess;\r\n\t\r\n\t      if (bSuccess) {\r\n\t\r\n\t        s.failures = 0;\r\n\t\r\n\t        if (idCheck(s.id)) {\r\n\t          if (s.getAutoPlay()) {\r\n\t            // only update the play state if auto playing\r\n\t            s.play(_undefined, s.getAutoPlay());\r\n\t          } else if (s._iO.autoLoad) {\r\n\t            s.load();\r\n\t          }\r\n\t        }\r\n\t\r\n\t        if (s._iO.onconnect) {\r\n\t          s._iO.onconnect.apply(s, [bSuccess]);\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    this._ondataerror = function(sError) {\r\n\t\r\n\t      // flash 9 wave/eq data handler\r\n\t      // hack: called at start, and end from flash at/after onfinish()\r\n\t      if (s.playState > 0) {\r\n\t        sm2._wD(s.id + ': Data error: ' + sError);\r\n\t        if (s._iO.ondataerror) {\r\n\t          s._iO.ondataerror.apply(s);\r\n\t        }\r\n\t      }\r\n\t\r\n\t    };\r\n\t\r\n\t    // <d>\r\n\t    this._debug();\r\n\t    // </d>\r\n\t\r\n\t  }; // SMSound()\r\n\t\r\n\t  /**\r\n\t   * Private SoundManager internals\r\n\t   * ------------------------------\r\n\t   */\r\n\t\r\n\t  getDocument = function() {\r\n\t\r\n\t    return (doc.body || doc.getElementsByTagName('div')[0]);\r\n\t\r\n\t  };\r\n\t\r\n\t  id = function(sID) {\r\n\t\r\n\t    return doc.getElementById(sID);\r\n\t\r\n\t  };\r\n\t\r\n\t  mixin = function(oMain, oAdd) {\r\n\t\r\n\t    // non-destructive merge\r\n\t    var o1 = (oMain || {}), o2, o;\r\n\t\r\n\t    // if unspecified, o2 is the default options object\r\n\t    o2 = (oAdd === _undefined ? sm2.defaultOptions : oAdd);\r\n\t\r\n\t    for (o in o2) {\r\n\t\r\n\t      if (o2.hasOwnProperty(o) && o1[o] === _undefined) {\r\n\t\r\n\t        if (typeof o2[o] !== 'object' || o2[o] === null) {\r\n\t\r\n\t          // assign directly\r\n\t          o1[o] = o2[o];\r\n\t\r\n\t        } else {\r\n\t\r\n\t          // recurse through o2\r\n\t          o1[o] = mixin(o1[o], o2[o]);\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    return o1;\r\n\t\r\n\t  };\r\n\t\r\n\t  wrapCallback = function(oSound, callback) {\r\n\t\r\n\t    /**\r\n\t     * 03/03/2013: Fix for Flash Player 11.6.602.171 + Flash 8 (flashVersion = 8) SWF issue\r\n\t     * setTimeout() fix for certain SMSound callbacks like onload() and onfinish(), where subsequent calls like play() and load() fail when Flash Player 11.6.602.171 is installed, and using soundManager with flashVersion = 8 (which is the default).\r\n\t     * Not sure of exact cause. Suspect race condition and/or invalid (NaN-style) position argument trickling down to the next JS -> Flash _start() call, in the play() case.\r\n\t     * Fix: setTimeout() to yield, plus safer null / NaN checking on position argument provided to Flash.\r\n\t     * https://getsatisfaction.com/schillmania/topics/recent_chrome_update_seems_to_have_broken_my_sm2_audio_player\r\n\t     */\r\n\t    if (!oSound.isHTML5 && fV === 8) {\r\n\t      window.setTimeout(callback, 0);\r\n\t    } else {\r\n\t      callback();\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  // additional soundManager properties that soundManager.setup() will accept\r\n\t\r\n\t  extraOptions = {\r\n\t    onready: 1,\r\n\t    ontimeout: 1,\r\n\t    defaultOptions: 1,\r\n\t    flash9Options: 1,\r\n\t    movieStarOptions: 1\r\n\t  };\r\n\t\r\n\t  assign = function(o, oParent) {\r\n\t\r\n\t    /**\r\n\t     * recursive assignment of properties, soundManager.setup() helper\r\n\t     * allows property assignment based on whitelist\r\n\t     */\r\n\t\r\n\t    var i,\r\n\t        result = true,\r\n\t        hasParent = (oParent !== _undefined),\r\n\t        setupOptions = sm2.setupOptions,\r\n\t        bonusOptions = extraOptions;\r\n\t\r\n\t    // <d>\r\n\t\r\n\t    // if soundManager.setup() called, show accepted parameters.\r\n\t\r\n\t    if (o === _undefined) {\r\n\t\r\n\t      result = [];\r\n\t\r\n\t      for (i in setupOptions) {\r\n\t\r\n\t        if (setupOptions.hasOwnProperty(i)) {\r\n\t          result.push(i);\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      for (i in bonusOptions) {\r\n\t\r\n\t        if (bonusOptions.hasOwnProperty(i)) {\r\n\t\r\n\t          if (typeof sm2[i] === 'object') {\r\n\t            result.push(i + ': {...}');\r\n\t          } else if (sm2[i] instanceof Function) {\r\n\t            result.push(i + ': function() {...}');\r\n\t          } else {\r\n\t            result.push(i);\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      sm2._wD(str('setup', result.join(', ')));\r\n\t\r\n\t      return false;\r\n\t\r\n\t    }\r\n\t\r\n\t    // </d>\r\n\t\r\n\t    for (i in o) {\r\n\t\r\n\t      if (o.hasOwnProperty(i)) {\r\n\t\r\n\t        // if not an {object} we want to recurse through...\r\n\t\r\n\t        if (typeof o[i] !== 'object' || o[i] === null || o[i] instanceof Array || o[i] instanceof RegExp) {\r\n\t\r\n\t          // check \"allowed\" options\r\n\t\r\n\t          if (hasParent && bonusOptions[oParent] !== _undefined) {\r\n\t\r\n\t            // valid recursive / nested object option, eg., { defaultOptions: { volume: 50 } }\r\n\t            sm2[oParent][i] = o[i];\r\n\t\r\n\t          } else if (setupOptions[i] !== _undefined) {\r\n\t\r\n\t            // special case: assign to setupOptions object, which soundManager property references\r\n\t            sm2.setupOptions[i] = o[i];\r\n\t\r\n\t            // assign directly to soundManager, too\r\n\t            sm2[i] = o[i];\r\n\t\r\n\t          } else if (bonusOptions[i] === _undefined) {\r\n\t\r\n\t            // invalid or disallowed parameter. complain.\r\n\t            complain(str((sm2[i] === _undefined ? 'setupUndef' : 'setupError'), i), 2);\r\n\t\r\n\t            result = false;\r\n\t\r\n\t          } else if (sm2[i] instanceof Function) {\r\n\t\r\n\t            /**\r\n\t             * valid extraOptions (bonusOptions) parameter.\r\n\t             * is it a method, like onready/ontimeout? call it.\r\n\t             * multiple parameters should be in an array, eg. soundManager.setup({onready: [myHandler, myScope]});\r\n\t             */\r\n\t            sm2[i].apply(sm2, (o[i] instanceof Array ? o[i] : [o[i]]));\r\n\t\r\n\t          } else {\r\n\t\r\n\t            // good old-fashioned direct assignment\r\n\t            sm2[i] = o[i];\r\n\t\r\n\t          }\r\n\t\r\n\t        } else if (bonusOptions[i] === _undefined) {\r\n\t\r\n\t          // recursion case, eg., { defaultOptions: { ... } }\r\n\t\r\n\t          // invalid or disallowed parameter. complain.\r\n\t          complain(str((sm2[i] === _undefined ? 'setupUndef' : 'setupError'), i), 2);\r\n\t\r\n\t          result = false;\r\n\t\r\n\t        } else {\r\n\t\r\n\t          // recurse through object\r\n\t          return assign(o[i], i);\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  function preferFlashCheck(kind) {\r\n\t\r\n\t    // whether flash should play a given type\r\n\t    return (sm2.preferFlash && hasFlash && !sm2.ignoreFlash && (sm2.flash[kind] !== _undefined && sm2.flash[kind]));\r\n\t\r\n\t  }\r\n\t\r\n\t  /**\r\n\t   * Internal DOM2-level event helpers\r\n\t   * ---------------------------------\r\n\t   */\r\n\t\r\n\t  event = (function() {\r\n\t\r\n\t    // normalize event methods\r\n\t    var old = (window.attachEvent),\r\n\t    evt = {\r\n\t      add: (old ? 'attachEvent' : 'addEventListener'),\r\n\t      remove: (old ? 'detachEvent' : 'removeEventListener')\r\n\t    };\r\n\t\r\n\t    // normalize \"on\" event prefix, optional capture argument\r\n\t    function getArgs(oArgs) {\r\n\t\r\n\t      var args = slice.call(oArgs),\r\n\t          len = args.length;\r\n\t\r\n\t      if (old) {\r\n\t        // prefix\r\n\t        args[1] = 'on' + args[1];\r\n\t        if (len > 3) {\r\n\t          // no capture\r\n\t          args.pop();\r\n\t        }\r\n\t      } else if (len === 3) {\r\n\t        args.push(false);\r\n\t      }\r\n\t\r\n\t      return args;\r\n\t\r\n\t    }\r\n\t\r\n\t    function apply(args, sType) {\r\n\t\r\n\t      // normalize and call the event method, with the proper arguments\r\n\t      var element = args.shift(),\r\n\t          method = [evt[sType]];\r\n\t\r\n\t      if (old) {\r\n\t        // old IE can't do apply().\r\n\t        element[method](args[0], args[1]);\r\n\t      } else {\r\n\t        element[method].apply(element, args);\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    function add() {\r\n\t      apply(getArgs(arguments), 'add');\r\n\t    }\r\n\t\r\n\t    function remove() {\r\n\t      apply(getArgs(arguments), 'remove');\r\n\t    }\r\n\t\r\n\t    return {\r\n\t      add: add,\r\n\t      remove: remove\r\n\t    };\r\n\t\r\n\t  }());\r\n\t\r\n\t  /**\r\n\t   * Internal HTML5 event handling\r\n\t   * -----------------------------\r\n\t   */\r\n\t\r\n\t  function html5_event(oFn) {\r\n\t\r\n\t    // wrap html5 event handlers so we don't call them on destroyed and/or unloaded sounds\r\n\t\r\n\t    return function(e) {\r\n\t\r\n\t      var s = this._s,\r\n\t          result;\r\n\t\r\n\t      if (!s || !s._a) {\r\n\t        // <d>\r\n\t        if (s && s.id) {\r\n\t          sm2._wD(s.id + ': Ignoring ' + e.type);\r\n\t        } else {\r\n\t          sm2._wD(h5 + 'Ignoring ' + e.type);\r\n\t        }\r\n\t        // </d>\r\n\t        result = null;\r\n\t      } else {\r\n\t        result = oFn.call(this, e);\r\n\t      }\r\n\t\r\n\t      return result;\r\n\t\r\n\t    };\r\n\t\r\n\t  }\r\n\t\r\n\t  html5_events = {\r\n\t\r\n\t    // HTML5 event-name-to-handler map\r\n\t\r\n\t    abort: html5_event(function() {\r\n\t\r\n\t      sm2._wD(this._s.id + ': abort');\r\n\t\r\n\t    }),\r\n\t\r\n\t    // enough has loaded to play\r\n\t\r\n\t    canplay: html5_event(function() {\r\n\t\r\n\t      var s = this._s,\r\n\t          position1K;\r\n\t\r\n\t      if (s._html5_canplay) {\r\n\t        // this event has already fired. ignore.\r\n\t        return;\r\n\t      }\r\n\t\r\n\t      s._html5_canplay = true;\r\n\t      sm2._wD(s.id + ': canplay');\r\n\t      s._onbufferchange(0);\r\n\t\r\n\t      // position according to instance options\r\n\t      position1K = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position / msecScale : null);\r\n\t\r\n\t      // set the position if position was provided before the sound loaded\r\n\t      if (this.currentTime !== position1K) {\r\n\t        sm2._wD(s.id + ': canplay: Setting position to ' + position1K);\r\n\t        try {\r\n\t          this.currentTime = position1K;\r\n\t        } catch(ee) {\r\n\t          sm2._wD(s.id + ': canplay: Setting position of ' + position1K + ' failed: ' + ee.message, 2);\r\n\t        }\r\n\t      }\r\n\t\r\n\t      // hack for HTML5 from/to case\r\n\t      if (s._iO._oncanplay) {\r\n\t        s._iO._oncanplay();\r\n\t      }\r\n\t\r\n\t    }),\r\n\t\r\n\t    canplaythrough: html5_event(function() {\r\n\t\r\n\t      var s = this._s;\r\n\t\r\n\t      if (!s.loaded) {\r\n\t        s._onbufferchange(0);\r\n\t        s._whileloading(s.bytesLoaded, s.bytesTotal, s._get_html5_duration());\r\n\t        s._onload(true);\r\n\t      }\r\n\t\r\n\t    }),\r\n\t\r\n\t    durationchange: html5_event(function() {\r\n\t\r\n\t      // durationchange may fire at various times, probably the safest way to capture accurate/final duration.\r\n\t\r\n\t      var s = this._s,\r\n\t          duration;\r\n\t\r\n\t      duration = s._get_html5_duration();\r\n\t\r\n\t      if (!isNaN(duration) && duration !== s.duration) {\r\n\t\r\n\t        sm2._wD(this._s.id + ': durationchange (' + duration + ')' + (s.duration ? ', previously ' + s.duration : ''));\r\n\t\r\n\t        s.durationEstimate = s.duration = duration;\r\n\t\r\n\t      }\r\n\t\r\n\t    }),\r\n\t\r\n\t    // TODO: Reserved for potential use\r\n\t    /*\r\n\t    emptied: html5_event(function() {\r\n\t\r\n\t      sm2._wD(this._s.id + ': emptied');\r\n\t\r\n\t    }),\r\n\t    */\r\n\t\r\n\t    ended: html5_event(function() {\r\n\t\r\n\t      var s = this._s;\r\n\t\r\n\t      sm2._wD(s.id + ': ended');\r\n\t\r\n\t      s._onfinish();\r\n\t\r\n\t    }),\r\n\t\r\n\t    error: html5_event(function() {\r\n\t\r\n\t      var description = (html5ErrorCodes[this.error.code] || null);\r\n\t      sm2._wD(this._s.id + ': HTML5 error, code ' + this.error.code + (description ? ' (' + description + ')' : ''));\r\n\t      this._s._onload(false);\r\n\t      this._s._onerror(this.error.code, description);\r\n\t\r\n\t    }),\r\n\t\r\n\t    loadeddata: html5_event(function() {\r\n\t\r\n\t      var s = this._s;\r\n\t\r\n\t      sm2._wD(s.id + ': loadeddata');\r\n\t\r\n\t      // safari seems to nicely report progress events, eventually totalling 100%\r\n\t      if (!s._loaded && !isSafari) {\r\n\t        s.duration = s._get_html5_duration();\r\n\t      }\r\n\t\r\n\t    }),\r\n\t\r\n\t    loadedmetadata: html5_event(function() {\r\n\t\r\n\t      sm2._wD(this._s.id + ': loadedmetadata');\r\n\t\r\n\t    }),\r\n\t\r\n\t    loadstart: html5_event(function() {\r\n\t\r\n\t      sm2._wD(this._s.id + ': loadstart');\r\n\t      // assume buffering at first\r\n\t      this._s._onbufferchange(1);\r\n\t\r\n\t    }),\r\n\t\r\n\t    play: html5_event(function() {\r\n\t\r\n\t      // sm2._wD(this._s.id + ': play()');\r\n\t      // once play starts, no buffering\r\n\t      this._s._onbufferchange(0);\r\n\t\r\n\t    }),\r\n\t\r\n\t    playing: html5_event(function() {\r\n\t\r\n\t      sm2._wD(this._s.id + ': playing ' + String.fromCharCode(9835));\r\n\t      // once play starts, no buffering\r\n\t      this._s._onbufferchange(0);\r\n\t\r\n\t    }),\r\n\t\r\n\t    progress: html5_event(function(e) {\r\n\t\r\n\t      // note: can fire repeatedly after \"loaded\" event, due to use of HTTP range/partials\r\n\t\r\n\t      var s = this._s,\r\n\t          i, j, progStr, buffered = 0,\r\n\t          isProgress = (e.type === 'progress'),\r\n\t          ranges = e.target.buffered,\r\n\t          // firefox 3.6 implements e.loaded/total (bytes)\r\n\t          loaded = (e.loaded || 0),\r\n\t          total = (e.total || 1);\r\n\t\r\n\t      // reset the \"buffered\" (loaded byte ranges) array\r\n\t      s.buffered = [];\r\n\t\r\n\t      if (ranges && ranges.length) {\r\n\t\r\n\t        // if loaded is 0, try TimeRanges implementation as % of load\r\n\t        // https://developer.mozilla.org/en/DOM/TimeRanges\r\n\t\r\n\t        // re-build \"buffered\" array\r\n\t        // HTML5 returns seconds. SM2 API uses msec for setPosition() etc., whether Flash or HTML5.\r\n\t        for (i = 0, j = ranges.length; i < j; i++) {\r\n\t          s.buffered.push({\r\n\t            start: ranges.start(i) * msecScale,\r\n\t            end: ranges.end(i) * msecScale\r\n\t          });\r\n\t        }\r\n\t\r\n\t        // use the last value locally\r\n\t        buffered = (ranges.end(0) - ranges.start(0)) * msecScale;\r\n\t\r\n\t        // linear case, buffer sum; does not account for seeking and HTTP partials / byte ranges\r\n\t        loaded = Math.min(1, buffered / (e.target.duration * msecScale));\r\n\t\r\n\t        // <d>\r\n\t        if (isProgress && ranges.length > 1) {\r\n\t          progStr = [];\r\n\t          j = ranges.length;\r\n\t          for (i = 0; i < j; i++) {\r\n\t            progStr.push((e.target.buffered.start(i) * msecScale) + '-' + (e.target.buffered.end(i) * msecScale));\r\n\t          }\r\n\t          sm2._wD(this._s.id + ': progress, timeRanges: ' + progStr.join(', '));\r\n\t        }\r\n\t\r\n\t        if (isProgress && !isNaN(loaded)) {\r\n\t          sm2._wD(this._s.id + ': progress, ' + Math.floor(loaded * 100) + '% loaded');\r\n\t        }\r\n\t        // </d>\r\n\t\r\n\t      }\r\n\t\r\n\t      if (!isNaN(loaded)) {\r\n\t\r\n\t        // TODO: prevent calls with duplicate values.\r\n\t        s._whileloading(loaded, total, s._get_html5_duration());\r\n\t        if (loaded && total && loaded === total) {\r\n\t          // in case \"onload\" doesn't fire (eg. gecko 1.9.2)\r\n\t          html5_events.canplaythrough.call(this, e);\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }),\r\n\t\r\n\t    ratechange: html5_event(function() {\r\n\t\r\n\t      sm2._wD(this._s.id + ': ratechange');\r\n\t\r\n\t    }),\r\n\t\r\n\t    suspend: html5_event(function(e) {\r\n\t\r\n\t      // download paused/stopped, may have finished (eg. onload)\r\n\t      var s = this._s;\r\n\t\r\n\t      sm2._wD(this._s.id + ': suspend');\r\n\t      html5_events.progress.call(this, e);\r\n\t      s._onsuspend();\r\n\t\r\n\t    }),\r\n\t\r\n\t    stalled: html5_event(function() {\r\n\t\r\n\t      sm2._wD(this._s.id + ': stalled');\r\n\t\r\n\t    }),\r\n\t\r\n\t    timeupdate: html5_event(function() {\r\n\t\r\n\t      this._s._onTimer();\r\n\t\r\n\t    }),\r\n\t\r\n\t    waiting: html5_event(function() {\r\n\t\r\n\t      var s = this._s;\r\n\t\r\n\t      // see also: seeking\r\n\t      sm2._wD(this._s.id + ': waiting');\r\n\t\r\n\t      // playback faster than download rate, etc.\r\n\t      s._onbufferchange(1);\r\n\t\r\n\t    })\r\n\t\r\n\t  };\r\n\t\r\n\t  html5OK = function(iO) {\r\n\t\r\n\t    // playability test based on URL or MIME type\r\n\t\r\n\t    var result;\r\n\t\r\n\t    if (!iO || (!iO.type && !iO.url && !iO.serverURL)) {\r\n\t\r\n\t      // nothing to check\r\n\t      result = false;\r\n\t\r\n\t    } else if (iO.serverURL || (iO.type && preferFlashCheck(iO.type))) {\r\n\t\r\n\t      // RTMP, or preferring flash\r\n\t      result = false;\r\n\t\r\n\t    } else {\r\n\t\r\n\t      // Use type, if specified. Pass data: URIs to HTML5. If HTML5-only mode, no other options, so just give 'er\r\n\t      result = ((iO.type ? html5CanPlay({ type: iO.type }) : html5CanPlay({ url: iO.url }) || sm2.html5Only || iO.url.match(/data:/i)));\r\n\t\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  html5Unload = function(oAudio) {\r\n\t\r\n\t    /**\r\n\t     * Internal method: Unload media, and cancel any current/pending network requests.\r\n\t     * Firefox can load an empty URL, which allegedly destroys the decoder and stops the download.\r\n\t     * https://developer.mozilla.org/En/Using_audio_and_video_in_Firefox#Stopping_the_download_of_media\r\n\t     * However, Firefox has been seen loading a relative URL from '' and thus requesting the hosting page on unload.\r\n\t     * Other UA behaviour is unclear, so everyone else gets an about:blank-style URL.\r\n\t     */\r\n\t\r\n\t    var url;\r\n\t\r\n\t    if (oAudio) {\r\n\t\r\n\t      // Firefox and Chrome accept short WAVe data: URIs. Chome dislikes audio/wav, but accepts audio/wav for data: MIME.\r\n\t      // Desktop Safari complains / fails on data: URI, so it gets about:blank.\r\n\t      url = (isSafari ? emptyURL : (sm2.html5.canPlayType('audio/wav') ? emptyWAV : emptyURL));\r\n\t\r\n\t      oAudio.src = url;\r\n\t\r\n\t      // reset some state, too\r\n\t      if (oAudio._called_unload !== _undefined) {\r\n\t        oAudio._called_load = false;\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    if (useGlobalHTML5Audio) {\r\n\t\r\n\t      // ensure URL state is trashed, also\r\n\t      lastGlobalHTML5URL = null;\r\n\t\r\n\t    }\r\n\t\r\n\t    return url;\r\n\t\r\n\t  };\r\n\t\r\n\t  html5CanPlay = function(o) {\r\n\t\r\n\t    /**\r\n\t     * Try to find MIME, test and return truthiness\r\n\t     * o = {\r\n\t     *  url: '/path/to/an.mp3',\r\n\t     *  type: 'audio/mp3'\r\n\t     * }\r\n\t     */\r\n\t\r\n\t    if (!sm2.useHTML5Audio || !sm2.hasHTML5) return false;\r\n\t\r\n\t    var url = (o.url || null),\r\n\t        mime = (o.type || null),\r\n\t        aF = sm2.audioFormats,\r\n\t        result,\r\n\t        offset,\r\n\t        fileExt,\r\n\t        item;\r\n\t\r\n\t    // account for known cases like audio/mp3\r\n\t\r\n\t    if (mime && sm2.html5[mime] !== _undefined) return (sm2.html5[mime] && !preferFlashCheck(mime));\r\n\t\r\n\t    if (!html5Ext) {\r\n\t\r\n\t      html5Ext = [];\r\n\t\r\n\t      for (item in aF) {\r\n\t\r\n\t        if (aF.hasOwnProperty(item)) {\r\n\t\r\n\t          html5Ext.push(item);\r\n\t\r\n\t          if (aF[item].related) {\r\n\t            html5Ext = html5Ext.concat(aF[item].related);\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      html5Ext = new RegExp('\\\\.(' + html5Ext.join('|') + ')(\\\\?.*)?$', 'i');\r\n\t\r\n\t    }\r\n\t\r\n\t    // TODO: Strip URL queries, etc.\r\n\t    fileExt = (url ? url.toLowerCase().match(html5Ext) : null);\r\n\t\r\n\t    if (!fileExt || !fileExt.length) {\r\n\t\r\n\t      if (!mime) {\r\n\t\r\n\t        result = false;\r\n\t\r\n\t      } else {\r\n\t\r\n\t        // audio/mp3 -> mp3, result should be known\r\n\t        offset = mime.indexOf(';');\r\n\t\r\n\t        // strip \"audio/X; codecs...\"\r\n\t        fileExt = (offset !== -1 ? mime.substr(0, offset) : mime).substr(6);\r\n\t\r\n\t      }\r\n\t\r\n\t    } else {\r\n\t\r\n\t      // match the raw extension name - \"mp3\", for example\r\n\t      fileExt = fileExt[1];\r\n\t\r\n\t    }\r\n\t\r\n\t    if (fileExt && sm2.html5[fileExt] !== _undefined) {\r\n\t\r\n\t      // result known\r\n\t      result = (sm2.html5[fileExt] && !preferFlashCheck(fileExt));\r\n\t\r\n\t    } else {\r\n\t\r\n\t      mime = 'audio/' + fileExt;\r\n\t      result = sm2.html5.canPlayType({ type: mime });\r\n\t\r\n\t      sm2.html5[fileExt] = result;\r\n\t\r\n\t      // sm2._wD('canPlayType, found result: ' + result);\r\n\t      result = (result && sm2.html5[mime] && !preferFlashCheck(mime));\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  testHTML5 = function() {\r\n\t\r\n\t    /**\r\n\t     * Internal: Iterates over audioFormats, determining support eg. audio/mp3, audio/mpeg and so on\r\n\t     * assigns results to html5[] and flash[].\r\n\t     */\r\n\t\r\n\t    if (!sm2.useHTML5Audio || !sm2.hasHTML5) {\r\n\t\r\n\t      // without HTML5, we need Flash.\r\n\t      sm2.html5.usingFlash = true;\r\n\t      needsFlash = true;\r\n\t\r\n\t      return false;\r\n\t\r\n\t    }\r\n\t\r\n\t    // double-whammy: Opera 9.64 throws WRONG_ARGUMENTS_ERR if no parameter passed to Audio(), and Webkit + iOS happily tries to load \"null\" as a URL. :/\r\n\t    var a = (Audio !== _undefined ? (isOpera && opera.version() < 10 ? new Audio(null) : new Audio()) : null),\r\n\t        item, lookup, support = {}, aF, i;\r\n\t\r\n\t    function cp(m) {\r\n\t\r\n\t      var canPlay, j,\r\n\t          result = false,\r\n\t          isOK = false;\r\n\t\r\n\t      if (!a || typeof a.canPlayType !== 'function') return result;\r\n\t\r\n\t      if (m instanceof Array) {\r\n\t\r\n\t        // iterate through all mime types, return any successes\r\n\t\r\n\t        for (i = 0, j = m.length; i < j; i++) {\r\n\t\r\n\t          if (sm2.html5[m[i]] || a.canPlayType(m[i]).match(sm2.html5Test)) {\r\n\t\r\n\t            isOK = true;\r\n\t            sm2.html5[m[i]] = true;\r\n\t\r\n\t            // note flash support, too\r\n\t            sm2.flash[m[i]] = !!(m[i].match(flashMIME));\r\n\t\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t        result = isOK;\r\n\t\r\n\t      } else {\r\n\t\r\n\t        canPlay = (a && typeof a.canPlayType === 'function' ? a.canPlayType(m) : false);\r\n\t        result = !!(canPlay && (canPlay.match(sm2.html5Test)));\r\n\t\r\n\t      }\r\n\t\r\n\t      return result;\r\n\t\r\n\t    }\r\n\t\r\n\t    // test all registered formats + codecs\r\n\t\r\n\t    aF = sm2.audioFormats;\r\n\t\r\n\t    for (item in aF) {\r\n\t\r\n\t      if (aF.hasOwnProperty(item)) {\r\n\t\r\n\t        lookup = 'audio/' + item;\r\n\t\r\n\t        support[item] = cp(aF[item].type);\r\n\t\r\n\t        // write back generic type too, eg. audio/mp3\r\n\t        support[lookup] = support[item];\r\n\t\r\n\t        // assign flash\r\n\t        if (item.match(flashMIME)) {\r\n\t\r\n\t          sm2.flash[item] = true;\r\n\t          sm2.flash[lookup] = true;\r\n\t\r\n\t        } else {\r\n\t\r\n\t          sm2.flash[item] = false;\r\n\t          sm2.flash[lookup] = false;\r\n\t\r\n\t        }\r\n\t\r\n\t        // assign result to related formats, too\r\n\t\r\n\t        if (aF[item] && aF[item].related) {\r\n\t\r\n\t          for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n\t\r\n\t            // eg. audio/m4a\r\n\t            support['audio/' + aF[item].related[i]] = support[item];\r\n\t            sm2.html5[aF[item].related[i]] = support[item];\r\n\t            sm2.flash[aF[item].related[i]] = support[item];\r\n\t\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    support.canPlayType = (a ? cp : null);\r\n\t    sm2.html5 = mixin(sm2.html5, support);\r\n\t\r\n\t    sm2.html5.usingFlash = featureCheck();\r\n\t    needsFlash = sm2.html5.usingFlash;\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  strings = {\r\n\t\r\n\t    // <d>\r\n\t    notReady: 'Unavailable - wait until onready() has fired.',\r\n\t    notOK: 'Audio support is not available.',\r\n\t    domError: sm + 'exception caught while appending SWF to DOM.',\r\n\t    spcWmode: 'Removing wmode, preventing known SWF loading issue(s)',\r\n\t    swf404: smc + 'Verify that %s is a valid path.',\r\n\t    tryDebug: 'Try ' + sm + '.debugFlash = true for more security details (output goes to SWF.)',\r\n\t    checkSWF: 'See SWF output for more debug info.',\r\n\t    localFail: smc + 'Non-HTTP page (' + doc.location.protocol + ' URL?) Review Flash player security settings for this special case:\\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/',\r\n\t    waitFocus: smc + 'Special case: Waiting for SWF to load with window focus...',\r\n\t    waitForever: smc + 'Waiting indefinitely for Flash (will recover if unblocked)...',\r\n\t    waitSWF: smc + 'Waiting for 100% SWF load...',\r\n\t    needFunction: smc + 'Function object expected for %s',\r\n\t    badID: 'Sound ID \"%s\" should be a string, starting with a non-numeric character',\r\n\t    currentObj: smc + '_debug(): Current sound objects',\r\n\t    waitOnload: smc + 'Waiting for window.onload()',\r\n\t    docLoaded: smc + 'Document already loaded',\r\n\t    onload: smc + 'initComplete(): calling soundManager.onload()',\r\n\t    onloadOK: sm + '.onload() complete',\r\n\t    didInit: smc + 'init(): Already called?',\r\n\t    secNote: 'Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html',\r\n\t    badRemove: smc + 'Failed to remove Flash node.',\r\n\t    shutdown: sm + '.disable(): Shutting down',\r\n\t    queue: smc + 'Queueing %s handler',\r\n\t    smError: 'SMSound.load(): Exception: JS-Flash communication failed, or JS error.',\r\n\t    fbTimeout: 'No flash response, applying .' + swfCSS.swfTimedout + ' CSS...',\r\n\t    fbLoaded: 'Flash loaded',\r\n\t    fbHandler: smc + 'flashBlockHandler()',\r\n\t    manURL: 'SMSound.load(): Using manually-assigned URL',\r\n\t    onURL: sm + '.load(): current URL already assigned.',\r\n\t    badFV: sm + '.flashVersion must be 8 or 9. \"%s\" is invalid. Reverting to %s.',\r\n\t    as2loop: 'Note: Setting stream:false so looping can work (flash 8 limitation)',\r\n\t    noNSLoop: 'Note: Looping not implemented for MovieStar formats',\r\n\t    needfl9: 'Note: Switching to flash 9, required for MP4 formats.',\r\n\t    mfTimeout: 'Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case',\r\n\t    needFlash: smc + 'Fatal error: Flash is needed to play some required formats, but is not available.',\r\n\t    gotFocus: smc + 'Got window focus.',\r\n\t    policy: 'Enabling usePolicyFile for data access',\r\n\t    setup: sm + '.setup(): allowed parameters: %s',\r\n\t    setupError: sm + '.setup(): \"%s\" cannot be assigned with this method.',\r\n\t    setupUndef: sm + '.setup(): Could not find option \"%s\"',\r\n\t    setupLate: sm + '.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().',\r\n\t    noURL: smc + 'Flash URL required. Call soundManager.setup({url:...}) to get started.',\r\n\t    sm2Loaded: 'SoundManager 2: Ready. ' + String.fromCharCode(10003),\r\n\t    reset: sm + '.reset(): Removing event callbacks',\r\n\t    mobileUA: 'Mobile UA detected, preferring HTML5 by default.',\r\n\t    globalHTML5: 'Using singleton HTML5 Audio() pattern for this device.',\r\n\t    ignoreMobile: 'Ignoring mobile restrictions for this device.'\r\n\t    // </d>\r\n\t\r\n\t  };\r\n\t\r\n\t  str = function() {\r\n\t\r\n\t    // internal string replace helper.\r\n\t    // arguments: o [,items to replace]\r\n\t    // <d>\r\n\t\r\n\t    var args,\r\n\t        i, j, o,\r\n\t        sstr;\r\n\t\r\n\t    // real array, please\r\n\t    args = slice.call(arguments);\r\n\t\r\n\t    // first argument\r\n\t    o = args.shift();\r\n\t\r\n\t    sstr = (strings && strings[o] ? strings[o] : '');\r\n\t\r\n\t    if (sstr && args && args.length) {\r\n\t      for (i = 0, j = args.length; i < j; i++) {\r\n\t        sstr = sstr.replace('%s', args[i]);\r\n\t      }\r\n\t    }\r\n\t\r\n\t    return sstr;\r\n\t    // </d>\r\n\t\r\n\t  };\r\n\t\r\n\t  loopFix = function(sOpt) {\r\n\t\r\n\t    // flash 8 requires stream = false for looping to work\r\n\t    if (fV === 8 && sOpt.loops > 1 && sOpt.stream) {\r\n\t      _wDS('as2loop');\r\n\t      sOpt.stream = false;\r\n\t    }\r\n\t\r\n\t    return sOpt;\r\n\t\r\n\t  };\r\n\t\r\n\t  policyFix = function(sOpt, sPre) {\r\n\t\r\n\t    if (sOpt && !sOpt.usePolicyFile && (sOpt.onid3 || sOpt.usePeakData || sOpt.useWaveformData || sOpt.useEQData)) {\r\n\t      sm2._wD((sPre || '') + str('policy'));\r\n\t      sOpt.usePolicyFile = true;\r\n\t    }\r\n\t\r\n\t    return sOpt;\r\n\t\r\n\t  };\r\n\t\r\n\t  complain = function(sMsg) {\r\n\t\r\n\t    // <d>\r\n\t    if (hasConsole && console.warn !== _undefined) {\r\n\t      console.warn(sMsg);\r\n\t    } else {\r\n\t      sm2._wD(sMsg);\r\n\t    }\r\n\t    // </d>\r\n\t\r\n\t  };\r\n\t\r\n\t  doNothing = function() {\r\n\t\r\n\t    return false;\r\n\t\r\n\t  };\r\n\t\r\n\t  disableObject = function(o) {\r\n\t\r\n\t    var oProp;\r\n\t\r\n\t    for (oProp in o) {\r\n\t      if (o.hasOwnProperty(oProp) && typeof o[oProp] === 'function') {\r\n\t        o[oProp] = doNothing;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    oProp = null;\r\n\t\r\n\t  };\r\n\t\r\n\t  failSafely = function(bNoDisable) {\r\n\t\r\n\t    // general failure exception handler\r\n\t\r\n\t    if (bNoDisable === _undefined) {\r\n\t      bNoDisable = false;\r\n\t    }\r\n\t\r\n\t    if (disabled || bNoDisable) {\r\n\t      sm2.disable(bNoDisable);\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  normalizeMovieURL = function(movieURL) {\r\n\t\r\n\t    var urlParams = null, url;\r\n\t\r\n\t    if (movieURL) {\r\n\t\r\n\t      if (movieURL.match(/\\.swf(\\?.*)?$/i)) {\r\n\t\r\n\t        urlParams = movieURL.substr(movieURL.toLowerCase().lastIndexOf('.swf?') + 4);\r\n\t\r\n\t        // assume user knows what they're doing\r\n\t        if (urlParams) return movieURL;\r\n\t\r\n\t      } else if (movieURL.lastIndexOf('/') !== movieURL.length - 1) {\r\n\t\r\n\t        // append trailing slash, if needed\r\n\t        movieURL += '/';\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    url = (movieURL && movieURL.lastIndexOf('/') !== -1 ? movieURL.substr(0, movieURL.lastIndexOf('/') + 1) : './') + sm2.movieURL;\r\n\t\r\n\t    if (sm2.noSWFCache) {\r\n\t      url += ('?ts=' + new Date().getTime());\r\n\t    }\r\n\t\r\n\t    return url;\r\n\t\r\n\t  };\r\n\t\r\n\t  setVersionInfo = function() {\r\n\t\r\n\t    // short-hand for internal use\r\n\t\r\n\t    fV = parseInt(sm2.flashVersion, 10);\r\n\t\r\n\t    if (fV !== 8 && fV !== 9) {\r\n\t      sm2._wD(str('badFV', fV, defaultFlashVersion));\r\n\t      sm2.flashVersion = fV = defaultFlashVersion;\r\n\t    }\r\n\t\r\n\t    // debug flash movie, if applicable\r\n\t\r\n\t    var isDebug = (sm2.debugMode || sm2.debugFlash ? '_debug.swf' : '.swf');\r\n\t\r\n\t    if (sm2.useHTML5Audio && !sm2.html5Only && sm2.audioFormats.mp4.required && fV < 9) {\r\n\t      sm2._wD(str('needfl9'));\r\n\t      sm2.flashVersion = fV = 9;\r\n\t    }\r\n\t\r\n\t    sm2.version = sm2.versionNumber + (sm2.html5Only ? ' (HTML5-only mode)' : (fV === 9 ? ' (AS3/Flash 9)' : ' (AS2/Flash 8)'));\r\n\t\r\n\t    // set up default options\r\n\t    if (fV > 8) {\r\n\t\r\n\t      // +flash 9 base options\r\n\t      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.flash9Options);\r\n\t      sm2.features.buffering = true;\r\n\t\r\n\t      // +moviestar support\r\n\t      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.movieStarOptions);\r\n\t      sm2.filePatterns.flash9 = new RegExp('\\\\.(mp3|' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n\t      sm2.features.movieStar = true;\r\n\t\r\n\t    } else {\r\n\t\r\n\t      sm2.features.movieStar = false;\r\n\t\r\n\t    }\r\n\t\r\n\t    // regExp for flash canPlay(), etc.\r\n\t    sm2.filePattern = sm2.filePatterns[(fV !== 8 ? 'flash9' : 'flash8')];\r\n\t\r\n\t    // if applicable, use _debug versions of SWFs\r\n\t    sm2.movieURL = (fV === 8 ? 'soundmanager2.swf' : 'soundmanager2_flash9.swf').replace('.swf', isDebug);\r\n\t\r\n\t    sm2.features.peakData = sm2.features.waveformData = sm2.features.eqData = (fV > 8);\r\n\t\r\n\t  };\r\n\t\r\n\t  setPolling = function(bPolling, bHighPerformance) {\r\n\t\r\n\t    if (!flash) {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    flash._setPolling(bPolling, bHighPerformance);\r\n\t\r\n\t  };\r\n\t\r\n\t  initDebug = function() {\r\n\t\r\n\t    // starts debug mode, creating output <div> for UAs without console object\r\n\t\r\n\t    // allow force of debug mode via URL\r\n\t    // <d>\r\n\t    if (sm2.debugURLParam.test(wl)) {\r\n\t      sm2.setupOptions.debugMode = sm2.debugMode = true;\r\n\t    }\r\n\t\r\n\t    if (id(sm2.debugID)) {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    var oD, oDebug, oTarget, oToggle, tmp;\r\n\t\r\n\t    if (sm2.debugMode && !id(sm2.debugID) && (!hasConsole || !sm2.useConsole || !sm2.consoleOnly)) {\r\n\t\r\n\t      oD = doc.createElement('div');\r\n\t      oD.id = sm2.debugID + '-toggle';\r\n\t\r\n\t      oToggle = {\r\n\t        position: 'fixed',\r\n\t        bottom: '0px',\r\n\t        right: '0px',\r\n\t        width: '1.2em',\r\n\t        height: '1.2em',\r\n\t        lineHeight: '1.2em',\r\n\t        margin: '2px',\r\n\t        textAlign: 'center',\r\n\t        border: '1px solid #999',\r\n\t        cursor: 'pointer',\r\n\t        background: '#fff',\r\n\t        color: '#333',\r\n\t        zIndex: 10001\r\n\t      };\r\n\t\r\n\t      oD.appendChild(doc.createTextNode('-'));\r\n\t      oD.onclick = toggleDebug;\r\n\t      oD.title = 'Toggle SM2 debug console';\r\n\t\r\n\t      if (ua.match(/msie 6/i)) {\r\n\t        oD.style.position = 'absolute';\r\n\t        oD.style.cursor = 'hand';\r\n\t      }\r\n\t\r\n\t      for (tmp in oToggle) {\r\n\t        if (oToggle.hasOwnProperty(tmp)) {\r\n\t          oD.style[tmp] = oToggle[tmp];\r\n\t        }\r\n\t      }\r\n\t\r\n\t      oDebug = doc.createElement('div');\r\n\t      oDebug.id = sm2.debugID;\r\n\t      oDebug.style.display = (sm2.debugMode ? 'block' : 'none');\r\n\t\r\n\t      if (sm2.debugMode && !id(oD.id)) {\r\n\t        try {\r\n\t          oTarget = getDocument();\r\n\t          oTarget.appendChild(oD);\r\n\t        } catch(e2) {\r\n\t          throw new Error(str('domError') + ' \\n' + e2.toString());\r\n\t        }\r\n\t        oTarget.appendChild(oDebug);\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    oTarget = null;\r\n\t    // </d>\r\n\t\r\n\t  };\r\n\t\r\n\t  idCheck = this.getSoundById;\r\n\t\r\n\t  // <d>\r\n\t  _wDS = function(o, errorLevel) {\r\n\t\r\n\t    return (!o ? '' : sm2._wD(str(o), errorLevel));\r\n\t\r\n\t  };\r\n\t\r\n\t  toggleDebug = function() {\r\n\t\r\n\t    var o = id(sm2.debugID),\r\n\t    oT = id(sm2.debugID + '-toggle');\r\n\t\r\n\t    if (!o) {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    if (debugOpen) {\r\n\t      // minimize\r\n\t      oT.innerHTML = '+';\r\n\t      o.style.display = 'none';\r\n\t    } else {\r\n\t      oT.innerHTML = '-';\r\n\t      o.style.display = 'block';\r\n\t    }\r\n\t\r\n\t    debugOpen = !debugOpen;\r\n\t\r\n\t  };\r\n\t\r\n\t  debugTS = function(sEventType, bSuccess, sMessage) {\r\n\t\r\n\t    // troubleshooter debug hooks\r\n\t\r\n\t    if (window.sm2Debugger !== _undefined) {\r\n\t      try {\r\n\t        sm2Debugger.handleEvent(sEventType, bSuccess, sMessage);\r\n\t      } catch(e) {\r\n\t        // oh well\r\n\t        return false;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t  // </d>\r\n\t\r\n\t  getSWFCSS = function() {\r\n\t\r\n\t    var css = [];\r\n\t\r\n\t    if (sm2.debugMode) {\r\n\t      css.push(swfCSS.sm2Debug);\r\n\t    }\r\n\t\r\n\t    if (sm2.debugFlash) {\r\n\t      css.push(swfCSS.flashDebug);\r\n\t    }\r\n\t\r\n\t    if (sm2.useHighPerformance) {\r\n\t      css.push(swfCSS.highPerf);\r\n\t    }\r\n\t\r\n\t    return css.join(' ');\r\n\t\r\n\t  };\r\n\t\r\n\t  flashBlockHandler = function() {\r\n\t\r\n\t    // *possible* flash block situation.\r\n\t\r\n\t    var name = str('fbHandler'),\r\n\t        p = sm2.getMoviePercent(),\r\n\t        css = swfCSS,\r\n\t        error = {\r\n\t          type: 'FLASHBLOCK'\r\n\t        };\r\n\t\r\n\t    if (sm2.html5Only) {\r\n\t      // no flash, or unused\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    if (!sm2.ok()) {\r\n\t\r\n\t      if (needsFlash) {\r\n\t        // make the movie more visible, so user can fix\r\n\t        sm2.oMC.className = getSWFCSS() + ' ' + css.swfDefault + ' ' + (p === null ? css.swfTimedout : css.swfError);\r\n\t        sm2._wD(name + ': ' + str('fbTimeout') + (p ? ' (' + str('fbLoaded') + ')' : ''));\r\n\t      }\r\n\t\r\n\t      sm2.didFlashBlock = true;\r\n\t\r\n\t      // fire onready(), complain lightly\r\n\t      processOnEvents({\r\n\t        type: 'ontimeout',\r\n\t        ignoreInit: true,\r\n\t        error: error\r\n\t      });\r\n\t\r\n\t      catchError(error);\r\n\t\r\n\t    } else {\r\n\t\r\n\t      // SM2 loaded OK (or recovered)\r\n\t\r\n\t      // <d>\r\n\t      if (sm2.didFlashBlock) {\r\n\t        sm2._wD(name + ': Unblocked');\r\n\t      }\r\n\t      // </d>\r\n\t\r\n\t      if (sm2.oMC) {\r\n\t        sm2.oMC.className = [getSWFCSS(), css.swfDefault, css.swfLoaded + (sm2.didFlashBlock ? ' ' + css.swfUnblocked : '')].join(' ');\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  addOnEvent = function(sType, oMethod, oScope) {\r\n\t\r\n\t    if (on_queue[sType] === _undefined) {\r\n\t      on_queue[sType] = [];\r\n\t    }\r\n\t\r\n\t    on_queue[sType].push({\r\n\t      method: oMethod,\r\n\t      scope: (oScope || null),\r\n\t      fired: false\r\n\t    });\r\n\t\r\n\t  };\r\n\t\r\n\t  processOnEvents = function(oOptions) {\r\n\t\r\n\t    // if unspecified, assume OK/error\r\n\t\r\n\t    if (!oOptions) {\r\n\t      oOptions = {\r\n\t        type: (sm2.ok() ? 'onready' : 'ontimeout')\r\n\t      };\r\n\t    }\r\n\t\r\n\t    // not ready yet.\r\n\t    if (!didInit && oOptions && !oOptions.ignoreInit) return false;\r\n\t\r\n\t    // invalid case\r\n\t    if (oOptions.type === 'ontimeout' && (sm2.ok() || (disabled && !oOptions.ignoreInit))) return false;\r\n\t\r\n\t    var status = {\r\n\t          success: (oOptions && oOptions.ignoreInit ? sm2.ok() : !disabled)\r\n\t        },\r\n\t\r\n\t        // queue specified by type, or none\r\n\t        srcQueue = (oOptions && oOptions.type ? on_queue[oOptions.type] || [] : []),\r\n\t\r\n\t        queue = [], i, j,\r\n\t        args = [status],\r\n\t        canRetry = (needsFlash && !sm2.ok());\r\n\t\r\n\t    if (oOptions.error) {\r\n\t      args[0].error = oOptions.error;\r\n\t    }\r\n\t\r\n\t    for (i = 0, j = srcQueue.length; i < j; i++) {\r\n\t      if (srcQueue[i].fired !== true) {\r\n\t        queue.push(srcQueue[i]);\r\n\t      }\r\n\t    }\r\n\t\r\n\t    if (queue.length) {\r\n\t\r\n\t      // sm2._wD(sm + ': Firing ' + queue.length + ' ' + oOptions.type + '() item' + (queue.length === 1 ? '' : 's'));\r\n\t      for (i = 0, j = queue.length; i < j; i++) {\r\n\t\r\n\t        if (queue[i].scope) {\r\n\t          queue[i].method.apply(queue[i].scope, args);\r\n\t        } else {\r\n\t          queue[i].method.apply(this, args);\r\n\t        }\r\n\t\r\n\t        if (!canRetry) {\r\n\t          // useFlashBlock and SWF timeout case doesn't count here.\r\n\t          queue[i].fired = true;\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  initUserOnload = function() {\r\n\t\r\n\t    window.setTimeout(function() {\r\n\t\r\n\t      if (sm2.useFlashBlock) {\r\n\t        flashBlockHandler();\r\n\t      }\r\n\t\r\n\t      processOnEvents();\r\n\t\r\n\t      // call user-defined \"onload\", scoped to window\r\n\t\r\n\t      if (typeof sm2.onload === 'function') {\r\n\t        _wDS('onload', 1);\r\n\t        sm2.onload.apply(window);\r\n\t        _wDS('onloadOK', 1);\r\n\t      }\r\n\t\r\n\t      if (sm2.waitForWindowLoad) {\r\n\t        event.add(window, 'load', initUserOnload);\r\n\t      }\r\n\t\r\n\t    }, 1);\r\n\t\r\n\t  };\r\n\t\r\n\t  detectFlash = function() {\r\n\t\r\n\t    /**\r\n\t     * Hat tip: Flash Detect library (BSD, (C) 2007) by Carl \"DocYes\" S. Yestrau\r\n\t     * http://featureblend.com/javascript-flash-detection-library.html / http://featureblend.com/license.txt\r\n\t     */\r\n\t\r\n\t    // this work has already been done.\r\n\t    if (hasFlash !== _undefined) return hasFlash;\r\n\t\r\n\t    var hasPlugin = false, n = navigator, obj, type, types, AX = window.ActiveXObject;\r\n\t\r\n\t    // MS Edge 14 throws an \"Unspecified Error\" because n.plugins is inaccessible due to permissions\r\n\t    var nP;\r\n\t\r\n\t    try {\r\n\t      nP = n.plugins;\r\n\t    } catch(e) {\r\n\t      nP = undefined;\r\n\t    }\r\n\t\r\n\t    if (nP && nP.length) {\r\n\t\r\n\t      type = 'application/x-shockwave-flash';\r\n\t      types = n.mimeTypes;\r\n\t\r\n\t      if (types && types[type] && types[type].enabledPlugin && types[type].enabledPlugin.description) {\r\n\t        hasPlugin = true;\r\n\t      }\r\n\t\r\n\t    } else if (AX !== _undefined && !ua.match(/MSAppHost/i)) {\r\n\t\r\n\t      // Windows 8 Store Apps (MSAppHost) are weird (compatibility?) and won't complain here, but will barf if Flash/ActiveX object is appended to the DOM.\r\n\t      try {\r\n\t        obj = new AX('ShockwaveFlash.ShockwaveFlash');\r\n\t      } catch(e) {\r\n\t        // oh well\r\n\t        obj = null;\r\n\t      }\r\n\t\r\n\t      hasPlugin = (!!obj);\r\n\t\r\n\t      // cleanup, because it is ActiveX after all\r\n\t      obj = null;\r\n\t\r\n\t    }\r\n\t\r\n\t    hasFlash = hasPlugin;\r\n\t\r\n\t    return hasPlugin;\r\n\t\r\n\t  };\r\n\t\r\n\t  featureCheck = function() {\r\n\t\r\n\t    var flashNeeded,\r\n\t        item,\r\n\t        formats = sm2.audioFormats,\r\n\t        // iPhone <= 3.1 has broken HTML5 audio(), but firmware 3.2 (original iPad) + iOS4 works.\r\n\t        isSpecial = (is_iDevice && !!(ua.match(/os (1|2|3_0|3_1)\\s/i)));\r\n\t\r\n\t    if (isSpecial) {\r\n\t\r\n\t      // has Audio(), but is broken; let it load links directly.\r\n\t      sm2.hasHTML5 = false;\r\n\t\r\n\t      // ignore flash case, however\r\n\t      sm2.html5Only = true;\r\n\t\r\n\t      // hide the SWF, if present\r\n\t      if (sm2.oMC) {\r\n\t        sm2.oMC.style.display = 'none';\r\n\t      }\r\n\t\r\n\t    } else if (sm2.useHTML5Audio) {\r\n\t\r\n\t        if (!sm2.html5 || !sm2.html5.canPlayType) {\r\n\t          sm2._wD('SoundManager: No HTML5 Audio() support detected.');\r\n\t          sm2.hasHTML5 = false;\r\n\t        }\r\n\t\r\n\t        // <d>\r\n\t        if (isBadSafari) {\r\n\t          sm2._wD(smc + 'Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - ' + (!hasFlash ? ' would use flash fallback for MP3/MP4, but none detected.' : 'will use flash fallback for MP3/MP4, if available'), 1);\r\n\t        }\r\n\t        // </d>\r\n\t\r\n\t      }\r\n\t\r\n\t    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n\t\r\n\t      // sort out whether flash is optional, required or can be ignored.\r\n\t\r\n\t      // innocent until proven guilty.\r\n\t      canIgnoreFlash = true;\r\n\t\r\n\t      for (item in formats) {\r\n\t\r\n\t        if (formats.hasOwnProperty(item)) {\r\n\t\r\n\t          if (formats[item].required) {\r\n\t\r\n\t            if (!sm2.html5.canPlayType(formats[item].type)) {\r\n\t\r\n\t              // 100% HTML5 mode is not possible.\r\n\t              canIgnoreFlash = false;\r\n\t              flashNeeded = true;\r\n\t\r\n\t            } else if (sm2.preferFlash && (sm2.flash[item] || sm2.flash[formats[item].type])) {\r\n\t\r\n\t              // flash may be required, or preferred for this format.\r\n\t              flashNeeded = true;\r\n\t\r\n\t            }\r\n\t\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    // sanity check...\r\n\t    if (sm2.ignoreFlash) {\r\n\t      flashNeeded = false;\r\n\t      canIgnoreFlash = true;\r\n\t    }\r\n\t\r\n\t    sm2.html5Only = (sm2.hasHTML5 && sm2.useHTML5Audio && !flashNeeded);\r\n\t\r\n\t    return (!sm2.html5Only);\r\n\t\r\n\t  };\r\n\t\r\n\t  parseURL = function(url) {\r\n\t\r\n\t    /**\r\n\t     * Internal: Finds and returns the first playable URL (or failing that, the first URL.)\r\n\t     * @param {string or array} url A single URL string, OR, an array of URL strings or {url:'/path/to/resource', type:'audio/mp3'} objects.\r\n\t     */\r\n\t\r\n\t    var i, j, urlResult = 0, result;\r\n\t\r\n\t    if (url instanceof Array) {\r\n\t\r\n\t      // find the first good one\r\n\t      for (i = 0, j = url.length; i < j; i++) {\r\n\t\r\n\t        if (url[i] instanceof Object) {\r\n\t\r\n\t          // MIME check\r\n\t          if (sm2.canPlayMIME(url[i].type)) {\r\n\t            urlResult = i;\r\n\t            break;\r\n\t          }\r\n\t\r\n\t        } else if (sm2.canPlayURL(url[i])) {\r\n\t\r\n\t          // URL string check\r\n\t          urlResult = i;\r\n\t          break;\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t      // normalize to string\r\n\t      if (url[urlResult].url) {\r\n\t        url[urlResult] = url[urlResult].url;\r\n\t      }\r\n\t\r\n\t      result = url[urlResult];\r\n\t\r\n\t    } else {\r\n\t\r\n\t      // single URL case\r\n\t      result = url;\r\n\t\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t\r\n\t  startTimer = function(oSound) {\r\n\t\r\n\t    /**\r\n\t     * attach a timer to this sound, and start an interval if needed\r\n\t     */\r\n\t\r\n\t    if (!oSound._hasTimer) {\r\n\t\r\n\t      oSound._hasTimer = true;\r\n\t\r\n\t      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n\t\r\n\t        if (h5IntervalTimer === null && h5TimerCount === 0) {\r\n\t\r\n\t          h5IntervalTimer = setInterval(timerExecute, sm2.html5PollingInterval);\r\n\t\r\n\t        }\r\n\t\r\n\t        h5TimerCount++;\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  stopTimer = function(oSound) {\r\n\t\r\n\t    /**\r\n\t     * detach a timer\r\n\t     */\r\n\t\r\n\t    if (oSound._hasTimer) {\r\n\t\r\n\t      oSound._hasTimer = false;\r\n\t\r\n\t      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n\t\r\n\t        // interval will stop itself at next execution.\r\n\t\r\n\t        h5TimerCount--;\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  timerExecute = function() {\r\n\t\r\n\t    /**\r\n\t     * manual polling for HTML5 progress events, ie., whileplaying()\r\n\t     * (can achieve greater precision than conservative default HTML5 interval)\r\n\t     */\r\n\t\r\n\t    var i;\r\n\t\r\n\t    if (h5IntervalTimer !== null && !h5TimerCount) {\r\n\t\r\n\t      // no active timers, stop polling interval.\r\n\t\r\n\t      clearInterval(h5IntervalTimer);\r\n\t\r\n\t      h5IntervalTimer = null;\r\n\t\r\n\t      return;\r\n\t\r\n\t    }\r\n\t\r\n\t    // check all HTML5 sounds with timers\r\n\t\r\n\t    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\t\r\n\t      if (sm2.sounds[sm2.soundIDs[i]].isHTML5 && sm2.sounds[sm2.soundIDs[i]]._hasTimer) {\r\n\t        sm2.sounds[sm2.soundIDs[i]]._onTimer();\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  catchError = function(options) {\r\n\t\r\n\t    options = (options !== _undefined ? options : {});\r\n\t\r\n\t    if (typeof sm2.onerror === 'function') {\r\n\t      sm2.onerror.apply(window, [{\r\n\t        type: (options.type !== _undefined ? options.type : null)\r\n\t      }]);\r\n\t    }\r\n\t\r\n\t    if (options.fatal !== _undefined && options.fatal) {\r\n\t      sm2.disable();\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  badSafariFix = function() {\r\n\t\r\n\t    // special case: \"bad\" Safari (OS X 10.3 - 10.7) must fall back to flash for MP3/MP4\r\n\t    if (!isBadSafari || !detectFlash()) {\r\n\t      // doesn't apply\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    var aF = sm2.audioFormats, i, item;\r\n\t\r\n\t    for (item in aF) {\r\n\t\r\n\t      if (aF.hasOwnProperty(item)) {\r\n\t\r\n\t        if (item === 'mp3' || item === 'mp4') {\r\n\t\r\n\t          sm2._wD(sm + ': Using flash fallback for ' + item + ' format');\r\n\t          sm2.html5[item] = false;\r\n\t\r\n\t          // assign result to related formats, too\r\n\t          if (aF[item] && aF[item].related) {\r\n\t            for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n\t              sm2.html5[aF[item].related[i]] = false;\r\n\t            }\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Pseudo-private flash/ExternalInterface methods\r\n\t   * ----------------------------------------------\r\n\t   */\r\n\t\r\n\t  this._setSandboxType = function(sandboxType) {\r\n\t\r\n\t    // <d>\r\n\t    // Security sandbox according to Flash plugin\r\n\t    var sb = sm2.sandbox;\r\n\t\r\n\t    sb.type = sandboxType;\r\n\t    sb.description = sb.types[(sb.types[sandboxType] !== _undefined ? sandboxType : 'unknown')];\r\n\t\r\n\t    if (sb.type === 'localWithFile') {\r\n\t\r\n\t      sb.noRemote = true;\r\n\t      sb.noLocal = false;\r\n\t      _wDS('secNote', 2);\r\n\t\r\n\t    } else if (sb.type === 'localWithNetwork') {\r\n\t\r\n\t      sb.noRemote = false;\r\n\t      sb.noLocal = true;\r\n\t\r\n\t    } else if (sb.type === 'localTrusted') {\r\n\t\r\n\t      sb.noRemote = false;\r\n\t      sb.noLocal = false;\r\n\t\r\n\t    }\r\n\t    // </d>\r\n\t\r\n\t  };\r\n\t\r\n\t  this._externalInterfaceOK = function(swfVersion) {\r\n\t\r\n\t    // flash callback confirming flash loaded, EI working etc.\r\n\t    // swfVersion: SWF build string\r\n\t\r\n\t    if (sm2.swfLoaded) {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    var e;\r\n\t\r\n\t    debugTS('swf', true);\r\n\t    debugTS('flashtojs', true);\r\n\t    sm2.swfLoaded = true;\r\n\t    tryInitOnFocus = false;\r\n\t\r\n\t    if (isBadSafari) {\r\n\t      badSafariFix();\r\n\t    }\r\n\t\r\n\t    // complain if JS + SWF build/version strings don't match, excluding +DEV builds\r\n\t    // <d>\r\n\t    if (!swfVersion || swfVersion.replace(/\\+dev/i, '') !== sm2.versionNumber.replace(/\\+dev/i, '')) {\r\n\t\r\n\t      e = sm + ': Fatal: JavaScript file build \"' + sm2.versionNumber + '\" does not match Flash SWF build \"' + swfVersion + '\" at ' + sm2.url + '. Ensure both are up-to-date.';\r\n\t\r\n\t      // escape flash -> JS stack so this error fires in window.\r\n\t      setTimeout(function() {\r\n\t        throw new Error(e);\r\n\t      }, 0);\r\n\t\r\n\t      // exit, init will fail with timeout\r\n\t      return;\r\n\t\r\n\t    }\r\n\t    // </d>\r\n\t\r\n\t    // IE needs a larger timeout\r\n\t    setTimeout(init, isIE ? 100 : 1);\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * Private initialization helpers\r\n\t   * ------------------------------\r\n\t   */\r\n\t\r\n\t  createMovie = function(movieID, movieURL) {\r\n\t\r\n\t    // ignore if already connected\r\n\t    if (didAppend && appendSuccess) return false;\r\n\t\r\n\t    function initMsg() {\r\n\t\r\n\t      // <d>\r\n\t\r\n\t      var options = [],\r\n\t          title,\r\n\t          msg = [],\r\n\t          delimiter = ' + ';\r\n\t\r\n\t      title = 'SoundManager ' + sm2.version + (!sm2.html5Only && sm2.useHTML5Audio ? (sm2.hasHTML5 ? ' + HTML5 audio' : ', no HTML5 audio support') : '');\r\n\t\r\n\t      if (!sm2.html5Only) {\r\n\t\r\n\t        if (sm2.preferFlash) {\r\n\t          options.push('preferFlash');\r\n\t        }\r\n\t\r\n\t        if (sm2.useHighPerformance) {\r\n\t          options.push('useHighPerformance');\r\n\t        }\r\n\t\r\n\t        if (sm2.flashPollingInterval) {\r\n\t          options.push('flashPollingInterval (' + sm2.flashPollingInterval + 'ms)');\r\n\t        }\r\n\t\r\n\t        if (sm2.html5PollingInterval) {\r\n\t          options.push('html5PollingInterval (' + sm2.html5PollingInterval + 'ms)');\r\n\t        }\r\n\t\r\n\t        if (sm2.wmode) {\r\n\t          options.push('wmode (' + sm2.wmode + ')');\r\n\t        }\r\n\t\r\n\t        if (sm2.debugFlash) {\r\n\t          options.push('debugFlash');\r\n\t        }\r\n\t\r\n\t        if (sm2.useFlashBlock) {\r\n\t          options.push('flashBlock');\r\n\t        }\r\n\t\r\n\t      } else if (sm2.html5PollingInterval) {\r\n\t          options.push('html5PollingInterval (' + sm2.html5PollingInterval + 'ms)');\r\n\t        }\r\n\t\r\n\t      if (options.length) {\r\n\t        msg = msg.concat([options.join(delimiter)]);\r\n\t      }\r\n\t\r\n\t      sm2._wD(title + (msg.length ? delimiter + msg.join(', ') : ''), 1);\r\n\t\r\n\t      showSupport();\r\n\t\r\n\t      // </d>\r\n\t\r\n\t    }\r\n\t\r\n\t    if (sm2.html5Only) {\r\n\t\r\n\t      // 100% HTML5 mode\r\n\t      setVersionInfo();\r\n\t\r\n\t      initMsg();\r\n\t      sm2.oMC = id(sm2.movieID);\r\n\t      init();\r\n\t\r\n\t      // prevent multiple init attempts\r\n\t      didAppend = true;\r\n\t\r\n\t      appendSuccess = true;\r\n\t\r\n\t      return false;\r\n\t\r\n\t    }\r\n\t\r\n\t    // flash path\r\n\t    var remoteURL = (movieURL || sm2.url),\r\n\t    localURL = (sm2.altURL || remoteURL),\r\n\t    swfTitle = 'JS/Flash audio component (SoundManager 2)',\r\n\t    oTarget = getDocument(),\r\n\t    extraClass = getSWFCSS(),\r\n\t    isRTL = null,\r\n\t    html = doc.getElementsByTagName('html')[0],\r\n\t    oEmbed, oMovie, tmp, movieHTML, oEl, s, x, sClass;\r\n\t\r\n\t    isRTL = (html && html.dir && html.dir.match(/rtl/i));\r\n\t    movieID = (movieID === _undefined ? sm2.id : movieID);\r\n\t\r\n\t    function param(name, value) {\r\n\t      return '<param name=\"' + name + '\" value=\"' + value + '\" />';\r\n\t    }\r\n\t\r\n\t    // safety check for legacy (change to Flash 9 URL)\r\n\t    setVersionInfo();\r\n\t    sm2.url = normalizeMovieURL(overHTTP ? remoteURL : localURL);\r\n\t    movieURL = sm2.url;\r\n\t\r\n\t    sm2.wmode = (!sm2.wmode && sm2.useHighPerformance ? 'transparent' : sm2.wmode);\r\n\t\r\n\t    if (sm2.wmode !== null && (ua.match(/msie 8/i) || (!isIE && !sm2.useHighPerformance)) && navigator.platform.match(/win32|win64/i)) {\r\n\t      /**\r\n\t       * extra-special case: movie doesn't load until scrolled into view when using wmode = anything but 'window' here\r\n\t       * does not apply when using high performance (position:fixed means on-screen), OR infinite flash load timeout\r\n\t       * wmode breaks IE 8 on Vista + Win7 too in some cases, as of January 2011 (?)\r\n\t       */\r\n\t      messages.push(strings.spcWmode);\r\n\t      sm2.wmode = null;\r\n\t    }\r\n\t\r\n\t    oEmbed = {\r\n\t      name: movieID,\r\n\t      id: movieID,\r\n\t      src: movieURL,\r\n\t      quality: 'high',\r\n\t      allowScriptAccess: sm2.allowScriptAccess,\r\n\t      bgcolor: sm2.bgColor,\r\n\t      pluginspage: http + 'www.macromedia.com/go/getflashplayer',\r\n\t      title: swfTitle,\r\n\t      type: 'application/x-shockwave-flash',\r\n\t      wmode: sm2.wmode,\r\n\t      // http://help.adobe.com/en_US/as3/mobile/WS4bebcd66a74275c36cfb8137124318eebc6-7ffd.html\r\n\t      hasPriority: 'true'\r\n\t    };\r\n\t\r\n\t    if (sm2.debugFlash) {\r\n\t      oEmbed.FlashVars = 'debug=1';\r\n\t    }\r\n\t\r\n\t    if (!sm2.wmode) {\r\n\t      // don't write empty attribute\r\n\t      delete oEmbed.wmode;\r\n\t    }\r\n\t\r\n\t    if (isIE) {\r\n\t\r\n\t      // IE is \"special\".\r\n\t      oMovie = doc.createElement('div');\r\n\t      movieHTML = [\r\n\t        '<object id=\"' + movieID + '\" data=\"' + movieURL + '\" type=\"' + oEmbed.type + '\" title=\"' + oEmbed.title + '\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\">',\r\n\t        param('movie', movieURL),\r\n\t        param('AllowScriptAccess', sm2.allowScriptAccess),\r\n\t        param('quality', oEmbed.quality),\r\n\t        (sm2.wmode ? param('wmode', sm2.wmode) : ''),\r\n\t        param('bgcolor', sm2.bgColor),\r\n\t        param('hasPriority', 'true'),\r\n\t        (sm2.debugFlash ? param('FlashVars', oEmbed.FlashVars) : ''),\r\n\t        '</object>'\r\n\t      ].join('');\r\n\t\r\n\t    } else {\r\n\t\r\n\t      oMovie = doc.createElement('embed');\r\n\t      for (tmp in oEmbed) {\r\n\t        if (oEmbed.hasOwnProperty(tmp)) {\r\n\t          oMovie.setAttribute(tmp, oEmbed[tmp]);\r\n\t        }\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    initDebug();\r\n\t    extraClass = getSWFCSS();\r\n\t    oTarget = getDocument();\r\n\t\r\n\t    if (oTarget) {\r\n\t\r\n\t      sm2.oMC = (id(sm2.movieID) || doc.createElement('div'));\r\n\t\r\n\t      if (!sm2.oMC.id) {\r\n\t\r\n\t        sm2.oMC.id = sm2.movieID;\r\n\t        sm2.oMC.className = swfCSS.swfDefault + ' ' + extraClass;\r\n\t        s = null;\r\n\t        oEl = null;\r\n\t\r\n\t        if (!sm2.useFlashBlock) {\r\n\t          if (sm2.useHighPerformance) {\r\n\t            // on-screen at all times\r\n\t            s = {\r\n\t              position: 'fixed',\r\n\t              width: '8px',\r\n\t              height: '8px',\r\n\t              // >= 6px for flash to run fast, >= 8px to start up under Firefox/win32 in some cases. odd? yes.\r\n\t              bottom: '0px',\r\n\t              left: '0px',\r\n\t              overflow: 'hidden'\r\n\t            };\r\n\t          } else {\r\n\t            // hide off-screen, lower priority\r\n\t            s = {\r\n\t              position: 'absolute',\r\n\t              width: '6px',\r\n\t              height: '6px',\r\n\t              top: '-9999px',\r\n\t              left: '-9999px'\r\n\t            };\r\n\t            if (isRTL) {\r\n\t              s.left = Math.abs(parseInt(s.left, 10)) + 'px';\r\n\t            }\r\n\t          }\r\n\t        }\r\n\t\r\n\t        if (isWebkit) {\r\n\t          // soundcloud-reported render/crash fix, safari 5\r\n\t          sm2.oMC.style.zIndex = 10000;\r\n\t        }\r\n\t\r\n\t        if (!sm2.debugFlash) {\r\n\t          for (x in s) {\r\n\t            if (s.hasOwnProperty(x)) {\r\n\t              sm2.oMC.style[x] = s[x];\r\n\t            }\r\n\t          }\r\n\t        }\r\n\t\r\n\t        try {\r\n\t\r\n\t          if (!isIE) {\r\n\t            sm2.oMC.appendChild(oMovie);\r\n\t          }\r\n\t\r\n\t          oTarget.appendChild(sm2.oMC);\r\n\t\r\n\t          if (isIE) {\r\n\t            oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n\t            oEl.className = swfCSS.swfBox;\r\n\t            oEl.innerHTML = movieHTML;\r\n\t          }\r\n\t\r\n\t          appendSuccess = true;\r\n\t\r\n\t        } catch(e) {\r\n\t\r\n\t          throw new Error(str('domError') + ' \\n' + e.toString());\r\n\t\r\n\t        }\r\n\t\r\n\t      } else {\r\n\t\r\n\t        // SM2 container is already in the document (eg. flashblock use case)\r\n\t        sClass = sm2.oMC.className;\r\n\t        sm2.oMC.className = (sClass ? sClass + ' ' : swfCSS.swfDefault) + (extraClass ? ' ' + extraClass : '');\r\n\t        sm2.oMC.appendChild(oMovie);\r\n\t\r\n\t        if (isIE) {\r\n\t          oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n\t          oEl.className = swfCSS.swfBox;\r\n\t          oEl.innerHTML = movieHTML;\r\n\t        }\r\n\t\r\n\t        appendSuccess = true;\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    didAppend = true;\r\n\t\r\n\t    initMsg();\r\n\t\r\n\t    // sm2._wD(sm + ': Trying to load ' + movieURL + (!overHTTP && sm2.altURL ? ' (alternate URL)' : ''), 1);\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  initMovie = function() {\r\n\t\r\n\t    if (sm2.html5Only) {\r\n\t      createMovie();\r\n\t      return false;\r\n\t    }\r\n\t\r\n\t    // attempt to get, or create, movie (may already exist)\r\n\t    if (flash) return false;\r\n\t\r\n\t    if (!sm2.url) {\r\n\t\r\n\t      /**\r\n\t       * Something isn't right - we've reached init, but the soundManager url property has not been set.\r\n\t       * User has not called setup({url: ...}), or has not set soundManager.url (legacy use case) directly before init time.\r\n\t       * Notify and exit. If user calls setup() with a url: property, init will be restarted as in the deferred loading case.\r\n\t       */\r\n\t\r\n\t       _wDS('noURL');\r\n\t       return false;\r\n\t\r\n\t    }\r\n\t\r\n\t    // inline markup case\r\n\t    flash = sm2.getMovie(sm2.id);\r\n\t\r\n\t    if (!flash) {\r\n\t\r\n\t      if (!oRemoved) {\r\n\t\r\n\t        // try to create\r\n\t        createMovie(sm2.id, sm2.url);\r\n\t\r\n\t      } else {\r\n\t\r\n\t        // try to re-append removed movie after reboot()\r\n\t        if (!isIE) {\r\n\t          sm2.oMC.appendChild(oRemoved);\r\n\t        } else {\r\n\t          sm2.oMC.innerHTML = oRemovedHTML;\r\n\t        }\r\n\t\r\n\t        oRemoved = null;\r\n\t        didAppend = true;\r\n\t\r\n\t      }\r\n\t\r\n\t      flash = sm2.getMovie(sm2.id);\r\n\t\r\n\t    }\r\n\t\r\n\t    if (typeof sm2.oninitmovie === 'function') {\r\n\t      setTimeout(sm2.oninitmovie, 1);\r\n\t    }\r\n\t\r\n\t    // <d>\r\n\t    flushMessages();\r\n\t    // </d>\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  delayWaitForEI = function() {\r\n\t\r\n\t    setTimeout(waitForEI, 1000);\r\n\t\r\n\t  };\r\n\t\r\n\t  rebootIntoHTML5 = function() {\r\n\t\r\n\t    // special case: try for a reboot with preferFlash: false, if 100% HTML5 mode is possible and useFlashBlock is not enabled.\r\n\t\r\n\t    window.setTimeout(function() {\r\n\t\r\n\t      complain(smc + 'useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...');\r\n\t\r\n\t      sm2.setup({\r\n\t        preferFlash: false\r\n\t      }).reboot();\r\n\t\r\n\t      // if for some reason you want to detect this case, use an ontimeout() callback and look for html5Only and didFlashBlock == true.\r\n\t      sm2.didFlashBlock = true;\r\n\t\r\n\t      sm2.beginDelayedInit();\r\n\t\r\n\t    }, 1);\r\n\t\r\n\t  };\r\n\t\r\n\t  waitForEI = function() {\r\n\t\r\n\t    var p,\r\n\t        loadIncomplete = false;\r\n\t\r\n\t    if (!sm2.url) {\r\n\t      // No SWF url to load (noURL case) - exit for now. Will be retried when url is set.\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    if (waitingForEI) {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    waitingForEI = true;\r\n\t    event.remove(window, 'load', delayWaitForEI);\r\n\t\r\n\t    if (hasFlash && tryInitOnFocus && !isFocused) {\r\n\t      // Safari won't load flash in background tabs, only when focused.\r\n\t      _wDS('waitFocus');\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    if (!didInit) {\r\n\t      p = sm2.getMoviePercent();\r\n\t      if (p > 0 && p < 100) {\r\n\t        loadIncomplete = true;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    setTimeout(function() {\r\n\t\r\n\t      p = sm2.getMoviePercent();\r\n\t\r\n\t      if (loadIncomplete) {\r\n\t        // special case: if movie *partially* loaded, retry until it's 100% before assuming failure.\r\n\t        waitingForEI = false;\r\n\t        sm2._wD(str('waitSWF'));\r\n\t        window.setTimeout(delayWaitForEI, 1);\r\n\t        return;\r\n\t      }\r\n\t\r\n\t      // <d>\r\n\t      if (!didInit) {\r\n\t\r\n\t        sm2._wD(sm + ': No Flash response within expected time. Likely causes: ' + (p === 0 ? 'SWF load failed, ' : '') + 'Flash blocked or JS-Flash security error.' + (sm2.debugFlash ? ' ' + str('checkSWF') : ''), 2);\r\n\t\r\n\t        if (!overHTTP && p) {\r\n\t\r\n\t          _wDS('localFail', 2);\r\n\t\r\n\t          if (!sm2.debugFlash) {\r\n\t            _wDS('tryDebug', 2);\r\n\t          }\r\n\t\r\n\t        }\r\n\t\r\n\t        if (p === 0) {\r\n\t\r\n\t          // if 0 (not null), probably a 404.\r\n\t          sm2._wD(str('swf404', sm2.url), 1);\r\n\t\r\n\t        }\r\n\t\r\n\t        debugTS('flashtojs', false, ': Timed out' + (overHTTP ? ' (Check flash security or flash blockers)' : ' (No plugin/missing SWF?)'));\r\n\t\r\n\t      }\r\n\t      // </d>\r\n\t\r\n\t      // give up / time-out, depending\r\n\t\r\n\t      if (!didInit && okToDisable) {\r\n\t\r\n\t        if (p === null) {\r\n\t\r\n\t          // SWF failed to report load progress. Possibly blocked.\r\n\t\r\n\t          if (sm2.useFlashBlock || sm2.flashLoadTimeout === 0) {\r\n\t\r\n\t            if (sm2.useFlashBlock) {\r\n\t\r\n\t              flashBlockHandler();\r\n\t\r\n\t            }\r\n\t\r\n\t            _wDS('waitForever');\r\n\t\r\n\t          } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n\t\r\n\t            // no custom flash block handling, but SWF has timed out. Will recover if user unblocks / allows SWF load.\r\n\t            rebootIntoHTML5();\r\n\t\r\n\t          } else {\r\n\t\r\n\t            _wDS('waitForever');\r\n\t\r\n\t            // fire any regular registered ontimeout() listeners.\r\n\t            processOnEvents({\r\n\t              type: 'ontimeout',\r\n\t              ignoreInit: true,\r\n\t              error: {\r\n\t                type: 'INIT_FLASHBLOCK'\r\n\t              }\r\n\t            });\r\n\t\r\n\t          }\r\n\t\r\n\t        } else if (sm2.flashLoadTimeout === 0) {\r\n\t\r\n\t          // SWF loaded? Shouldn't be a blocking issue, then.\r\n\t\r\n\t          _wDS('waitForever');\r\n\t\r\n\t        } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n\t\r\n\t          rebootIntoHTML5();\r\n\t\r\n\t        } else {\r\n\t\r\n\t          failSafely(true);\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }, sm2.flashLoadTimeout);\r\n\t\r\n\t  };\r\n\t\r\n\t  handleFocus = function() {\r\n\t\r\n\t    function cleanup() {\r\n\t      event.remove(window, 'focus', handleFocus);\r\n\t    }\r\n\t\r\n\t    if (isFocused || !tryInitOnFocus) {\r\n\t      // already focused, or not special Safari background tab case\r\n\t      cleanup();\r\n\t      return true;\r\n\t    }\r\n\t\r\n\t    okToDisable = true;\r\n\t    isFocused = true;\r\n\t    _wDS('gotFocus');\r\n\t\r\n\t    // allow init to restart\r\n\t    waitingForEI = false;\r\n\t\r\n\t    // kick off ExternalInterface timeout, now that the SWF has started\r\n\t    delayWaitForEI();\r\n\t\r\n\t    cleanup();\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  flushMessages = function() {\r\n\t\r\n\t    // <d>\r\n\t\r\n\t    // SM2 pre-init debug messages\r\n\t    if (messages.length) {\r\n\t      sm2._wD('SoundManager 2: ' + messages.join(' '), 1);\r\n\t      messages = [];\r\n\t    }\r\n\t\r\n\t    // </d>\r\n\t\r\n\t  };\r\n\t\r\n\t  showSupport = function() {\r\n\t\r\n\t    // <d>\r\n\t\r\n\t    flushMessages();\r\n\t\r\n\t    var item, tests = [];\r\n\t\r\n\t    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n\t      for (item in sm2.audioFormats) {\r\n\t        if (sm2.audioFormats.hasOwnProperty(item)) {\r\n\t          tests.push(item + ' = ' + sm2.html5[item] + (!sm2.html5[item] && needsFlash && sm2.flash[item] ? ' (using flash)' : (sm2.preferFlash && sm2.flash[item] && needsFlash ? ' (preferring flash)' : (!sm2.html5[item] ? ' (' + (sm2.audioFormats[item].required ? 'required, ' : '') + 'and no flash support)' : ''))));\r\n\t        }\r\n\t      }\r\n\t      sm2._wD('SoundManager 2 HTML5 support: ' + tests.join(', '), 1);\r\n\t    }\r\n\t\r\n\t    // </d>\r\n\t\r\n\t  };\r\n\t\r\n\t  initComplete = function(bNoDisable) {\r\n\t\r\n\t    if (didInit) return false;\r\n\t\r\n\t    if (sm2.html5Only) {\r\n\t      // all good.\r\n\t      _wDS('sm2Loaded', 1);\r\n\t      didInit = true;\r\n\t      initUserOnload();\r\n\t      debugTS('onload', true);\r\n\t      return true;\r\n\t    }\r\n\t\r\n\t    var wasTimeout = (sm2.useFlashBlock && sm2.flashLoadTimeout && !sm2.getMoviePercent()),\r\n\t        result = true,\r\n\t        error;\r\n\t\r\n\t    if (!wasTimeout) {\r\n\t      didInit = true;\r\n\t    }\r\n\t\r\n\t    error = {\r\n\t      type: (!hasFlash && needsFlash ? 'NO_FLASH' : 'INIT_TIMEOUT')\r\n\t    };\r\n\t\r\n\t    sm2._wD('SoundManager 2 ' + (disabled ? 'failed to load' : 'loaded') + ' (' + (disabled ? 'Flash security/load error' : 'OK') + ') ' + String.fromCharCode(disabled ? 10006 : 10003), disabled ? 2 : 1);\r\n\t\r\n\t    if (disabled || bNoDisable) {\r\n\t\r\n\t      if (sm2.useFlashBlock && sm2.oMC) {\r\n\t        sm2.oMC.className = getSWFCSS() + ' ' + (sm2.getMoviePercent() === null ? swfCSS.swfTimedout : swfCSS.swfError);\r\n\t      }\r\n\t\r\n\t      processOnEvents({\r\n\t        type: 'ontimeout',\r\n\t        error: error,\r\n\t        ignoreInit: true\r\n\t      });\r\n\t\r\n\t      debugTS('onload', false);\r\n\t      catchError(error);\r\n\t\r\n\t      result = false;\r\n\t\r\n\t    } else {\r\n\t\r\n\t      debugTS('onload', true);\r\n\t\r\n\t    }\r\n\t\r\n\t    if (!disabled) {\r\n\t\r\n\t      if (sm2.waitForWindowLoad && !windowLoaded) {\r\n\t\r\n\t        _wDS('waitOnload');\r\n\t        event.add(window, 'load', initUserOnload);\r\n\t\r\n\t      } else {\r\n\t\r\n\t        // <d>\r\n\t        if (sm2.waitForWindowLoad && windowLoaded) {\r\n\t          _wDS('docLoaded');\r\n\t        }\r\n\t        // </d>\r\n\t\r\n\t        initUserOnload();\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t\r\n\t  };\r\n\t\r\n\t  /**\r\n\t   * apply top-level setupOptions object as local properties, eg., this.setupOptions.flashVersion -> this.flashVersion (soundManager.flashVersion)\r\n\t   * this maintains backward compatibility, and allows properties to be defined separately for use by soundManager.setup().\r\n\t   */\r\n\t\r\n\t  setProperties = function() {\r\n\t\r\n\t    var i,\r\n\t        o = sm2.setupOptions;\r\n\t\r\n\t    for (i in o) {\r\n\t\r\n\t      if (o.hasOwnProperty(i)) {\r\n\t\r\n\t        // assign local property if not already defined\r\n\t\r\n\t        if (sm2[i] === _undefined) {\r\n\t\r\n\t          sm2[i] = o[i];\r\n\t\r\n\t        } else if (sm2[i] !== o[i]) {\r\n\t\r\n\t          // legacy support: write manually-assigned property (eg., soundManager.url) back to setupOptions to keep things in sync\r\n\t          sm2.setupOptions[i] = sm2[i];\r\n\t\r\n\t        }\r\n\t\r\n\t      }\r\n\t\r\n\t    }\r\n\t\r\n\t  };\r\n\t\r\n\t\r\n\t  init = function() {\r\n\t\r\n\t    // called after onload()\r\n\t\r\n\t    if (didInit) {\r\n\t      _wDS('didInit');\r\n\t      return false;\r\n\t    }\r\n\t\r\n\t    function cleanup() {\r\n\t      event.remove(window, 'load', sm2.beginDelayedInit);\r\n\t    }\r\n\t\r\n\t    if (sm2.html5Only) {\r\n\t\r\n\t      if (!didInit) {\r\n\t        // we don't need no steenking flash!\r\n\t        cleanup();\r\n\t        sm2.enabled = true;\r\n\t        initComplete();\r\n\t      }\r\n\t\r\n\t      return true;\r\n\t\r\n\t    }\r\n\t\r\n\t    // flash path\r\n\t    initMovie();\r\n\t\r\n\t    try {\r\n\t\r\n\t      // attempt to talk to Flash\r\n\t      flash._externalInterfaceTest(false);\r\n\t\r\n\t      /**\r\n\t       * Apply user-specified polling interval, OR, if \"high performance\" set, faster vs. default polling\r\n\t       * (determines frequency of whileloading/whileplaying callbacks, effectively driving UI framerates)\r\n\t       */\r\n\t      setPolling(true, (sm2.flashPollingInterval || (sm2.useHighPerformance ? 10 : 50)));\r\n\t\r\n\t      if (!sm2.debugMode) {\r\n\t        // stop the SWF from making debug output calls to JS\r\n\t        flash._disableDebug();\r\n\t      }\r\n\t\r\n\t      sm2.enabled = true;\r\n\t      debugTS('jstoflash', true);\r\n\t\r\n\t      if (!sm2.html5Only) {\r\n\t        // prevent browser from showing cached page state (or rather, restoring \"suspended\" page state) via back button, because flash may be dead\r\n\t        // http://www.webkit.org/blog/516/webkit-page-cache-ii-the-unload-event/\r\n\t        event.add(window, 'unload', doNothing);\r\n\t      }\r\n\t\r\n\t    } catch(e) {\r\n\t\r\n\t      sm2._wD('js/flash exception: ' + e.toString());\r\n\t\r\n\t      debugTS('jstoflash', false);\r\n\t\r\n\t      catchError({\r\n\t        type: 'JS_TO_FLASH_EXCEPTION',\r\n\t        fatal: true\r\n\t      });\r\n\t\r\n\t      // don't disable, for reboot()\r\n\t      failSafely(true);\r\n\t\r\n\t      initComplete();\r\n\t\r\n\t      return false;\r\n\t\r\n\t    }\r\n\t\r\n\t    initComplete();\r\n\t\r\n\t    // disconnect events\r\n\t    cleanup();\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  domContentLoaded = function() {\r\n\t\r\n\t    if (didDCLoaded) return false;\r\n\t\r\n\t    didDCLoaded = true;\r\n\t\r\n\t    // assign top-level soundManager properties eg. soundManager.url\r\n\t    setProperties();\r\n\t\r\n\t    initDebug();\r\n\t\r\n\t    if (!hasFlash && sm2.hasHTML5) {\r\n\t\r\n\t      sm2._wD('SoundManager 2: No Flash detected' + (!sm2.useHTML5Audio ? ', enabling HTML5.' : '. Trying HTML5-only mode.'), 1);\r\n\t\r\n\t      sm2.setup({\r\n\t        useHTML5Audio: true,\r\n\t        // make sure we aren't preferring flash, either\r\n\t        // TODO: preferFlash should not matter if flash is not installed. Currently, stuff breaks without the below tweak.\r\n\t        preferFlash: false\r\n\t      });\r\n\t\r\n\t    }\r\n\t\r\n\t    testHTML5();\r\n\t\r\n\t    if (!hasFlash && needsFlash) {\r\n\t\r\n\t      messages.push(strings.needFlash);\r\n\t\r\n\t      // TODO: Fatal here vs. timeout approach, etc.\r\n\t      // hack: fail sooner.\r\n\t      sm2.setup({\r\n\t        flashLoadTimeout: 1\r\n\t      });\r\n\t\r\n\t    }\r\n\t\r\n\t    if (doc.removeEventListener) {\r\n\t      doc.removeEventListener('DOMContentLoaded', domContentLoaded, false);\r\n\t    }\r\n\t\r\n\t    initMovie();\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  domContentLoadedIE = function() {\r\n\t\r\n\t    if (doc.readyState === 'complete') {\r\n\t      domContentLoaded();\r\n\t      doc.detachEvent('onreadystatechange', domContentLoadedIE);\r\n\t    }\r\n\t\r\n\t    return true;\r\n\t\r\n\t  };\r\n\t\r\n\t  winOnLoad = function() {\r\n\t\r\n\t    // catch edge case of initComplete() firing after window.load()\r\n\t    windowLoaded = true;\r\n\t\r\n\t    // catch case where DOMContentLoaded has been sent, but we're still in doc.readyState = 'interactive'\r\n\t    domContentLoaded();\r\n\t\r\n\t    event.remove(window, 'load', winOnLoad);\r\n\t\r\n\t  };\r\n\t\r\n\t  // sniff up-front\r\n\t  detectFlash();\r\n\t\r\n\t  // focus and window load, init (primarily flash-driven)\r\n\t  event.add(window, 'focus', handleFocus);\r\n\t  event.add(window, 'load', delayWaitForEI);\r\n\t  event.add(window, 'load', winOnLoad);\r\n\t\r\n\t  if (doc.addEventListener) {\r\n\t\r\n\t    doc.addEventListener('DOMContentLoaded', domContentLoaded, false);\r\n\t\r\n\t  } else if (doc.attachEvent) {\r\n\t\r\n\t    doc.attachEvent('onreadystatechange', domContentLoadedIE);\r\n\t\r\n\t  } else {\r\n\t\r\n\t    // no add/attachevent support - safe to assume no JS -> Flash either\r\n\t    debugTS('onload', false);\r\n\t    catchError({\r\n\t      type: 'NO_DOM2_EVENTS',\r\n\t      fatal: true\r\n\t    });\r\n\t\r\n\t  }\r\n\t\r\n\t} // SoundManager()\r\n\t\r\n\t// SM2_DEFER details: http://www.schillmania.com/projects/soundmanager2/doc/getstarted/#lazy-loading\r\n\t\r\n\tif (window.SM2_DEFER === _undefined || !SM2_DEFER) {\r\n\t  soundManager = new SoundManager();\r\n\t}\r\n\t\r\n\t/**\r\n\t * SoundManager public interfaces\r\n\t * ------------------------------\r\n\t */\r\n\t\r\n\tif (typeof module === 'object' && module && typeof module.exports === 'object') {\r\n\t\r\n\t  /**\r\n\t   * commonJS module\r\n\t   */\r\n\t\r\n\t  module.exports.SoundManager = SoundManager;\r\n\t  module.exports.soundManager = soundManager;\r\n\t\r\n\t} else if (true) {\r\n\t\r\n\t  /**\r\n\t   * AMD - requireJS\r\n\t   * basic usage:\r\n\t   * require([\"/path/to/soundmanager2.js\"], function(SoundManager) {\r\n\t   *   SoundManager.getInstance().setup({\r\n\t   *     url: '/swf/',\r\n\t   *     onready: function() { ... }\r\n\t   *   })\r\n\t   * });\r\n\t   *\r\n\t   * SM2_DEFER usage:\r\n\t   * window.SM2_DEFER = true;\r\n\t   * require([\"/path/to/soundmanager2.js\"], function(SoundManager) {\r\n\t   *   SoundManager.getInstance(function() {\r\n\t   *     var soundManager = new SoundManager.constructor();\r\n\t   *     soundManager.setup({\r\n\t   *       url: '/swf/',\r\n\t   *       ...\r\n\t   *     });\r\n\t   *     ...\r\n\t   *     soundManager.beginDelayedInit();\r\n\t   *     return soundManager;\r\n\t   *   })\r\n\t   * });\r\n\t   */\r\n\t\r\n\t  !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\r\n\t    /**\r\n\t     * Retrieve the global instance of SoundManager.\r\n\t     * If a global instance does not exist it can be created using a callback.\r\n\t     *\r\n\t     * @param {Function} smBuilder Optional: Callback used to create a new SoundManager instance\r\n\t     * @return {SoundManager} The global SoundManager instance\r\n\t     */\r\n\t    function getInstance(smBuilder) {\r\n\t      if (!window.soundManager && smBuilder instanceof Function) {\r\n\t        var instance = smBuilder(SoundManager);\r\n\t        if (instance instanceof SoundManager) {\r\n\t          window.soundManager = instance;\r\n\t        }\r\n\t      }\r\n\t      return window.soundManager;\r\n\t    }\r\n\t    return {\r\n\t      constructor: SoundManager,\r\n\t      getInstance: getInstance\r\n\t    };\r\n\t  }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t\r\n\t}\r\n\t\r\n\t// standard browser case\r\n\t\r\n\t// constructor\r\n\twindow.SoundManager = SoundManager;\r\n\t\r\n\t/**\r\n\t * note: SM2 requires a window global due to Flash, which makes calls to window.soundManager.\r\n\t * Flash may not always be needed, but this is not known until async init and SM2 may even \"reboot\" into Flash mode.\r\n\t */\r\n\t\r\n\t// public API, flash callbacks etc.\r\n\twindow.soundManager = soundManager;\r\n\t\r\n\t}(window));\r\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(75)(module)))\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _class;\n\t\n\tvar _templateObject = _taggedTemplateLiteralLoose(['\\n  display: flex;\\n  margin: 0;\\n'], ['\\n  display: flex;\\n  margin: 0;\\n']),\n\t    _templateObject2 = _taggedTemplateLiteralLoose(['\\n  List-style: none;\\n  text-align: right;\\n  li {\\n    margin-left: 30px;\\n  }\\n'], ['\\n  List-style: none;\\n  text-align: right;\\n  li {\\n    margin-left: 30px;\\n  }\\n']),\n\t    _templateObject3 = _taggedTemplateLiteralLoose(['\\n  List-style: none;\\n  text-align: left;\\n  li {\\n    margin-right: 20px;\\n  }\\n'], ['\\n  List-style: none;\\n  text-align: left;\\n  li {\\n    margin-right: 20px;\\n  }\\n']),\n\t    _templateObject4 = _taggedTemplateLiteralLoose(['\\n  display: flex;\\n  color: white;\\n  justify-content: space-between;\\n  font-size: 14px;\\n  font-weight: 300;\\n  letter-spacing: 1px;\\n  padding: 2em;\\n  position: fixed;\\n  z-index: 1;\\n  top: 0;\\n  left: 0px;\\n  right: 0px;\\n  background: rgb(179, 75, 36);\\n'], ['\\n  display: flex;\\n  color: white;\\n  justify-content: space-between;\\n  font-size: 14px;\\n  font-weight: 300;\\n  letter-spacing: 1px;\\n  padding: 2em;\\n  position: fixed;\\n  z-index: 1;\\n  top: 0;\\n  left: 0px;\\n  right: 0px;\\n  background: rgb(179, 75, 36);\\n']),\n\t    _templateObject5 = _taggedTemplateLiteralLoose(['\\n  text-transform: lowercase;\\n  margin-bottom: 0;\\n'], ['\\n  text-transform: lowercase;\\n  margin-bottom: 0;\\n']),\n\t    _templateObject6 = _taggedTemplateLiteralLoose(['\\n  color: #fafafa;\\n  text-decoration: none;\\n  border-bottom: 2px solid transparent;\\n  padding-bottom: 5px;\\n  transition: all ease .3s;\\n  &:hover {\\n    border-color: #fafafa;\\n    padding-bottom: 2px;\\n  }\\n'], ['\\n  color: #fafafa;\\n  text-decoration: none;\\n  border-bottom: 2px solid transparent;\\n  padding-bottom: 5px;\\n  transition: all ease .3s;\\n  &:hover {\\n    border-color: #fafafa;\\n    padding-bottom: 2px;\\n  }\\n']);\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _styledComponents = __webpack_require__(10);\n\t\n\tvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\t\n\tvar _reactFontawesome = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"@fortawesome/react-fontawesome\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t\n\tvar _reactFontawesome2 = _interopRequireDefault(_reactFontawesome);\n\t\n\tvar _fontawesomeFreeBrands = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"@fortawesome/fontawesome-free-brands\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t\n\tvar _Player = __webpack_require__(42);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _withScroll = __webpack_require__(216);\n\t\n\tvar _withScroll2 = _interopRequireDefault(_withScroll);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\t\n\tvar List = _styledComponents2.default.ul(_templateObject);\n\t\n\tvar Right = (0, _styledComponents2.default)(List)(_templateObject2);\n\t\n\tvar Left = (0, _styledComponents2.default)(List)(_templateObject3);\n\t\n\tvar Nav = _styledComponents2.default.nav(_templateObject4);\n\t\n\tvar Li = _styledComponents2.default.li(_templateObject5);\n\t\n\tvar A = _styledComponents2.default.a(_templateObject6);\n\t\n\tvar Header = (0, _withScroll2.default)(_class = function (_Component) {\n\t  _inherits(Header, _Component);\n\t\n\t  function Header() {\n\t    _classCallCheck(this, Header);\n\t\n\t    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t  }\n\t\n\t  Header.prototype.render = function render() {\n\t    var scrollPosition = this.props.scrollPosition;\n\t\n\t    return _react2.default.createElement(\n\t      Nav,\n\t      null,\n\t      _react2.default.createElement(_Player2.default, null),\n\t      _react2.default.createElement(\n\t        Right,\n\t        null,\n\t        _react2.default.createElement(\n\t          Li,\n\t          null,\n\t          _react2.default.createElement(\n\t            A,\n\t            { href: 'le-projet', title: 'Le projet' },\n\t            'Le projet'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          Li,\n\t          null,\n\t          _react2.default.createElement(\n\t            A,\n\t            { href: 'laurent-galandon', title: 'Laurent Galandon' },\n\t            'Laurent Galandon'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          Li,\n\t          null,\n\t          _react2.default.createElement(\n\t            A,\n\t            { href: 'la-radio', title: 'La radio' },\n\t            'La radio'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          Li,\n\t          null,\n\t          _react2.default.createElement(\n\t            A,\n\t            { href: 'les-acteurs', title: 'Les acteurs' },\n\t            'Les acteurs'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          Li,\n\t          null,\n\t          _react2.default.createElement(\n\t            A,\n\t            { href: 'les-partenaires', title: 'Les partenaires' },\n\t            'les Partenaires'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          Li,\n\t          null,\n\t          _react2.default.createElement(_reactFontawesome2.default, { icon: _fontawesomeFreeBrands.faFacebook })\n\t        )\n\t      )\n\t    );\n\t  };\n\t\n\t  return Header;\n\t}(_react.Component)) || _class;\n\t\n\texports.default = Header;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _templateObject = _taggedTemplateLiteralLoose(['\\n  position: relative;\\n  background: white;\\n  width: 100%;\\n  margin-left: 10px;\\n  height: 10px;\\n  border-radius: 5px;\\n  overflow: hidden;\\n'], ['\\n  position: relative;\\n  background: white;\\n  width: 100%;\\n  margin-left: 10px;\\n  height: 10px;\\n  border-radius: 5px;\\n  overflow: hidden;\\n']),\n\t    _templateObject2 = _taggedTemplateLiteralLoose(['\\n  position: absolute;\\n  left: 0;\\n  right: auto;\\n  top: 0;\\n  bottom: 0;\\n  background: #333;\\n'], ['\\n  position: absolute;\\n  left: 0;\\n  right: auto;\\n  top: 0;\\n  bottom: 0;\\n  background: #333;\\n']),\n\t    _templateObject3 = _taggedTemplateLiteralLoose(['\\n  width: 400px;\\n  height: 30px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  border-radius: 5px;\\n  font-size: 30px;\\n  padding: 5px;\\n  svg {\\n    color: white;\\n    cursor: pointer;\\n  }\\n'], ['\\n  width: 400px;\\n  height: 30px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  border-radius: 5px;\\n  font-size: 30px;\\n  padding: 5px;\\n  svg {\\n    color: white;\\n    cursor: pointer;\\n  }\\n']);\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _styledComponents = __webpack_require__(10);\n\t\n\tvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\t\n\tvar _reactSound = __webpack_require__(52);\n\t\n\tvar _reactSound2 = _interopRequireDefault(_reactSound);\n\t\n\tvar _track = __webpack_require__(55);\n\t\n\tvar _track2 = _interopRequireDefault(_track);\n\t\n\tvar _reactFontawesome = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"@fortawesome/react-fontawesome\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t\n\tvar _reactFontawesome2 = _interopRequireDefault(_reactFontawesome);\n\t\n\tvar _fontawesomeFreeSolid = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"@fortawesome/fontawesome-free-solid\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\t\n\tvar Duration = _styledComponents2.default.div(_templateObject);\n\t\n\tvar Position = _styledComponents2.default.div(_templateObject2);\n\t\n\tvar Wrapper = _styledComponents2.default.div(_templateObject3);\n\t\n\tvar Player = function (_Component) {\n\t  _inherits(Player, _Component);\n\t\n\t  function Player() {\n\t    _classCallCheck(this, Player);\n\t\n\t    var _this = _possibleConstructorReturn(this, _Component.call(this));\n\t\n\t    _this.state = {\n\t      status: 'PAUSED',\n\t      position: 0\n\t    };\n\t    _this.handlePlaying = _this.handlePlaying.bind(_this);\n\t    _this.handleClick = _this.handleClick.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  Player.prototype.handlePlaying = function handlePlaying(_ref) {\n\t    var _this2 = this;\n\t\n\t    var position = _ref.position,\n\t        duration = _ref.duration;\n\t\n\t    this.setState(function (prevState, props) {\n\t      return _extends({}, _this2.state, {\n\t        position: position * 100 / duration\n\t      });\n\t    });\n\t  };\n\t\n\t  Player.prototype.handleClick = function handleClick() {\n\t    var _this3 = this;\n\t\n\t    this.setState(function (prevState, props) {\n\t      var status = void 0;\n\t      prevState.status === 'PLAYING' ? status = 'PAUSED' : status = 'PLAYING';\n\t      return _extends({}, _this3.state, {\n\t        status: status\n\t      });\n\t    });\n\t  };\n\t\n\t  Player.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      Wrapper,\n\t      null,\n\t      _react2.default.createElement(\n\t        'div',\n\t        { onClick: this.handleClick },\n\t        this.state.status === 'PAUSED' ? _react2.default.createElement(_reactFontawesome2.default, { icon: _fontawesomeFreeSolid.faPlayCircle }) : _react2.default.createElement(_reactFontawesome2.default, { icon: _fontawesomeFreeSolid.faPauseCircle })\n\t      ),\n\t      _react2.default.createElement(\n\t        Duration,\n\t        null,\n\t        _react2.default.createElement(Position, { style: { width: this.state.position + '%' } })\n\t      ),\n\t      _react2.default.createElement(_reactSound2.default, {\n\t        onPlaying: this.handlePlaying,\n\t        url: _track2.default,\n\t        playStatus: _reactSound2.default.status[this.state.status]\n\t      })\n\t    );\n\t  };\n\t\n\t  return Player;\n\t}(_react.Component);\n\t\n\texports.default = Player;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"static/track.2a8117c3.mp3\";\n\n/***/ }),\n\n/***/ 468:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"static/bg.489016c0.jpg\";\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _templateObject = _taggedTemplateLiteralLoose(['\\n  margin: \\'0 auto\\';\\n  max-width: 960;\\n  padding: \\'0px 1.0875rem 1.45rem\\';\\n'], ['\\n  margin: \\'0 auto\\';\\n  max-width: 960;\\n  padding: \\'0px 1.0875rem 1.45rem\\';\\n']),\n\t    _templateObject2 = _taggedTemplateLiteralLoose(['\\n  padding: 30 0 200px 0;\\n  background: rgb(179, 75, 36);\\n'], ['\\n  padding: 30 0 200px 0;\\n  background: rgb(179, 75, 36);\\n']);\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _propTypes = __webpack_require__(1);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _gatsbyLink = __webpack_require__(160);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _styledComponents = __webpack_require__(10);\n\t\n\tvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\t\n\tvar _reactHelmet = __webpack_require__(413);\n\t\n\tvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\t\n\tvar _Header = __webpack_require__(211);\n\t\n\tvar _Header2 = _interopRequireDefault(_Header);\n\t\n\t__webpack_require__(297);\n\t\n\tvar _bg = __webpack_require__(468);\n\t\n\tvar _bg2 = _interopRequireDefault(_bg);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\t\n\tvar Content = _styledComponents2.default.div(_templateObject);\n\t\n\tvar Main = _styledComponents2.default.main(_templateObject2);\n\t\n\tvar TemplateWrapper = function TemplateWrapper(_ref) {\n\t  var children = _ref.children;\n\t  return _react2.default.createElement(\n\t    Main,\n\t    null,\n\t    _react2.default.createElement(_reactHelmet2.default, {\n\t      title: 'Interferences',\n\t      meta: [{ name: 'description', content: 'Sample' }, { name: 'keywords', content: 'sample, something' }]\n\t    }),\n\t    _react2.default.createElement(_Header2.default, null),\n\t    _react2.default.createElement(\n\t      Content,\n\t      null,\n\t      children()\n\t    )\n\t  );\n\t};\n\t\n\tTemplateWrapper.propTypes = {\n\t  children: _propTypes2.default.func\n\t};\n\t\n\texports.default = TemplateWrapper;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 216:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar withScroll = function withScroll(ComposedComponent) {\n\t  return function (_Component) {\n\t    _inherits(ScrollDecorator, _Component);\n\t\n\t    function ScrollDecorator() {\n\t      _classCallCheck(this, ScrollDecorator);\n\t\n\t      // Initial scroll position\n\t      var _this = _possibleConstructorReturn(this, _Component.call(this));\n\t\n\t      _this.state = {\n\t        scrollPosition: _this.getWindowScrollTop()\n\t\n\t        // Bind handlers\n\t      };_this.handleInterval = _this.handleInterval.bind(_this);\n\t      _this.handleRequestAnimationFrame = _this.handleRequestAnimationFrame.bind(_this);\n\t      return _this;\n\t    }\n\t\n\t    ScrollDecorator.prototype.componentWillMount = function componentWillMount() {\n\t      // 50 times per second, change to your needs\n\t      var INTERVAL = 20;\n\t      this.intervalID = setInterval(this.handleInterval, INTERVAL);\n\t    };\n\t\n\t    ScrollDecorator.prototype.componentWillUnmount = function componentWillUnmount() {\n\t      // Remove and reset interval/animationFrame\n\t      clearInterval(this.intervalID);\n\t      cancelAnimationFrame(this.requestID);\n\t      this.requestID = null;\n\t      this.intervalID = null;\n\t    };\n\t\n\t    ScrollDecorator.prototype.getWindowScrollTop = function getWindowScrollTop() {\n\t      // Get scroll position, with IE fallback\n\t      if (typeof window !== 'undefined') {\n\t        return window.pageYOffset || document.documentElement.scrollTop;\n\t      }\n\t      return;\n\t    };\n\t\n\t    ScrollDecorator.prototype.handleInterval = function handleInterval() {\n\t      // Interval is only used to throttle animation frame\n\t\n\t      if (typeof window !== 'undefined') {\n\t        cancelAnimationFrame(this.requestID);\n\t        this.requestID = requestAnimationFrame(this.handleRequestAnimationFrame);\n\t      }\n\t      return;\n\t    };\n\t\n\t    ScrollDecorator.prototype.handleRequestAnimationFrame = function handleRequestAnimationFrame() {\n\t      var scrollPosition = this.state.scrollPosition;\n\t\n\t      var newScrollPosition = this.getWindowScrollTop();\n\t\n\t      // Update the state only when scroll position is changed\n\t      if (newScrollPosition !== scrollPosition) {\n\t        this.setState({\n\t          scrollPosition: newScrollPosition\n\t        });\n\t      }\n\t    };\n\t\n\t    ScrollDecorator.prototype.render = function render() {\n\t      var scrollPosition = this.state.scrollPosition;\n\t\n\t\n\t      return _react2.default.createElement(ComposedComponent, _extends({}, this.props, {\n\t        scrollPosition: scrollPosition\n\t      }));\n\t    };\n\t\n\t    return ScrollDecorator;\n\t  }(_react.Component);\n\t};\n\t\n\texports.default = withScroll;\n\tmodule.exports = exports['default'];\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-layouts-index-js-3fc7c2b6b3995e054ead.js","module.exports = {\"layoutContext\":{}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/layout-index.json\n// module id = 105\n// module chunks = 60335399758886 114276838955818","\n  import React from \"react\"\n  import Component from \"/Users/fabien/Development/radio-mega/radio-mega-interference/src/layouts/index.js\"\n  import data from \"/Users/fabien/Development/radio-mega/radio-mega-interference/.cache/json/layout-index.json\"\n\n  export default (props) => <Component {...props} {...data} />\n  \n\n\n// WEBPACK FOOTER //\n// ./.cache/layouts/index.js","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deep-equal/index.js\n// module id = 287\n// module chunks = 114276838955818","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deep-equal/lib/is_arguments.js\n// module id = 288\n// module chunks = 114276838955818","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deep-equal/lib/keys.js\n// module id = 289\n// module chunks = 114276838955818","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exenv/index.js\n// module id = 296\n// module chunks = 114276838955818","exports.__esModule = true;\nexports.Helmet = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactSideEffect = require(\"react-side-effect\");\n\nvar _reactSideEffect2 = _interopRequireDefault(_reactSideEffect);\n\nvar _deepEqual = require(\"deep-equal\");\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _HelmetUtils = require(\"./HelmetUtils.js\");\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        _inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            _classCallCheck(this, HelmetWrapper);\n\n            return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !(0, _deepEqual2.default)(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case _HelmetConstants.TAG_NAMES.SCRIPT:\n                case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case _HelmetConstants.TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _extends2;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_extends2 = {}, _extends2[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _extends2));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _extends3, _extends4;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case _HelmetConstants.TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_extends3 = {}, _extends3[child.type] = nestedChildren, _extends3.titleAttributes = _extends({}, newChildProps), _extends3));\n\n                case _HelmetConstants.TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case _HelmetConstants.TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_extends4 = {}, _extends4[child.type] = _extends({}, newChildProps), _extends4));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _extends5;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_extends5 = {}, _extends5[arrayChildName] = arrayTypeChildren[arrayChildName], _extends5));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!_HelmetConstants.VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return (0, _HelmetUtils.warn)(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return (0, _HelmetUtils.warn)(\"Only elements types \" + _HelmetConstants.VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            _react2.default.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = _objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = (0, _HelmetUtils.convertReactPropstoHtmlAttributes)(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case _HelmetConstants.TAG_NAMES.LINK:\n                    case _HelmetConstants.TAG_NAMES.META:\n                    case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n                    case _HelmetConstants.TAG_NAMES.SCRIPT:\n                    case _HelmetConstants.TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = _objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return _react2.default.createElement(Component, newProps);\n        };\n\n        _createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Dont use it for anything other than testing.\n\n            /**\n            * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n            * @param {Object} bodyAttributes: {\"className\": \"root\"}\n            * @param {String} defaultTitle: \"Default Title\"\n            * @param {Boolean} defer: true\n            * @param {Boolean} encodeSpecialCharacters: true\n            * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n            * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n            * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n            * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n            * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n            * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n            * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n            * @param {String} title: \"Title\"\n            * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n            * @param {String} titleTemplate: \"MySite.com - %s\"\n            */\n            set: function set(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n\n        return HelmetWrapper;\n    }(_react2.default.Component), _class.propTypes = {\n        base: _propTypes2.default.object,\n        bodyAttributes: _propTypes2.default.object,\n        children: _propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.node), _propTypes2.default.node]),\n        defaultTitle: _propTypes2.default.string,\n        defer: _propTypes2.default.bool,\n        encodeSpecialCharacters: _propTypes2.default.bool,\n        htmlAttributes: _propTypes2.default.object,\n        link: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        meta: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        noscript: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        onChangeClientState: _propTypes2.default.func,\n        script: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        style: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        title: _propTypes2.default.string,\n        titleAttributes: _propTypes2.default.object,\n        titleTemplate: _propTypes2.default.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = (0, _HelmetUtils.mapStateOnServer)({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = (0, _reactSideEffect2.default)(_HelmetUtils.reducePropsToState, _HelmetUtils.handleClientStateChange, _HelmetUtils.mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexports.Helmet = HelmetExport;\nexports.default = HelmetExport;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-helmet/lib/Helmet.js\n// module id = 413\n// module chunks = 114276838955818","exports.__esModule = true;\nvar ATTRIBUTE_NAMES = exports.ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = exports.TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = exports.VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = exports.TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\"\n};\n\nvar REACT_TAG_MAP = exports.REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = exports.HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = exports.HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = exports.SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = exports.HELMET_ATTRIBUTE = \"data-react-helmet\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-helmet/lib/HelmetConstants.js\n// module id = 190\n// module chunks = 114276838955818","exports.__esModule = true;\nexports.warn = exports.requestAnimationFrame = exports.reducePropsToState = exports.mapStateOnServer = exports.handleClientStateChange = exports.convertReactPropstoHtmlAttributes = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _objectAssign = require(\"object-assign\");\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, _HelmetConstants.TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[_HelmetConstants.TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[_HelmetConstants.TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attributeKey === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT || attributeKey === _HelmetConstants.TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = (0, _objectAssign2.default)({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([_HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n        bodyAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.LINK, [_HelmetConstants.TAG_PROPERTIES.REL, _HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.META, [_HelmetConstants.TAG_PROPERTIES.NAME, _HelmetConstants.TAG_PROPERTIES.CHARSET, _HelmetConstants.TAG_PROPERTIES.HTTPEQUIV, _HelmetConstants.TAG_PROPERTIES.PROPERTY, _HelmetConstants.TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.NOSCRIPT, [_HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.SCRIPT, [_HelmetConstants.TAG_PROPERTIES.SRC, _HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.STYLE, [_HelmetConstants.TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(_HelmetConstants.TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(_HelmetConstants.TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(_HelmetConstants.TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(_HelmetConstants.TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(_HelmetConstants.TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(_HelmetConstants.TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(_HelmetConstants.TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(_HelmetConstants.TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + _HelmetConstants.HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = _HelmetConstants.SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[_HelmetConstants.REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[_HelmetConstants.HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[_HelmetConstants.HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [_react2.default.createElement(_HelmetConstants.TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[_HelmetConstants.HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = _HelmetConstants.REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || mappedAttribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return _react2.default.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case _HelmetConstants.TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case _HelmetConstants.ATTRIBUTE_NAMES.BODY:\n        case _HelmetConstants.ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(_HelmetConstants.TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(_HelmetConstants.TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(_HelmetConstants.TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(_HelmetConstants.TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(_HelmetConstants.TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nexports.convertReactPropstoHtmlAttributes = convertReactPropstoHtmlAttributes;\nexports.handleClientStateChange = handleClientStateChange;\nexports.mapStateOnServer = mapStateOnServer;\nexports.reducePropsToState = reducePropsToState;\nexports.requestAnimationFrame = requestAnimationFrame;\nexports.warn = warn;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-helmet/lib/HelmetUtils.js\n// module id = 414\n// module chunks = 114276838955818","'use strict';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _exenv = require('exenv');\n\nvar _exenv2 = _interopRequireDefault(_exenv);\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nmodule.exports = function withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state = void 0;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = function (_Component) {\n      _inherits(SideEffect, _Component);\n\n      function SideEffect() {\n        _classCallCheck(this, SideEffect);\n\n        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      SideEffect.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n        return !(0, _shallowequal2.default)(nextProps, this.props);\n      };\n\n      SideEffect.prototype.componentWillMount = function componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      SideEffect.prototype.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      SideEffect.prototype.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      SideEffect.prototype.render = function render() {\n        return _react2.default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(_react.Component);\n\n    SideEffect.displayName = 'SideEffect(' + getDisplayName(WrappedComponent) + ')';\n    SideEffect.canUseDOM = _exenv2.default.canUseDOM;\n\n\n    return SideEffect;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-side-effect/lib/index.js\n// module id = 432\n// module chunks = 114276838955818","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar pendingCalls = [];\nvar initialized = false;\n\nvar soundManager = void 0;\nif (typeof window !== 'undefined') {\n  soundManager = require('soundmanager2').soundManager;\n\n  soundManager.onready(function () {\n    pendingCalls.slice().forEach(function (cb) {\n      return cb();\n    });\n  });\n}\n\nfunction _createSound(options, cb) {\n  if (soundManager.ok()) {\n    cb(soundManager.createSound(options));\n    return function () {};\n  } else {\n    if (!initialized) {\n      initialized = true;\n      soundManager.beginDelayedInit();\n    }\n\n    var call = function call() {\n      cb(soundManager.createSound(options));\n    };\n\n    pendingCalls.push(call);\n\n    return function () {\n      pendingCalls.splice(pendingCalls.indexOf(call), 1);\n    };\n  }\n}\n\nfunction noop() {}\n\nvar playStatuses = {\n  PLAYING: 'PLAYING',\n  STOPPED: 'STOPPED',\n  PAUSED: 'PAUSED'\n};\n\nvar Sound = function (_React$Component) {\n  _inherits(Sound, _React$Component);\n\n  function Sound() {\n    _classCallCheck(this, Sound);\n\n    return _possibleConstructorReturn(this, (Sound.__proto__ || Object.getPrototypeOf(Sound)).apply(this, arguments));\n  }\n\n  _createClass(Sound, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.createSound(function (sound) {\n        if (_this2.props.playStatus === playStatuses.PLAYING) {\n          sound.play();\n        }\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.removeSound();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      var withSound = function withSound(sound) {\n        if (!sound) {\n          return;\n        }\n\n        if (_this3.props.playStatus === playStatuses.PLAYING) {\n          if (sound.playState === 0) {\n            sound.play();\n          }\n\n          if (sound.paused) {\n            sound.resume();\n          }\n        } else if (_this3.props.playStatus === playStatuses.STOPPED) {\n          if (sound.playState !== 0) {\n            sound.stop();\n          }\n        } else {\n          // this.props.playStatus === playStatuses.PAUSED\n          if (!sound.paused) {\n            sound.pause();\n          }\n        }\n\n        if (_this3.props.playFromPosition !== prevProps.playFromPosition) {\n          sound.setPosition(_this3.props.playFromPosition);\n        }\n\n        if (_this3.props.position != null) {\n          if (sound.position !== _this3.props.position && Math.round(sound.position) !== Math.round(_this3.props.position)) {\n\n            sound.setPosition(_this3.props.position);\n          }\n        }\n\n        if (_this3.props.volume !== prevProps.volume) {\n          sound.setVolume(_this3.props.volume);\n        }\n      };\n\n      if (this.props.url !== prevProps.url) {\n        this.createSound(withSound);\n      } else {\n        withSound(this.sound);\n      }\n    }\n  }, {\n    key: 'createSound',\n    value: function createSound(callback) {\n      var _this4 = this;\n\n      this.removeSound();\n\n      var props = this.props;\n      var that = this;\n\n      if (!props.url) {\n        return;\n      }\n\n      this.stopCreatingSound = _createSound({\n        url: this.props.url,\n        autoLoad: props.autoLoad,\n        volume: props.volume,\n        position: this.props.playFromPosition || this.props.position || 0,\n        whileloading: function whileloading() {\n          props.onLoading(this);\n        },\n        whileplaying: function whileplaying() {\n          props.onPlaying(this);\n        },\n        onerror: function onerror(errorCode, description) {\n          props.onError(errorCode, description, this);\n        },\n        onload: function onload() {\n          props.onLoad(this);\n        },\n        onpause: function onpause() {\n          props.onPause(this);\n        },\n        onresume: function onresume() {\n          props.onResume(this);\n        },\n        onstop: function onstop() {\n          props.onStop(this);\n        },\n        onfinish: function onfinish() {\n          if (that.props.loop && that.props.playStatus === playStatuses.PLAYING) {\n            that.sound.play();\n          } else {\n            props.onFinishedPlaying();\n          }\n        }\n      }, function (sound) {\n        _this4.sound = sound;\n        callback(sound);\n      });\n    }\n  }, {\n    key: 'removeSound',\n    value: function removeSound() {\n      if (this.stopCreatingSound) {\n        this.stopCreatingSound();\n        delete this.stopCreatingSound;\n      }\n\n      if (this.sound) {\n        try {\n          this.sound.destruct();\n        } catch (e) {} // eslint-disable-line\n\n        delete this.sound;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Sound;\n}(_react2.default.Component);\n\nSound.status = playStatuses;\nSound.propTypes = {\n  url: _propTypes2.default.string.isRequired,\n  playStatus: _propTypes2.default.oneOf(Object.keys(playStatuses)).isRequired,\n  position: _propTypes2.default.number,\n  playFromPosition: _propTypes2.default.number,\n  volume: _propTypes2.default.number,\n  onError: _propTypes2.default.func,\n  onLoading: _propTypes2.default.func,\n  onLoad: _propTypes2.default.func,\n  onPlaying: _propTypes2.default.func,\n  onPause: _propTypes2.default.func,\n  onResume: _propTypes2.default.func,\n  onStop: _propTypes2.default.func,\n  onFinishedPlaying: _propTypes2.default.func,\n  autoLoad: _propTypes2.default.bool,\n  loop: _propTypes2.default.bool\n};\nSound.defaultProps = {\n  playFromPosition: 0,\n  volume: 100,\n  onError: noop,\n  onLoading: noop,\n  onPlaying: noop,\n  onLoad: noop,\n  onPause: noop,\n  onResume: noop,\n  onStop: noop,\n  onFinishedPlaying: noop,\n  autoLoad: false,\n  loop: false\n};\nexports.default = Sound;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-sound/lib/index.js\n// module id = 52\n// module chunks = 35783957827783 86831103976070 114276838955818","module.exports = function shallowEqual(objA, objB, compare, compareContext) {\n\n    var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n    if(ret !== void 0) {\n        return !!ret;\n    }\n\n    if(objA === objB) {\n        return true;\n    }\n\n    if(typeof objA !== 'object' || !objA ||\n       typeof objB !== 'object' || !objB) {\n        return false;\n    }\n\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n\n    if(keysA.length !== keysB.length) {\n        return false;\n    }\n\n    var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n    // Test for A's keys different from B.\n    for(var idx = 0; idx < keysA.length; idx++) {\n\n        var key = keysA[idx];\n\n        if(!bHasOwnProperty(key)) {\n            return false;\n        }\n\n        var valueA = objA[key];\n        var valueB = objB[key];\n\n        ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n        if(ret === false ||\n           ret === void 0 && valueA !== valueB) {\n            return false;\n        }\n\n    }\n\n    return true;\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shallowequal/index.js\n// module id = 447\n// module chunks = 114276838955818","/** @license\r\n *\r\n * SoundManager 2: JavaScript Sound for the Web\r\n * ----------------------------------------------\r\n * http://schillmania.com/projects/soundmanager2/\r\n *\r\n * Copyright (c) 2007, Scott Schiller. All rights reserved.\r\n * Code provided under the BSD License:\r\n * http://schillmania.com/projects/soundmanager2/license.txt\r\n *\r\n * V2.97a.20170601\r\n */\r\n\r\n/**\r\n * About this file\r\n * -------------------------------------------------------------------------------------\r\n * This is the fully-commented source version of the SoundManager 2 API,\r\n * recommended for use during development and testing.\r\n *\r\n * See soundmanager2-nodebug-jsmin.js for an optimized build (~11KB with gzip.)\r\n * http://schillmania.com/projects/soundmanager2/doc/getstarted/#basic-inclusion\r\n * Alternately, serve this file with gzip for 75% compression savings (~30KB over HTTP.)\r\n *\r\n * You may notice <d> and </d> comments in this source; these are delimiters for\r\n * debug blocks which are removed in the -nodebug builds, further optimizing code size.\r\n *\r\n * Also, as you may note: Whoa, reliable cross-platform/device audio support is hard! ;)\r\n */\r\n\r\n(function SM2(window, _undefined) {\r\n\r\n/* global Audio, document, window, navigator, define, module, SM2_DEFER, opera, setTimeout, setInterval, clearTimeout, sm2Debugger */\r\n\r\n'use strict';\r\n\r\nif (!window || !window.document) {\r\n\r\n  // Don't cross the [environment] streams. SM2 expects to be running in a browser, not under node.js etc.\r\n  // Additionally, if a browser somehow manages to fail this test, as Egon said: \"It would be bad.\"\r\n\r\n  throw new Error('SoundManager requires a browser with window and document objects.');\r\n\r\n}\r\n\r\nvar soundManager = null;\r\n\r\n/**\r\n * The SoundManager constructor.\r\n *\r\n * @constructor\r\n * @param {string} smURL Optional: Path to SWF files\r\n * @param {string} smID Optional: The ID to use for the SWF container element\r\n * @this {SoundManager}\r\n * @return {SoundManager} The new SoundManager instance\r\n */\r\n\r\nfunction SoundManager(smURL, smID) {\r\n\r\n  /**\r\n   * soundManager configuration options list\r\n   * defines top-level configuration properties to be applied to the soundManager instance (eg. soundManager.flashVersion)\r\n   * to set these properties, use the setup() method - eg., soundManager.setup({url: '/swf/', flashVersion: 9})\r\n   */\r\n\r\n  this.setupOptions = {\r\n\r\n    url: (smURL || null),             // path (directory) where SoundManager 2 SWFs exist, eg., /path/to/swfs/\r\n    flashVersion: 8,                  // flash build to use (8 or 9.) Some API features require 9.\r\n    debugMode: true,                  // enable debugging output (console.log() with HTML fallback)\r\n    debugFlash: false,                // enable debugging output inside SWF, troubleshoot Flash/browser issues\r\n    useConsole: true,                 // use console.log() if available (otherwise, writes to #soundmanager-debug element)\r\n    consoleOnly: true,                // if console is being used, do not create/write to #soundmanager-debug\r\n    waitForWindowLoad: false,         // force SM2 to wait for window.onload() before trying to call soundManager.onload()\r\n    bgColor: '#ffffff',               // SWF background color. N/A when wmode = 'transparent'\r\n    useHighPerformance: false,        // position:fixed flash movie can help increase js/flash speed, minimize lag\r\n    flashPollingInterval: null,       // msec affecting whileplaying/loading callback frequency. If null, default of 50 msec is used.\r\n    html5PollingInterval: null,       // msec affecting whileplaying() for HTML5 audio, excluding mobile devices. If null, native HTML5 update events are used.\r\n    flashLoadTimeout: 1000,           // msec to wait for flash movie to load before failing (0 = infinity)\r\n    wmode: null,                      // flash rendering mode - null, 'transparent', or 'opaque' (last two allow z-index to work)\r\n    allowScriptAccess: 'always',      // for scripting the SWF (object/embed property), 'always' or 'sameDomain'\r\n    useFlashBlock: false,             // *requires flashblock.css, see demos* - allow recovery from flash blockers. Wait indefinitely and apply timeout CSS to SWF, if applicable.\r\n    useHTML5Audio: true,              // use HTML5 Audio() where API is supported (most Safari, Chrome versions), Firefox (MP3/MP4 support varies.) Ideally, transparent vs. Flash API where possible.\r\n    forceUseGlobalHTML5Audio: false,  // if true, a single Audio() object is used for all sounds - and only one can play at a time.\r\n    ignoreMobileRestrictions: false,  // if true, SM2 will not apply global HTML5 audio rules to mobile UAs. iOS > 7 and WebViews may allow multiple Audio() instances.\r\n    html5Test: /^(probably|maybe)$/i, // HTML5 Audio() format support test. Use /^probably$/i; if you want to be more conservative.\r\n    preferFlash: false,               // overrides useHTML5audio, will use Flash for MP3/MP4/AAC if present. Potential option if HTML5 playback with these formats is quirky.\r\n    noSWFCache: false,                // if true, appends ?ts={date} to break aggressive SWF caching.\r\n    idPrefix: 'sound'                 // if an id is not provided to createSound(), this prefix is used for generated IDs - 'sound0', 'sound1' etc.\r\n\r\n  };\r\n\r\n  this.defaultOptions = {\r\n\r\n    /**\r\n     * the default configuration for sound objects made with createSound() and related methods\r\n     * eg., volume, auto-load behaviour and so forth\r\n     */\r\n\r\n    autoLoad: false,        // enable automatic loading (otherwise .load() will be called on demand with .play(), the latter being nicer on bandwidth - if you want to .load yourself, you also can)\r\n    autoPlay: false,        // enable playing of file as soon as possible (much faster if \"stream\" is true)\r\n    from: null,             // position to start playback within a sound (msec), default = beginning\r\n    loops: 1,               // how many times to repeat the sound (position will wrap around to 0, setPosition() will break out of loop when >0)\r\n    onid3: null,            // callback function for \"ID3 data is added/available\"\r\n    onerror: null,          // callback function for \"load failed\" (or, playback/network/decode error under HTML5.)\r\n    onload: null,           // callback function for \"load finished\"\r\n    whileloading: null,     // callback function for \"download progress update\" (X of Y bytes received)\r\n    onplay: null,           // callback for \"play\" start\r\n    onpause: null,          // callback for \"pause\"\r\n    onresume: null,         // callback for \"resume\" (pause toggle)\r\n    whileplaying: null,     // callback during play (position update)\r\n    onposition: null,       // object containing times and function callbacks for positions of interest\r\n    onstop: null,           // callback for \"user stop\"\r\n    onfinish: null,         // callback function for \"sound finished playing\"\r\n    multiShot: true,        // let sounds \"restart\" or layer on top of each other when played multiple times, rather than one-shot/one at a time\r\n    multiShotEvents: false, // fire multiple sound events (currently onfinish() only) when multiShot is enabled\r\n    position: null,         // offset (milliseconds) to seek to within loaded sound data.\r\n    pan: 0,                 // \"pan\" settings, left-to-right, -100 to 100\r\n    playbackRate: 1,        // rate at which to play the sound (HTML5-only)\r\n    stream: true,           // allows playing before entire file has loaded (recommended)\r\n    to: null,               // position to end playback within a sound (msec), default = end\r\n    type: null,             // MIME-like hint for file pattern / canPlay() tests, eg. audio/mp3\r\n    usePolicyFile: false,   // enable crossdomain.xml request for audio on remote domains (for ID3/waveform access)\r\n    volume: 100             // self-explanatory. 0-100, the latter being the max.\r\n\r\n  };\r\n\r\n  this.flash9Options = {\r\n\r\n    /**\r\n     * flash 9-only options,\r\n     * merged into defaultOptions if flash 9 is being used\r\n     */\r\n\r\n    onfailure: null,        // callback function for when playing fails (Flash 9, MovieStar + RTMP-only)\r\n    isMovieStar: null,      // \"MovieStar\" MPEG4 audio mode. Null (default) = auto detect MP4, AAC etc. based on URL. true = force on, ignore URL\r\n    usePeakData: false,     // enable left/right channel peak (level) data\r\n    useWaveformData: false, // enable sound spectrum (raw waveform data) - NOTE: May increase CPU load.\r\n    useEQData: false,       // enable sound EQ (frequency spectrum data) - NOTE: May increase CPU load.\r\n    onbufferchange: null,   // callback for \"isBuffering\" property change\r\n    ondataerror: null       // callback for waveform/eq data access error (flash playing audio in other tabs/domains)\r\n\r\n  };\r\n\r\n  this.movieStarOptions = {\r\n\r\n    /**\r\n     * flash 9.0r115+ MPEG4 audio options,\r\n     * merged into defaultOptions if flash 9+movieStar mode is enabled\r\n     */\r\n\r\n    bufferTime: 3,          // seconds of data to buffer before playback begins (null = flash default of 0.1 seconds - if AAC playback is gappy, try increasing.)\r\n    serverURL: null,        // rtmp: FMS or FMIS server to connect to, required when requesting media via RTMP or one of its variants\r\n    onconnect: null,        // rtmp: callback for connection to flash media server\r\n    duration: null          // rtmp: song duration (msec)\r\n\r\n  };\r\n\r\n  this.audioFormats = {\r\n\r\n    /**\r\n     * determines HTML5 support + flash requirements.\r\n     * if no support (via flash and/or HTML5) for a \"required\" format, SM2 will fail to start.\r\n     * flash fallback is used for MP3 or MP4 if HTML5 can't play it (or if preferFlash = true)\r\n     */\r\n\r\n    mp3: {\r\n      type: ['audio/mpeg; codecs=\"mp3\"', 'audio/mpeg', 'audio/mp3', 'audio/MPA', 'audio/mpa-robust'],\r\n      required: true\r\n    },\r\n\r\n    mp4: {\r\n      related: ['aac', 'm4a', 'm4b'], // additional formats under the MP4 container\r\n      type: ['audio/mp4; codecs=\"mp4a.40.2\"', 'audio/aac', 'audio/x-m4a', 'audio/MP4A-LATM', 'audio/mpeg4-generic'],\r\n      required: false\r\n    },\r\n\r\n    ogg: {\r\n      type: ['audio/ogg; codecs=vorbis'],\r\n      required: false\r\n    },\r\n\r\n    opus: {\r\n      type: ['audio/ogg; codecs=opus', 'audio/opus'],\r\n      required: false\r\n    },\r\n\r\n    wav: {\r\n      type: ['audio/wav; codecs=\"1\"', 'audio/wav', 'audio/wave', 'audio/x-wav'],\r\n      required: false\r\n    },\r\n\r\n    flac: {\r\n      type: ['audio/flac'],\r\n      required: false\r\n    }\r\n\r\n  };\r\n\r\n  // HTML attributes (id + class names) for the SWF container\r\n\r\n  this.movieID = 'sm2-container';\r\n  this.id = (smID || 'sm2movie');\r\n\r\n  this.debugID = 'soundmanager-debug';\r\n  this.debugURLParam = /([#?&])debug=1/i;\r\n\r\n  // dynamic attributes\r\n\r\n  this.versionNumber = 'V2.97a.20170601';\r\n  this.version = null;\r\n  this.movieURL = null;\r\n  this.altURL = null;\r\n  this.swfLoaded = false;\r\n  this.enabled = false;\r\n  this.oMC = null;\r\n  this.sounds = {};\r\n  this.soundIDs = [];\r\n  this.muted = false;\r\n  this.didFlashBlock = false;\r\n  this.filePattern = null;\r\n\r\n  this.filePatterns = {\r\n    flash8: /\\.mp3(\\?.*)?$/i,\r\n    flash9: /\\.mp3(\\?.*)?$/i\r\n  };\r\n\r\n  // support indicators, set at init\r\n\r\n  this.features = {\r\n    buffering: false,\r\n    peakData: false,\r\n    waveformData: false,\r\n    eqData: false,\r\n    movieStar: false\r\n  };\r\n\r\n  // flash sandbox info, used primarily in troubleshooting\r\n\r\n  this.sandbox = {\r\n    // <d>\r\n    type: null,\r\n    types: {\r\n      remote: 'remote (domain-based) rules',\r\n      localWithFile: 'local with file access (no internet access)',\r\n      localWithNetwork: 'local with network (internet access only, no local access)',\r\n      localTrusted: 'local, trusted (local+internet access)'\r\n    },\r\n    description: null,\r\n    noRemote: null,\r\n    noLocal: null\r\n    // </d>\r\n  };\r\n\r\n  /**\r\n   * format support (html5/flash)\r\n   * stores canPlayType() results based on audioFormats.\r\n   * eg. { mp3: boolean, mp4: boolean }\r\n   * treat as read-only.\r\n   */\r\n\r\n  this.html5 = {\r\n    usingFlash: null // set if/when flash fallback is needed\r\n  };\r\n\r\n  // file type support hash\r\n  this.flash = {};\r\n\r\n  // determined at init time\r\n  this.html5Only = false;\r\n\r\n  // used for special cases (eg. iPad/iPhone/palm OS?)\r\n  this.ignoreFlash = false;\r\n\r\n  /**\r\n   * a few private internals (OK, a lot. :D)\r\n   */\r\n\r\n  var SMSound,\r\n  sm2 = this, globalHTML5Audio = null, flash = null, sm = 'soundManager', smc = sm + ': ', h5 = 'HTML5::', id, ua = navigator.userAgent, wl = window.location.href.toString(), doc = document, doNothing, setProperties, init, fV, on_queue = [], debugOpen = true, debugTS, didAppend = false, appendSuccess = false, didInit = false, disabled = false, windowLoaded = false, _wDS, wdCount = 0, initComplete, mixin, assign, extraOptions, addOnEvent, processOnEvents, initUserOnload, delayWaitForEI, waitForEI, rebootIntoHTML5, setVersionInfo, handleFocus, strings, initMovie, domContentLoaded, winOnLoad, didDCLoaded, getDocument, createMovie, catchError, setPolling, initDebug, debugLevels = ['log', 'info', 'warn', 'error'], defaultFlashVersion = 8, disableObject, failSafely, normalizeMovieURL, oRemoved = null, oRemovedHTML = null, str, flashBlockHandler, getSWFCSS, swfCSS, toggleDebug, loopFix, policyFix, complain, idCheck, waitingForEI = false, initPending = false, startTimer, stopTimer, timerExecute, h5TimerCount = 0, h5IntervalTimer = null, parseURL, messages = [],\r\n  canIgnoreFlash, needsFlash = null, featureCheck, html5OK, html5CanPlay, html5ErrorCodes, html5Ext, html5Unload, domContentLoadedIE, testHTML5, event, slice = Array.prototype.slice, useGlobalHTML5Audio = false, lastGlobalHTML5URL, hasFlash, detectFlash, badSafariFix, html5_events, showSupport, flushMessages, wrapCallback, idCounter = 0, didSetup, msecScale = 1000,\r\n  is_iDevice = ua.match(/(ipad|iphone|ipod)/i), isAndroid = ua.match(/android/i), isIE = ua.match(/msie|trident/i),\r\n  isWebkit = ua.match(/webkit/i),\r\n  isSafari = (ua.match(/safari/i) && !ua.match(/chrome/i)),\r\n  isOpera = (ua.match(/opera/i)),\r\n  mobileHTML5 = (ua.match(/(mobile|pre\\/|xoom)/i) || is_iDevice || isAndroid),\r\n  isBadSafari = (!wl.match(/usehtml5audio/i) && !wl.match(/sm2-ignorebadua/i) && isSafari && !ua.match(/silk/i) && ua.match(/OS\\sX\\s10_6_([3-7])/i)), // Safari 4 and 5 (excluding Kindle Fire, \"Silk\") occasionally fail to load/play HTML5 audio on Snow Leopard 10.6.3 through 10.6.7 due to bug(s) in QuickTime X and/or other underlying frameworks. :/ Confirmed bug. https://bugs.webkit.org/show_bug.cgi?id=32159\r\n  hasConsole = (window.console !== _undefined && console.log !== _undefined),\r\n  isFocused = (doc.hasFocus !== _undefined ? doc.hasFocus() : null),\r\n  tryInitOnFocus = (isSafari && (doc.hasFocus === _undefined || !doc.hasFocus())),\r\n  okToDisable = !tryInitOnFocus,\r\n  flashMIME = /(mp3|mp4|mpa|m4a|m4b)/i,\r\n  emptyURL = 'about:blank', // safe URL to unload, or load nothing from (flash 8 + most HTML5 UAs)\r\n  emptyWAV = 'data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==', // tiny WAV for HTML5 unloading\r\n  overHTTP = (doc.location ? doc.location.protocol.match(/http/i) : null),\r\n  http = (!overHTTP ? '//' : ''),\r\n  // mp3, mp4, aac etc.\r\n  netStreamMimeTypes = /^\\s*audio\\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\\s*(?:$|;)/i,\r\n  // Flash v9.0r115+ \"moviestar\" formats\r\n  netStreamTypes = ['mpeg4', 'aac', 'flv', 'mov', 'mp4', 'm4v', 'f4v', 'm4a', 'm4b', 'mp4v', '3gp', '3g2'],\r\n  netStreamPattern = new RegExp('\\\\.(' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n\r\n  this.mimePattern = /^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i; // default mp3 set\r\n\r\n  // use altURL if not \"online\"\r\n  this.useAltURL = !overHTTP;\r\n\r\n  swfCSS = {\r\n    swfBox: 'sm2-object-box',\r\n    swfDefault: 'movieContainer',\r\n    swfError: 'swf_error', // SWF loaded, but SM2 couldn't start (other error)\r\n    swfTimedout: 'swf_timedout',\r\n    swfLoaded: 'swf_loaded',\r\n    swfUnblocked: 'swf_unblocked', // or loaded OK\r\n    sm2Debug: 'sm2_debug',\r\n    highPerf: 'high_performance',\r\n    flashDebug: 'flash_debug'\r\n  };\r\n\r\n  /**\r\n   * HTML5 error codes, per W3C\r\n   * Error code 1, MEDIA_ERR_ABORTED: Client aborted download at user's request.\r\n   * Error code 2, MEDIA_ERR_NETWORK: A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.\r\n   * Error code 3, MEDIA_ERR_DECODE: An error of some description occurred while decoding the media resource, after the resource was established to be usable.\r\n   * Error code 4, MEDIA_ERR_SRC_NOT_SUPPORTED: Media (audio file) not supported (\"not usable.\")\r\n   * Reference: https://html.spec.whatwg.org/multipage/embedded-content.html#error-codes\r\n   */\r\n  html5ErrorCodes = [\r\n    null,\r\n    'MEDIA_ERR_ABORTED',\r\n    'MEDIA_ERR_NETWORK',\r\n    'MEDIA_ERR_DECODE',\r\n    'MEDIA_ERR_SRC_NOT_SUPPORTED'\r\n  ];\r\n\r\n  /**\r\n   * basic HTML5 Audio() support test\r\n   * try...catch because of IE 9 \"not implemented\" nonsense\r\n   * https://github.com/Modernizr/Modernizr/issues/224\r\n   */\r\n\r\n  this.hasHTML5 = (function() {\r\n    try {\r\n      // new Audio(null) for stupid Opera 9.64 case, which throws not_enough_arguments exception otherwise.\r\n      return (Audio !== _undefined && (isOpera && opera !== _undefined && opera.version() < 10 ? new Audio(null) : new Audio()).canPlayType !== _undefined);\r\n    } catch(e) {\r\n      return false;\r\n    }\r\n  }());\r\n\r\n  /**\r\n   * Public SoundManager API\r\n   * -----------------------\r\n   */\r\n\r\n  /**\r\n   * Configures top-level soundManager properties.\r\n   *\r\n   * @param {object} options Option parameters, eg. { flashVersion: 9, url: '/path/to/swfs/' }\r\n   * onready and ontimeout are also accepted parameters. call soundManager.setup() to see the full list.\r\n   */\r\n\r\n  this.setup = function(options) {\r\n\r\n    var noURL = (!sm2.url);\r\n\r\n    // warn if flash options have already been applied\r\n\r\n    if (options !== _undefined && didInit && needsFlash && sm2.ok() && (options.flashVersion !== _undefined || options.url !== _undefined || options.html5Test !== _undefined)) {\r\n      complain(str('setupLate'));\r\n    }\r\n\r\n    // TODO: defer: true?\r\n\r\n    assign(options);\r\n\r\n    if (!useGlobalHTML5Audio) {\r\n\r\n      if (mobileHTML5) {\r\n\r\n        // force the singleton HTML5 pattern on mobile, by default.\r\n        if (!sm2.setupOptions.ignoreMobileRestrictions || sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n          messages.push(strings.globalHTML5);\r\n          useGlobalHTML5Audio = true;\r\n        }\r\n\r\n      } else if (sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n\r\n        // only apply singleton HTML5 on desktop if forced.\r\n        messages.push(strings.globalHTML5);\r\n        useGlobalHTML5Audio = true;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    if (!didSetup && mobileHTML5) {\r\n\r\n      if (sm2.setupOptions.ignoreMobileRestrictions) {\r\n\r\n        messages.push(strings.ignoreMobile);\r\n\r\n      } else {\r\n\r\n        // prefer HTML5 for mobile + tablet-like devices, probably more reliable vs. flash at this point.\r\n\r\n        // <d>\r\n        if (!sm2.setupOptions.useHTML5Audio || sm2.setupOptions.preferFlash) {\r\n          // notify that defaults are being changed.\r\n          sm2._wD(strings.mobileUA);\r\n        }\r\n        // </d>\r\n\r\n        sm2.setupOptions.useHTML5Audio = true;\r\n        sm2.setupOptions.preferFlash = false;\r\n\r\n        if (is_iDevice) {\r\n\r\n          // no flash here.\r\n          sm2.ignoreFlash = true;\r\n\r\n        } else if ((isAndroid && !ua.match(/android\\s2\\.3/i)) || !isAndroid) {\r\n\r\n          /**\r\n           * Android devices tend to work better with a single audio instance, specifically for chained playback of sounds in sequence.\r\n           * Common use case: exiting sound onfinish() -> createSound() -> play()\r\n           * Presuming similar restrictions for other mobile, non-Android, non-iOS devices.\r\n           */\r\n\r\n          // <d>\r\n          sm2._wD(strings.globalHTML5);\r\n          // </d>\r\n\r\n          useGlobalHTML5Audio = true;\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // special case 1: \"Late setup\". SM2 loaded normally, but user didn't assign flash URL eg., setup({url:...}) before SM2 init. Treat as delayed init.\r\n\r\n    if (options) {\r\n\r\n      if (noURL && didDCLoaded && options.url !== _undefined) {\r\n        sm2.beginDelayedInit();\r\n      }\r\n\r\n      // special case 2: If lazy-loading SM2 (DOMContentLoaded has already happened) and user calls setup() with url: parameter, try to init ASAP.\r\n\r\n      if (!didDCLoaded && options.url !== _undefined && doc.readyState === 'complete') {\r\n        setTimeout(domContentLoaded, 1);\r\n      }\r\n\r\n    }\r\n\r\n    didSetup = true;\r\n\r\n    return sm2;\r\n\r\n  };\r\n\r\n  this.ok = function() {\r\n\r\n    return (needsFlash ? (didInit && !disabled) : (sm2.useHTML5Audio && sm2.hasHTML5));\r\n\r\n  };\r\n\r\n  this.supported = this.ok; // legacy\r\n\r\n  this.getMovie = function(movie_id) {\r\n\r\n    // safety net: some old browsers differ on SWF references, possibly related to ExternalInterface / flash version\r\n    return id(movie_id) || doc[movie_id] || window[movie_id];\r\n\r\n  };\r\n\r\n  /**\r\n   * Creates a SMSound sound object instance. Can also be overloaded, e.g., createSound('mySound', '/some.mp3');\r\n   *\r\n   * @param {object} oOptions Sound options (at minimum, url parameter is required.)\r\n   * @return {object} SMSound The new SMSound object.\r\n   */\r\n\r\n  this.createSound = function(oOptions, _url) {\r\n\r\n    var cs, cs_string, options, oSound = null;\r\n\r\n    // <d>\r\n    cs = sm + '.createSound(): ';\r\n    cs_string = cs + str(!didInit ? 'notReady' : 'notOK');\r\n    // </d>\r\n\r\n    if (!didInit || !sm2.ok()) {\r\n      complain(cs_string);\r\n      return false;\r\n    }\r\n\r\n    if (_url !== _undefined) {\r\n      // function overloading in JS! :) ... assume simple createSound(id, url) use case.\r\n      oOptions = {\r\n        id: oOptions,\r\n        url: _url\r\n      };\r\n    }\r\n\r\n    // inherit from defaultOptions\r\n    options = mixin(oOptions);\r\n\r\n    options.url = parseURL(options.url);\r\n\r\n    // generate an id, if needed.\r\n    if (options.id === _undefined) {\r\n      options.id = sm2.setupOptions.idPrefix + (idCounter++);\r\n    }\r\n\r\n    // <d>\r\n    if (options.id.toString().charAt(0).match(/^[0-9]$/)) {\r\n      sm2._wD(cs + str('badID', options.id), 2);\r\n    }\r\n\r\n    sm2._wD(cs + options.id + (options.url ? ' (' + options.url + ')' : ''), 1);\r\n    // </d>\r\n\r\n    if (idCheck(options.id, true)) {\r\n      sm2._wD(cs + options.id + ' exists', 1);\r\n      return sm2.sounds[options.id];\r\n    }\r\n\r\n    function make() {\r\n\r\n      options = loopFix(options);\r\n      sm2.sounds[options.id] = new SMSound(options);\r\n      sm2.soundIDs.push(options.id);\r\n      return sm2.sounds[options.id];\r\n\r\n    }\r\n\r\n    if (html5OK(options)) {\r\n\r\n      oSound = make();\r\n      // <d>\r\n      if (!sm2.html5Only) {\r\n        sm2._wD(options.id + ': Using HTML5');\r\n      }\r\n      // </d>\r\n      oSound._setup_html5(options);\r\n\r\n    } else {\r\n\r\n      if (sm2.html5Only) {\r\n        sm2._wD(options.id + ': No HTML5 support for this sound, and no Flash. Exiting.');\r\n        return make();\r\n      }\r\n\r\n      // TODO: Move HTML5/flash checks into generic URL parsing/handling function.\r\n\r\n      if (sm2.html5.usingFlash && options.url && options.url.match(/data:/i)) {\r\n        // data: URIs not supported by Flash, either.\r\n        sm2._wD(options.id + ': data: URIs not supported via Flash. Exiting.');\r\n        return make();\r\n      }\r\n\r\n      if (fV > 8) {\r\n        if (options.isMovieStar === null) {\r\n          // attempt to detect MPEG-4 formats\r\n          options.isMovieStar = !!(options.serverURL || (options.type ? options.type.match(netStreamMimeTypes) : false) || (options.url && options.url.match(netStreamPattern)));\r\n        }\r\n        // <d>\r\n        if (options.isMovieStar) {\r\n          sm2._wD(cs + 'using MovieStar handling');\r\n          if (options.loops > 1) {\r\n            _wDS('noNSLoop');\r\n          }\r\n        }\r\n        // </d>\r\n      }\r\n\r\n      options = policyFix(options, cs);\r\n      oSound = make();\r\n\r\n      if (fV === 8) {\r\n        flash._createSound(options.id, options.loops || 1, options.usePolicyFile);\r\n      } else {\r\n        flash._createSound(options.id, options.url, options.usePeakData, options.useWaveformData, options.useEQData, options.isMovieStar, (options.isMovieStar ? options.bufferTime : false), options.loops || 1, options.serverURL, options.duration || null, options.autoPlay, true, options.autoLoad, options.usePolicyFile);\r\n        if (!options.serverURL) {\r\n          // We are connected immediately\r\n          oSound.connected = true;\r\n          if (options.onconnect) {\r\n            options.onconnect.apply(oSound);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!options.serverURL && (options.autoLoad || options.autoPlay)) {\r\n        // call load for non-rtmp streams\r\n        oSound.load(options);\r\n      }\r\n\r\n    }\r\n\r\n    // rtmp will play in onconnect\r\n    if (!options.serverURL && options.autoPlay) {\r\n      oSound.play();\r\n    }\r\n\r\n    return oSound;\r\n\r\n  };\r\n\r\n  /**\r\n   * Destroys a SMSound sound object instance.\r\n   *\r\n   * @param {string} sID The ID of the sound to destroy\r\n   */\r\n\r\n  this.destroySound = function(sID, _bFromSound) {\r\n\r\n    // explicitly destroy a sound before normal page unload, etc.\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    var oS = sm2.sounds[sID], i;\r\n\r\n    oS.stop();\r\n\r\n    // Disable all callbacks after stop(), when the sound is being destroyed\r\n    oS._iO = {};\r\n\r\n    oS.unload();\r\n\r\n    for (i = 0; i < sm2.soundIDs.length; i++) {\r\n      if (sm2.soundIDs[i] === sID) {\r\n        sm2.soundIDs.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!_bFromSound) {\r\n      // ignore if being called from SMSound instance\r\n      oS.destruct(true);\r\n    }\r\n\r\n    oS = null;\r\n    delete sm2.sounds[sID];\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the load() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {object} oOptions Optional: Sound options\r\n   */\r\n\r\n  this.load = function(sID, oOptions) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].load(oOptions);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the unload() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   */\r\n\r\n  this.unload = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].unload();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the onPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPosition The position to watch for\r\n   * @param {function} oMethod The relevant callback to fire\r\n   * @param {object} oScope Optional: The scope to apply the callback to\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.onPosition = function(sID, nPosition, oMethod, oScope) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].onposition(nPosition, oMethod, oScope);\r\n\r\n  };\r\n\r\n  // legacy/backwards-compability: lower-case method name\r\n  this.onposition = this.onPosition;\r\n\r\n  /**\r\n   * Calls the clearOnPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPosition The position to watch for\r\n   * @param {function} oMethod Optional: The relevant callback to fire\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.clearOnPosition = function(sID, nPosition, oMethod) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].clearOnPosition(nPosition, oMethod);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the play() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {object} oOptions Optional: Sound options\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.play = function(sID, oOptions) {\r\n\r\n    var result = null,\r\n        // legacy function-overloading use case: play('mySound', '/path/to/some.mp3');\r\n        overloaded = (oOptions && !(oOptions instanceof Object));\r\n\r\n    if (!didInit || !sm2.ok()) {\r\n      complain(sm + '.play(): ' + str(!didInit ? 'notReady' : 'notOK'));\r\n      return false;\r\n    }\r\n\r\n    if (!idCheck(sID, overloaded)) {\r\n\r\n      // no sound found for the given ID. Bail.\r\n      if (!overloaded) return false;\r\n\r\n      if (overloaded) {\r\n        oOptions = {\r\n          url: oOptions\r\n        };\r\n      }\r\n\r\n      if (oOptions && oOptions.url) {\r\n        // overloading use case, create+play: .play('someID', {url:'/path/to.mp3'});\r\n        sm2._wD(sm + '.play(): Attempting to create \"' + sID + '\"', 1);\r\n        oOptions.id = sID;\r\n        result = sm2.createSound(oOptions).play();\r\n      }\r\n\r\n    } else if (overloaded) {\r\n\r\n      // existing sound object case\r\n      oOptions = {\r\n        url: oOptions\r\n      };\r\n\r\n    }\r\n\r\n    if (result === null) {\r\n      // default case\r\n      result = sm2.sounds[sID].play(oOptions);\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  // just for convenience\r\n  this.start = this.play;\r\n\r\n  /**\r\n   * Calls the setPlaybackRate() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPlaybackRate = function(sID, rate, allowOverride) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPlaybackRate(rate, allowOverride);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nMsecOffset Position (milliseconds)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPosition = function(sID, nMsecOffset) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPosition(nMsecOffset);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the stop() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.stop = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    sm2._wD(sm + '.stop(' + sID + ')', 1);\r\n\r\n    return sm2.sounds[sID].stop();\r\n\r\n  };\r\n\r\n  /**\r\n   * Stops all currently-playing sounds.\r\n   */\r\n\r\n  this.stopAll = function() {\r\n\r\n    var oSound;\r\n    sm2._wD(sm + '.stopAll()', 1);\r\n\r\n    for (oSound in sm2.sounds) {\r\n      if (sm2.sounds.hasOwnProperty(oSound)) {\r\n        // apply only to sound objects\r\n        sm2.sounds[oSound].stop();\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the pause() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.pause = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].pause();\r\n\r\n  };\r\n\r\n  /**\r\n   * Pauses all currently-playing sounds.\r\n   */\r\n\r\n  this.pauseAll = function() {\r\n\r\n    var i;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].pause();\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the resume() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.resume = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].resume();\r\n\r\n  };\r\n\r\n  /**\r\n   * Resumes all currently-paused sounds.\r\n   */\r\n\r\n  this.resumeAll = function() {\r\n\r\n    var i;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].resume();\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the togglePause() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.togglePause = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].togglePause();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setPan() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPan The pan value (-100 to 100)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPan = function(sID, nPan) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPan(nPan);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setVolume() method of a SMSound object by ID\r\n   * Overloaded case: pass only volume argument eg., setVolume(50) to apply to all sounds.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nVol The volume value (0 to 100)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setVolume = function(sID, nVol) {\r\n\r\n    // setVolume(50) function overloading case - apply to all sounds\r\n\r\n    var i, j;\r\n\r\n    if (sID !== _undefined && !isNaN(sID) && nVol === _undefined) {\r\n      for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n        sm2.sounds[sm2.soundIDs[i]].setVolume(sID);\r\n      }\r\n      return false;\r\n    }\r\n\r\n    // setVolume('mySound', 50) case\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setVolume(nVol);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the mute() method of either a single SMSound object by ID, or all sound objects.\r\n   *\r\n   * @param {string} sID Optional: The ID of the sound (if omitted, all sounds will be used.)\r\n   */\r\n\r\n  this.mute = function(sID) {\r\n\r\n    var i = 0;\r\n\r\n    if (sID instanceof String) {\r\n      sID = null;\r\n    }\r\n\r\n    if (!sID) {\r\n\r\n      sm2._wD(sm + '.mute(): Muting all sounds');\r\n      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n        sm2.sounds[sm2.soundIDs[i]].mute();\r\n      }\r\n      sm2.muted = true;\r\n\r\n    } else {\r\n\r\n      if (!idCheck(sID)) return false;\r\n\r\n      sm2._wD(sm + '.mute(): Muting \"' + sID + '\"');\r\n      return sm2.sounds[sID].mute();\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Mutes all sounds.\r\n   */\r\n\r\n  this.muteAll = function() {\r\n\r\n    sm2.mute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the unmute() method of either a single SMSound object by ID, or all sound objects.\r\n   *\r\n   * @param {string} sID Optional: The ID of the sound (if omitted, all sounds will be used.)\r\n   */\r\n\r\n  this.unmute = function(sID) {\r\n\r\n    var i;\r\n\r\n    if (sID instanceof String) {\r\n      sID = null;\r\n    }\r\n\r\n    if (!sID) {\r\n\r\n      sm2._wD(sm + '.unmute(): Unmuting all sounds');\r\n      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n        sm2.sounds[sm2.soundIDs[i]].unmute();\r\n      }\r\n      sm2.muted = false;\r\n\r\n    } else {\r\n\r\n      if (!idCheck(sID)) return false;\r\n\r\n      sm2._wD(sm + '.unmute(): Unmuting \"' + sID + '\"');\r\n\r\n      return sm2.sounds[sID].unmute();\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Unmutes all sounds.\r\n   */\r\n\r\n  this.unmuteAll = function() {\r\n\r\n    sm2.unmute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the toggleMute() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.toggleMute = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].toggleMute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Retrieves the memory used by the flash plugin.\r\n   *\r\n   * @return {number} The amount of memory in use\r\n   */\r\n\r\n  this.getMemoryUse = function() {\r\n\r\n    // flash-only\r\n    var ram = 0;\r\n\r\n    if (flash && fV !== 8) {\r\n      ram = parseInt(flash._getMemoryUse(), 10);\r\n    }\r\n\r\n    return ram;\r\n\r\n  };\r\n\r\n  /**\r\n   * Undocumented: NOPs soundManager and all SMSound objects.\r\n   */\r\n\r\n  this.disable = function(bNoDisable) {\r\n\r\n    // destroy all functions\r\n    var i;\r\n\r\n    if (bNoDisable === _undefined) {\r\n      bNoDisable = false;\r\n    }\r\n\r\n    // already disabled?\r\n    if (disabled) return false;\r\n\r\n    disabled = true;\r\n\r\n    _wDS('shutdown', 1);\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      disableObject(sm2.sounds[sm2.soundIDs[i]]);\r\n    }\r\n\r\n    disableObject(sm2);\r\n\r\n    // fire \"complete\", despite fail\r\n    initComplete(bNoDisable);\r\n\r\n    event.remove(window, 'load', initUserOnload);\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of a MIME type, eg. 'audio/mp3'.\r\n   */\r\n\r\n  this.canPlayMIME = function(sMIME) {\r\n\r\n    var result;\r\n\r\n    if (sm2.hasHTML5) {\r\n      result = html5CanPlay({\r\n        type: sMIME\r\n      });\r\n    }\r\n\r\n    if (!result && needsFlash) {\r\n      // if flash 9, test netStream (movieStar) types as well.\r\n      result = (sMIME && sm2.ok() ? !!((fV > 8 ? sMIME.match(netStreamMimeTypes) : null) || sMIME.match(sm2.mimePattern)) : null); // TODO: make less \"weird\" (per JSLint)\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of a URL based on audio support.\r\n   *\r\n   * @param {string} sURL The URL to test\r\n   * @return {boolean} URL playability\r\n   */\r\n\r\n  this.canPlayURL = function(sURL) {\r\n\r\n    var result;\r\n\r\n    if (sm2.hasHTML5) {\r\n      result = html5CanPlay({\r\n        url: sURL\r\n      });\r\n    }\r\n\r\n    if (!result && needsFlash) {\r\n      result = (sURL && sm2.ok() ? !!(sURL.match(sm2.filePattern)) : null);\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of an HTML DOM &lt;a&gt; object (or similar object literal) based on audio support.\r\n   *\r\n   * @param {object} oLink an HTML DOM &lt;a&gt; object or object literal including href and/or type attributes\r\n   * @return {boolean} URL playability\r\n   */\r\n\r\n  this.canPlayLink = function(oLink) {\r\n\r\n    if (oLink.type !== _undefined && oLink.type && sm2.canPlayMIME(oLink.type)) return true;\r\n\r\n    return sm2.canPlayURL(oLink.href);\r\n\r\n  };\r\n\r\n  /**\r\n   * Retrieves a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.getSoundById = function(sID, _suppressDebug) {\r\n\r\n    if (!sID) return null;\r\n\r\n    var result = sm2.sounds[sID];\r\n\r\n    // <d>\r\n    if (!result && !_suppressDebug) {\r\n      sm2._wD(sm + '.getSoundById(): Sound \"' + sID + '\" not found.', 2);\r\n    }\r\n    // </d>\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Queues a callback for execution when SoundManager has successfully initialized.\r\n   *\r\n   * @param {function} oMethod The callback method to fire\r\n   * @param {object} oScope Optional: The scope to apply to the callback\r\n   */\r\n\r\n  this.onready = function(oMethod, oScope) {\r\n\r\n    var sType = 'onready',\r\n        result = false;\r\n\r\n    if (typeof oMethod === 'function') {\r\n\r\n      // <d>\r\n      if (didInit) {\r\n        sm2._wD(str('queue', sType));\r\n      }\r\n      // </d>\r\n\r\n      if (!oScope) {\r\n        oScope = window;\r\n      }\r\n\r\n      addOnEvent(sType, oMethod, oScope);\r\n      processOnEvents();\r\n\r\n      result = true;\r\n\r\n    } else {\r\n\r\n      throw str('needFunction', sType);\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Queues a callback for execution when SoundManager has failed to initialize.\r\n   *\r\n   * @param {function} oMethod The callback method to fire\r\n   * @param {object} oScope Optional: The scope to apply to the callback\r\n   */\r\n\r\n  this.ontimeout = function(oMethod, oScope) {\r\n\r\n    var sType = 'ontimeout',\r\n        result = false;\r\n\r\n    if (typeof oMethod === 'function') {\r\n\r\n      // <d>\r\n      if (didInit) {\r\n        sm2._wD(str('queue', sType));\r\n      }\r\n      // </d>\r\n\r\n      if (!oScope) {\r\n        oScope = window;\r\n      }\r\n\r\n      addOnEvent(sType, oMethod, oScope);\r\n      processOnEvents({ type: sType });\r\n\r\n      result = true;\r\n\r\n    } else {\r\n\r\n      throw str('needFunction', sType);\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Writes console.log()-style debug output to a console or in-browser element.\r\n   * Applies when debugMode = true\r\n   *\r\n   * @param {string} sText The console message\r\n   * @param {object} nType Optional log level (number), or object. Number case: Log type/style where 0 = 'info', 1 = 'warn', 2 = 'error'. Object case: Object to be dumped.\r\n   */\r\n\r\n  this._writeDebug = function(sText, sTypeOrObject) {\r\n\r\n    // pseudo-private console.log()-style output\r\n    // <d>\r\n\r\n    var sDID = 'soundmanager-debug', o, oItem;\r\n\r\n    if (!sm2.setupOptions.debugMode) return false;\r\n\r\n    if (hasConsole && sm2.useConsole) {\r\n      if (sTypeOrObject && typeof sTypeOrObject === 'object') {\r\n        // object passed; dump to console.\r\n        console.log(sText, sTypeOrObject);\r\n      } else if (debugLevels[sTypeOrObject] !== _undefined) {\r\n        console[debugLevels[sTypeOrObject]](sText);\r\n      } else {\r\n        console.log(sText);\r\n      }\r\n      if (sm2.consoleOnly) return true;\r\n    }\r\n\r\n    o = id(sDID);\r\n\r\n    if (!o) return false;\r\n\r\n    oItem = doc.createElement('div');\r\n\r\n    if (++wdCount % 2 === 0) {\r\n      oItem.className = 'sm2-alt';\r\n    }\r\n\r\n    if (sTypeOrObject === _undefined) {\r\n      sTypeOrObject = 0;\r\n    } else {\r\n      sTypeOrObject = parseInt(sTypeOrObject, 10);\r\n    }\r\n\r\n    oItem.appendChild(doc.createTextNode(sText));\r\n\r\n    if (sTypeOrObject) {\r\n      if (sTypeOrObject >= 2) {\r\n        oItem.style.fontWeight = 'bold';\r\n      }\r\n      if (sTypeOrObject === 3) {\r\n        oItem.style.color = '#ff3333';\r\n      }\r\n    }\r\n\r\n    // top-to-bottom\r\n    // o.appendChild(oItem);\r\n\r\n    // bottom-to-top\r\n    o.insertBefore(oItem, o.firstChild);\r\n\r\n    o = null;\r\n    // </d>\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  // <d>\r\n  // last-resort debugging option\r\n  if (wl.indexOf('sm2-debug=alert') !== -1) {\r\n    this._writeDebug = function(sText) {\r\n      window.alert(sText);\r\n    };\r\n  }\r\n  // </d>\r\n\r\n  // alias\r\n  this._wD = this._writeDebug;\r\n\r\n  /**\r\n   * Provides debug / state information on all SMSound objects.\r\n   */\r\n\r\n  this._debug = function() {\r\n\r\n    // <d>\r\n    var i, j;\r\n    _wDS('currentObj', 1);\r\n\r\n    for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n      sm2.sounds[sm2.soundIDs[i]]._debug();\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  /**\r\n   * Restarts and re-initializes the SoundManager instance.\r\n   *\r\n   * @param {boolean} resetEvents Optional: When true, removes all registered onready and ontimeout event callbacks.\r\n   * @param {boolean} excludeInit Options: When true, does not call beginDelayedInit() (which would restart SM2).\r\n   * @return {object} soundManager The soundManager instance.\r\n   */\r\n\r\n  this.reboot = function(resetEvents, excludeInit) {\r\n\r\n    // reset some (or all) state, and re-init unless otherwise specified.\r\n\r\n    // <d>\r\n    if (sm2.soundIDs.length) {\r\n      sm2._wD('Destroying ' + sm2.soundIDs.length + ' SMSound object' + (sm2.soundIDs.length !== 1 ? 's' : '') + '...');\r\n    }\r\n    // </d>\r\n\r\n    var i, j, k;\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].destruct();\r\n    }\r\n\r\n    // trash ze flash (remove from the DOM)\r\n\r\n    if (flash) {\r\n\r\n      try {\r\n\r\n        if (isIE) {\r\n          oRemovedHTML = flash.innerHTML;\r\n        }\r\n\r\n        oRemoved = flash.parentNode.removeChild(flash);\r\n\r\n      } catch(e) {\r\n\r\n        // Remove failed? May be due to flash blockers silently removing the SWF object/embed node from the DOM. Warn and continue.\r\n\r\n        _wDS('badRemove', 2);\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // actually, force recreate of movie.\r\n\r\n    oRemovedHTML = oRemoved = needsFlash = flash = null;\r\n\r\n    sm2.enabled = didDCLoaded = didInit = waitingForEI = initPending = didAppend = appendSuccess = disabled = useGlobalHTML5Audio = sm2.swfLoaded = false;\r\n\r\n    sm2.soundIDs = [];\r\n    sm2.sounds = {};\r\n\r\n    idCounter = 0;\r\n    didSetup = false;\r\n\r\n    if (!resetEvents) {\r\n      // reset callbacks for onready, ontimeout etc. so that they will fire again on re-init\r\n      for (i in on_queue) {\r\n        if (on_queue.hasOwnProperty(i)) {\r\n          for (j = 0, k = on_queue[i].length; j < k; j++) {\r\n            on_queue[i][j].fired = false;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      // remove all callbacks entirely\r\n      on_queue = [];\r\n    }\r\n\r\n    // <d>\r\n    if (!excludeInit) {\r\n      sm2._wD(sm + ': Rebooting...');\r\n    }\r\n    // </d>\r\n\r\n    // reset HTML5 and flash canPlay test results\r\n\r\n    sm2.html5 = {\r\n      usingFlash: null\r\n    };\r\n\r\n    sm2.flash = {};\r\n\r\n    // reset device-specific HTML/flash mode switches\r\n\r\n    sm2.html5Only = false;\r\n    sm2.ignoreFlash = false;\r\n\r\n    window.setTimeout(function() {\r\n\r\n      // by default, re-init\r\n\r\n      if (!excludeInit) {\r\n        sm2.beginDelayedInit();\r\n      }\r\n\r\n    }, 20);\r\n\r\n    return sm2;\r\n\r\n  };\r\n\r\n  this.reset = function() {\r\n\r\n    /**\r\n     * Shuts down and restores the SoundManager instance to its original loaded state, without an explicit reboot. All onready/ontimeout handlers are removed.\r\n     * After this call, SM2 may be re-initialized via soundManager.beginDelayedInit().\r\n     * @return {object} soundManager The soundManager instance.\r\n     */\r\n\r\n    _wDS('reset');\r\n\r\n    return sm2.reboot(true, true);\r\n\r\n  };\r\n\r\n  /**\r\n   * Undocumented: Determines the SM2 flash movie's load progress.\r\n   *\r\n   * @return {number or null} Percent loaded, or if invalid/unsupported, null.\r\n   */\r\n\r\n  this.getMoviePercent = function() {\r\n\r\n    /**\r\n     * Interesting syntax notes...\r\n     * Flash/ExternalInterface (ActiveX/NPAPI) bridge methods are not typeof \"function\" nor instanceof Function, but are still valid.\r\n     * Furthermore, using (flash && flash.PercentLoaded) causes IE to throw \"object doesn't support this property or method\".\r\n     * Thus, 'in' syntax must be used.\r\n     */\r\n\r\n    return (flash && 'PercentLoaded' in flash ? flash.PercentLoaded() : null);\r\n\r\n  };\r\n\r\n  /**\r\n   * Additional helper for manually invoking SM2's init process after DOM Ready / window.onload().\r\n   */\r\n\r\n  this.beginDelayedInit = function() {\r\n\r\n    windowLoaded = true;\r\n    domContentLoaded();\r\n\r\n    setTimeout(function() {\r\n\r\n      if (initPending) return false;\r\n\r\n      createMovie();\r\n      initMovie();\r\n      initPending = true;\r\n\r\n      return true;\r\n\r\n    }, 20);\r\n\r\n    delayWaitForEI();\r\n\r\n  };\r\n\r\n  /**\r\n   * Destroys the SoundManager instance and all SMSound instances.\r\n   */\r\n\r\n  this.destruct = function() {\r\n\r\n    sm2._wD(sm + '.destruct()');\r\n    sm2.disable(true);\r\n\r\n  };\r\n\r\n  /**\r\n   * SMSound() (sound object) constructor\r\n   * ------------------------------------\r\n   *\r\n   * @param {object} oOptions Sound options (id and url are required attributes)\r\n   * @return {SMSound} The new SMSound object\r\n   */\r\n\r\n  SMSound = function(oOptions) {\r\n\r\n    var s = this, resetProperties, add_html5_events, remove_html5_events, stop_html5_timer, start_html5_timer, attachOnPosition, onplay_called = false, onPositionItems = [], onPositionFired = 0, detachOnPosition, applyFromTo, lastURL = null, lastHTML5State, urlOmitted;\r\n\r\n    lastHTML5State = {\r\n      // tracks duration + position (time)\r\n      duration: null,\r\n      time: null\r\n    };\r\n\r\n    this.id = oOptions.id;\r\n\r\n    // legacy\r\n    this.sID = this.id;\r\n\r\n    this.url = oOptions.url;\r\n    this.options = mixin(oOptions);\r\n\r\n    // per-play-instance-specific options\r\n    this.instanceOptions = this.options;\r\n\r\n    // short alias\r\n    this._iO = this.instanceOptions;\r\n\r\n    // assign property defaults\r\n    this.pan = this.options.pan;\r\n    this.volume = this.options.volume;\r\n\r\n    // whether or not this object is using HTML5\r\n    this.isHTML5 = false;\r\n\r\n    // internal HTML5 Audio() object reference\r\n    this._a = null;\r\n\r\n    // for flash 8 special-case createSound() without url, followed by load/play with url case\r\n    urlOmitted = (!this.url);\r\n\r\n    /**\r\n     * SMSound() public methods\r\n     * ------------------------\r\n     */\r\n\r\n    this.id3 = {};\r\n\r\n    /**\r\n     * Writes SMSound object parameters to debug console\r\n     */\r\n\r\n    this._debug = function() {\r\n\r\n      // <d>\r\n      sm2._wD(s.id + ': Merged options:', s.options);\r\n      // </d>\r\n\r\n    };\r\n\r\n    /**\r\n     * Begins loading a sound per its *url*.\r\n     *\r\n     * @param {object} options Optional: Sound options\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.load = function(options) {\r\n\r\n      var oSound = null, instanceOptions;\r\n\r\n      if (options !== _undefined) {\r\n        s._iO = mixin(options, s.options);\r\n      } else {\r\n        options = s.options;\r\n        s._iO = options;\r\n        if (lastURL && lastURL !== s.url) {\r\n          _wDS('manURL');\r\n          s._iO.url = s.url;\r\n          s.url = null;\r\n        }\r\n      }\r\n\r\n      if (!s._iO.url) {\r\n        s._iO.url = s.url;\r\n      }\r\n\r\n      s._iO.url = parseURL(s._iO.url);\r\n\r\n      // ensure we're in sync\r\n      s.instanceOptions = s._iO;\r\n\r\n      // local shortcut\r\n      instanceOptions = s._iO;\r\n\r\n      sm2._wD(s.id + ': load (' + instanceOptions.url + ')');\r\n\r\n      if (!instanceOptions.url && !s.url) {\r\n        sm2._wD(s.id + ': load(): url is unassigned. Exiting.', 2);\r\n        return s;\r\n      }\r\n\r\n      // <d>\r\n      if (!s.isHTML5 && fV === 8 && !s.url && !instanceOptions.autoPlay) {\r\n        // flash 8 load() -> play() won't work before onload has fired.\r\n        sm2._wD(s.id + ': Flash 8 load() limitation: Wait for onload() before calling play().', 1);\r\n      }\r\n      // </d>\r\n\r\n      if (instanceOptions.url === s.url && s.readyState !== 0 && s.readyState !== 2) {\r\n        _wDS('onURL', 1);\r\n        // if loaded and an onload() exists, fire immediately.\r\n        if (s.readyState === 3 && instanceOptions.onload) {\r\n          // assume success based on truthy duration.\r\n          wrapCallback(s, function() {\r\n            instanceOptions.onload.apply(s, [(!!s.duration)]);\r\n          });\r\n        }\r\n        return s;\r\n      }\r\n\r\n      // reset a few state properties\r\n\r\n      s.loaded = false;\r\n      s.readyState = 1;\r\n      s.playState = 0;\r\n      s.id3 = {};\r\n\r\n      // TODO: If switching from HTML5 -> flash (or vice versa), stop currently-playing audio.\r\n\r\n      if (html5OK(instanceOptions)) {\r\n\r\n        oSound = s._setup_html5(instanceOptions);\r\n\r\n        if (!oSound._called_load) {\r\n\r\n          s._html5_canplay = false;\r\n\r\n          // TODO: review called_load / html5_canplay logic\r\n\r\n          // if url provided directly to load(), assign it here.\r\n\r\n          if (s.url !== instanceOptions.url) {\r\n\r\n            sm2._wD(_wDS('manURL') + ': ' + instanceOptions.url);\r\n\r\n            s._a.src = instanceOptions.url;\r\n\r\n            // TODO: review / re-apply all relevant options (volume, loop, onposition etc.)\r\n\r\n            // reset position for new URL\r\n            s.setPosition(0);\r\n\r\n          }\r\n\r\n          // given explicit load call, try to preload.\r\n\r\n          // early HTML5 implementation (non-standard)\r\n          s._a.autobuffer = 'auto';\r\n\r\n          // standard property, values: none / metadata / auto\r\n          // reference: http://msdn.microsoft.com/en-us/library/ie/ff974759%28v=vs.85%29.aspx\r\n          s._a.preload = 'auto';\r\n\r\n          s._a._called_load = true;\r\n\r\n        } else {\r\n\r\n          sm2._wD(s.id + ': Ignoring request to load again');\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        if (sm2.html5Only) {\r\n          sm2._wD(s.id + ': No flash support. Exiting.');\r\n          return s;\r\n        }\r\n\r\n        if (s._iO.url && s._iO.url.match(/data:/i)) {\r\n          // data: URIs not supported by Flash, either.\r\n          sm2._wD(s.id + ': data: URIs not supported via Flash. Exiting.');\r\n          return s;\r\n        }\r\n\r\n        try {\r\n          s.isHTML5 = false;\r\n          s._iO = policyFix(loopFix(instanceOptions));\r\n          // if we have \"position\", disable auto-play as we'll be seeking to that position at onload().\r\n          if (s._iO.autoPlay && (s._iO.position || s._iO.from)) {\r\n            sm2._wD(s.id + ': Disabling autoPlay because of non-zero offset case');\r\n            s._iO.autoPlay = false;\r\n          }\r\n          // re-assign local shortcut\r\n          instanceOptions = s._iO;\r\n          if (fV === 8) {\r\n            flash._load(s.id, instanceOptions.url, instanceOptions.stream, instanceOptions.autoPlay, instanceOptions.usePolicyFile);\r\n          } else {\r\n            flash._load(s.id, instanceOptions.url, !!(instanceOptions.stream), !!(instanceOptions.autoPlay), instanceOptions.loops || 1, !!(instanceOptions.autoLoad), instanceOptions.usePolicyFile);\r\n          }\r\n        } catch(e) {\r\n          _wDS('smError', 2);\r\n          debugTS('onload', false);\r\n          catchError({\r\n            type: 'SMSOUND_LOAD_JS_EXCEPTION',\r\n            fatal: true\r\n          });\r\n        }\r\n\r\n      }\r\n\r\n      // after all of this, ensure sound url is up to date.\r\n      s.url = instanceOptions.url;\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unloads a sound, canceling any open HTTP requests.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.unload = function() {\r\n\r\n      // Flash 8/AS2 can't \"close\" a stream - fake it by loading an empty URL\r\n      // Flash 9/AS3: Close stream, preventing further load\r\n      // HTML5: Most UAs will use empty URL\r\n\r\n      if (s.readyState !== 0) {\r\n\r\n        sm2._wD(s.id + ': unload()');\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          if (fV === 8) {\r\n            flash._unload(s.id, emptyURL);\r\n          } else {\r\n            flash._unload(s.id);\r\n          }\r\n\r\n        } else {\r\n\r\n          stop_html5_timer();\r\n\r\n          if (s._a) {\r\n\r\n            s._a.pause();\r\n\r\n            // update empty URL, too\r\n            lastURL = html5Unload(s._a);\r\n\r\n          }\r\n\r\n        }\r\n\r\n        // reset load/status flags\r\n        resetProperties();\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unloads and destroys a sound.\r\n     */\r\n\r\n    this.destruct = function(_bFromSM) {\r\n\r\n      sm2._wD(s.id + ': Destruct');\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        // kill sound within Flash\r\n        // Disable the onfailure handler\r\n        s._iO.onfailure = null;\r\n        flash._destroySound(s.id);\r\n\r\n      } else {\r\n\r\n        stop_html5_timer();\r\n\r\n        if (s._a) {\r\n          s._a.pause();\r\n          html5Unload(s._a);\r\n          if (!useGlobalHTML5Audio) {\r\n            remove_html5_events();\r\n          }\r\n          // break obvious circular reference\r\n          s._a._s = null;\r\n          s._a = null;\r\n        }\r\n\r\n      }\r\n\r\n      if (!_bFromSM) {\r\n        // ensure deletion from controller\r\n        sm2.destroySound(s.id, true);\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Begins playing a sound.\r\n     *\r\n     * @param {object} options Optional: Sound options\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.play = function(options, _updatePlayState) {\r\n\r\n      var fN, allowMulti, a, onready,\r\n          audioClone, onended, oncanplay,\r\n          startOK = true;\r\n\r\n      // <d>\r\n      fN = s.id + ': play(): ';\r\n      // </d>\r\n\r\n      // default to true\r\n      _updatePlayState = (_updatePlayState === _undefined ? true : _updatePlayState);\r\n\r\n      if (!options) {\r\n        options = {};\r\n      }\r\n\r\n      // first, use local URL (if specified)\r\n      if (s.url) {\r\n        s._iO.url = s.url;\r\n      }\r\n\r\n      // mix in any options defined at createSound()\r\n      s._iO = mixin(s._iO, s.options);\r\n\r\n      // mix in any options specific to this method\r\n      s._iO = mixin(options, s._iO);\r\n\r\n      s._iO.url = parseURL(s._iO.url);\r\n\r\n      s.instanceOptions = s._iO;\r\n\r\n      // RTMP-only\r\n      if (!s.isHTML5 && s._iO.serverURL && !s.connected) {\r\n        if (!s.getAutoPlay()) {\r\n          sm2._wD(fN + ' Netstream not connected yet - setting autoPlay');\r\n          s.setAutoPlay(true);\r\n        }\r\n        // play will be called in onconnect()\r\n        return s;\r\n      }\r\n\r\n      if (html5OK(s._iO)) {\r\n        s._setup_html5(s._iO);\r\n        start_html5_timer();\r\n      }\r\n\r\n      if (s.playState === 1 && !s.paused) {\r\n\r\n        allowMulti = s._iO.multiShot;\r\n\r\n        if (!allowMulti) {\r\n\r\n          sm2._wD(fN + 'Already playing (one-shot)', 1);\r\n\r\n          if (s.isHTML5) {\r\n            // go back to original position.\r\n            s.setPosition(s._iO.position);\r\n          }\r\n\r\n          return s;\r\n\r\n        }\r\n\r\n        sm2._wD(fN + 'Already playing (multi-shot)', 1);\r\n\r\n      }\r\n\r\n      // edge case: play() with explicit URL parameter\r\n      if (options.url && options.url !== s.url) {\r\n\r\n        // special case for createSound() followed by load() / play() with url; avoid double-load case.\r\n        if (!s.readyState && !s.isHTML5 && fV === 8 && urlOmitted) {\r\n\r\n          urlOmitted = false;\r\n\r\n        } else {\r\n\r\n          // load using merged options\r\n          s.load(s._iO);\r\n\r\n        }\r\n\r\n      }\r\n\r\n      if (!s.loaded) {\r\n\r\n        if (s.readyState === 0) {\r\n\r\n          sm2._wD(fN + 'Attempting to load');\r\n\r\n          // try to get this sound playing ASAP\r\n          if (!s.isHTML5 && !sm2.html5Only) {\r\n\r\n            // flash: assign directly because setAutoPlay() increments the instanceCount\r\n            s._iO.autoPlay = true;\r\n            s.load(s._iO);\r\n\r\n          } else if (s.isHTML5) {\r\n\r\n            // iOS needs this when recycling sounds, loading a new URL on an existing object.\r\n            s.load(s._iO);\r\n\r\n          } else {\r\n\r\n            sm2._wD(fN + 'Unsupported type. Exiting.');\r\n\r\n            return s;\r\n\r\n          }\r\n\r\n          // HTML5 hack - re-set instanceOptions?\r\n          s.instanceOptions = s._iO;\r\n\r\n        } else if (s.readyState === 2) {\r\n\r\n          sm2._wD(fN + 'Could not load - exiting', 2);\r\n\r\n          return s;\r\n\r\n        } else {\r\n\r\n          sm2._wD(fN + 'Loading - attempting to play...');\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        // \"play()\"\r\n        sm2._wD(fN.substr(0, fN.lastIndexOf(':')));\r\n\r\n      }\r\n\r\n      if (!s.isHTML5 && fV === 9 && s.position > 0 && s.position === s.duration) {\r\n        // flash 9 needs a position reset if play() is called while at the end of a sound.\r\n        sm2._wD(fN + 'Sound at end, resetting to position: 0');\r\n        options.position = 0;\r\n      }\r\n\r\n      /**\r\n       * Streams will pause when their buffer is full if they are being loaded.\r\n       * In this case paused is true, but the song hasn't started playing yet.\r\n       * If we just call resume() the onplay() callback will never be called.\r\n       * So only call resume() if the position is > 0.\r\n       * Another reason is because options like volume won't have been applied yet.\r\n       * For normal sounds, just resume.\r\n       */\r\n\r\n      if (s.paused && s.position >= 0 && (!s._iO.serverURL || s.position > 0)) {\r\n\r\n        // https://gist.github.com/37b17df75cc4d7a90bf6\r\n        sm2._wD(fN + 'Resuming from paused state', 1);\r\n        s.resume();\r\n\r\n      } else {\r\n\r\n        s._iO = mixin(options, s._iO);\r\n\r\n        /**\r\n         * Preload in the event of play() with position under Flash,\r\n         * or from/to parameters and non-RTMP case\r\n         */\r\n        if (((!s.isHTML5 && s._iO.position !== null && s._iO.position > 0) || (s._iO.from !== null && s._iO.from > 0) || s._iO.to !== null) && s.instanceCount === 0 && s.playState === 0 && !s._iO.serverURL) {\r\n\r\n          onready = function() {\r\n            // sound \"canplay\" or onload()\r\n            // re-apply position/from/to to instance options, and start playback\r\n            s._iO = mixin(options, s._iO);\r\n            s.play(s._iO);\r\n          };\r\n\r\n          // HTML5 needs to at least have \"canplay\" fired before seeking.\r\n          if (s.isHTML5 && !s._html5_canplay) {\r\n\r\n            // this hasn't been loaded yet. load it first, and then do this again.\r\n            sm2._wD(fN + 'Beginning load for non-zero offset case');\r\n\r\n            s.load({\r\n              // note: custom HTML5-only event added for from/to implementation.\r\n              _oncanplay: onready\r\n            });\r\n\r\n          } else if (!s.isHTML5 && !s.loaded && (!s.readyState || s.readyState !== 2)) {\r\n\r\n            // to be safe, preload the whole thing in Flash.\r\n\r\n            sm2._wD(fN + 'Preloading for non-zero offset case');\r\n\r\n            s.load({\r\n              onload: onready\r\n            });\r\n\r\n          }\r\n\r\n          // otherwise, we're ready to go. re-apply local options, and continue\r\n\r\n          s._iO = applyFromTo();\r\n\r\n        }\r\n\r\n        // sm2._wD(fN + 'Starting to play');\r\n\r\n        // increment instance counter, where enabled + supported\r\n        if (!s.instanceCount || s._iO.multiShotEvents || (s.isHTML5 && s._iO.multiShot && !useGlobalHTML5Audio) || (!s.isHTML5 && fV > 8 && !s.getAutoPlay())) {\r\n          s.instanceCount++;\r\n        }\r\n\r\n        // if first play and onposition parameters exist, apply them now\r\n        if (s._iO.onposition && s.playState === 0) {\r\n          attachOnPosition(s);\r\n        }\r\n\r\n        s.playState = 1;\r\n        s.paused = false;\r\n\r\n        s.position = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position : 0);\r\n\r\n        if (!s.isHTML5) {\r\n          s._iO = policyFix(loopFix(s._iO));\r\n        }\r\n\r\n        if (s._iO.onplay && _updatePlayState) {\r\n          s._iO.onplay.apply(s);\r\n          onplay_called = true;\r\n        }\r\n\r\n        s.setVolume(s._iO.volume, true);\r\n        s.setPan(s._iO.pan, true);\r\n\r\n        if (s._iO.playbackRate !== 1) {\r\n          s.setPlaybackRate(s._iO.playbackRate);\r\n        }\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          startOK = flash._start(s.id, s._iO.loops || 1, (fV === 9 ? s.position : s.position / msecScale), s._iO.multiShot || false);\r\n\r\n          if (fV === 9 && !startOK) {\r\n            // edge case: no sound hardware, or 32-channel flash ceiling hit.\r\n            // applies only to Flash 9, non-NetStream/MovieStar sounds.\r\n            // http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/media/Sound.html#play%28%29\r\n            sm2._wD(fN + 'No sound hardware, or 32-sound ceiling hit', 2);\r\n            if (s._iO.onplayerror) {\r\n              s._iO.onplayerror.apply(s);\r\n            }\r\n\r\n          }\r\n\r\n        } else if (s.instanceCount < 2) {\r\n\r\n            // HTML5 single-instance case\r\n\r\n            start_html5_timer();\r\n\r\n            a = s._setup_html5();\r\n\r\n            s.setPosition(s._iO.position);\r\n\r\n            a.play();\r\n\r\n          } else {\r\n\r\n            // HTML5 multi-shot case\r\n\r\n            sm2._wD(s.id + ': Cloning Audio() for instance #' + s.instanceCount + '...');\r\n\r\n            audioClone = new Audio(s._iO.url);\r\n\r\n            onended = function() {\r\n              event.remove(audioClone, 'ended', onended);\r\n              s._onfinish(s);\r\n              // cleanup\r\n              html5Unload(audioClone);\r\n              audioClone = null;\r\n            };\r\n\r\n            oncanplay = function() {\r\n              event.remove(audioClone, 'canplay', oncanplay);\r\n              try {\r\n                audioClone.currentTime = s._iO.position / msecScale;\r\n              } catch(err) {\r\n                complain(s.id + ': multiShot play() failed to apply position of ' + (s._iO.position / msecScale));\r\n              }\r\n              audioClone.play();\r\n            };\r\n\r\n            event.add(audioClone, 'ended', onended);\r\n\r\n            // apply volume to clones, too\r\n            if (s._iO.volume !== _undefined) {\r\n              audioClone.volume = Math.max(0, Math.min(1, s._iO.volume / 100));\r\n            }\r\n\r\n            // playing multiple muted sounds? if you do this, you're weird ;) - but let's cover it.\r\n            if (s.muted) {\r\n              audioClone.muted = true;\r\n            }\r\n\r\n            if (s._iO.position) {\r\n              // HTML5 audio can't seek before onplay() event has fired.\r\n              // wait for canplay, then seek to position and start playback.\r\n              event.add(audioClone, 'canplay', oncanplay);\r\n            } else {\r\n              // begin playback at currentTime: 0\r\n              audioClone.play();\r\n            }\r\n\r\n          }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    // just for convenience\r\n    this.start = this.play;\r\n\r\n    /**\r\n     * Stops playing a sound (and optionally, all sounds)\r\n     *\r\n     * @param {boolean} bAll Optional: Whether to stop all sounds\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.stop = function(bAll) {\r\n\r\n      var instanceOptions = s._iO,\r\n          originalPosition;\r\n\r\n      if (s.playState === 1) {\r\n\r\n        sm2._wD(s.id + ': stop()');\r\n\r\n        s._onbufferchange(0);\r\n        s._resetOnPosition(0);\r\n        s.paused = false;\r\n\r\n        if (!s.isHTML5) {\r\n          s.playState = 0;\r\n        }\r\n\r\n        // remove onPosition listeners, if any\r\n        detachOnPosition();\r\n\r\n        // and \"to\" position, if set\r\n        if (instanceOptions.to) {\r\n          s.clearOnPosition(instanceOptions.to);\r\n        }\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          flash._stop(s.id, bAll);\r\n\r\n          // hack for netStream: just unload\r\n          if (instanceOptions.serverURL) {\r\n            s.unload();\r\n          }\r\n\r\n        } else if (s._a) {\r\n\r\n            originalPosition = s.position;\r\n\r\n            // act like Flash, though\r\n            s.setPosition(0);\r\n\r\n            // hack: reflect old position for onstop() (also like Flash)\r\n            s.position = originalPosition;\r\n\r\n            // html5 has no stop()\r\n            // NOTE: pausing means iOS requires interaction to resume.\r\n            s._a.pause();\r\n\r\n            s.playState = 0;\r\n\r\n            // and update UI\r\n            s._onTimer();\r\n\r\n            stop_html5_timer();\r\n\r\n          }\r\n\r\n        s.instanceCount = 0;\r\n        s._iO = {};\r\n\r\n        if (instanceOptions.onstop) {\r\n          instanceOptions.onstop.apply(s);\r\n        }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Undocumented/internal: Sets autoPlay for RTMP.\r\n     *\r\n     * @param {boolean} autoPlay state\r\n     */\r\n\r\n    this.setAutoPlay = function(autoPlay) {\r\n\r\n      sm2._wD(s.id + ': Autoplay turned ' + (autoPlay ? 'on' : 'off'));\r\n      s._iO.autoPlay = autoPlay;\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setAutoPlay(s.id, autoPlay);\r\n        if (autoPlay) {\r\n          // only increment the instanceCount if the sound isn't loaded (TODO: verify RTMP)\r\n          if (!s.instanceCount && s.readyState === 1) {\r\n            s.instanceCount++;\r\n            sm2._wD(s.id + ': Incremented instance count to ' + s.instanceCount);\r\n          }\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Undocumented/internal: Returns the autoPlay boolean.\r\n     *\r\n     * @return {boolean} The current autoPlay value\r\n     */\r\n\r\n    this.getAutoPlay = function() {\r\n\r\n      return s._iO.autoPlay;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the playback rate of a sound (HTML5-only.)\r\n     *\r\n     * @param {number} playbackRate (+/-)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPlaybackRate = function(playbackRate) {\r\n\r\n      // Per Mozilla, limit acceptable values to prevent playback from stopping (unless allowOverride is truthy.)\r\n      // https://developer.mozilla.org/en-US/Apps/Build/Audio_and_video_delivery/WebAudio_playbackRate_explained\r\n      var normalizedRate = Math.max(0.5, Math.min(4, playbackRate));\r\n\r\n      // <d>\r\n      if (normalizedRate !== playbackRate) {\r\n        sm2._wD(s.id + ': setPlaybackRate(' + playbackRate + '): limiting rate to ' + normalizedRate, 2);\r\n      }\r\n      // </d>\r\n\r\n      if (s.isHTML5) {\r\n        try {\r\n          s._iO.playbackRate = normalizedRate;\r\n          s._a.playbackRate = normalizedRate;\r\n        } catch(e) {\r\n          sm2._wD(s.id + ': setPlaybackRate(' + normalizedRate + ') failed: ' + e.message, 2);\r\n        }\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the position of a sound.\r\n     *\r\n     * @param {number} nMsecOffset Position (milliseconds)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPosition = function(nMsecOffset) {\r\n\r\n      if (nMsecOffset === _undefined) {\r\n        nMsecOffset = 0;\r\n      }\r\n\r\n      var position, position1K,\r\n          // Use the duration from the instance options, if we don't have a track duration yet.\r\n          // position >= 0 and <= current available (loaded) duration\r\n          offset = (s.isHTML5 ? Math.max(nMsecOffset, 0) : Math.min(s.duration || s._iO.duration, Math.max(nMsecOffset, 0)));\r\n\r\n      s.position = offset;\r\n      position1K = s.position / msecScale;\r\n      s._resetOnPosition(s.position);\r\n      s._iO.position = offset;\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        position = (fV === 9 ? s.position : position1K);\r\n\r\n        if (s.readyState && s.readyState !== 2) {\r\n          // if paused or not playing, will not resume (by playing)\r\n          flash._setPosition(s.id, position, (s.paused || !s.playState), s._iO.multiShot);\r\n        }\r\n\r\n      } else if (s._a) {\r\n\r\n        // Set the position in the canplay handler if the sound is not ready yet\r\n        if (s._html5_canplay) {\r\n\r\n          if (s._a.currentTime.toFixed(3) !== position1K.toFixed(3)) {\r\n\r\n            /**\r\n             * DOM/JS errors/exceptions to watch out for:\r\n             * if seek is beyond (loaded?) position, \"DOM exception 11\"\r\n             * \"INDEX_SIZE_ERR\": DOM exception 1\r\n             */\r\n            sm2._wD(s.id + ': setPosition(' + position1K + ')');\r\n\r\n            try {\r\n              s._a.currentTime = position1K;\r\n              if (s.playState === 0 || s.paused) {\r\n                // allow seek without auto-play/resume\r\n                s._a.pause();\r\n              }\r\n            } catch(e) {\r\n              sm2._wD(s.id + ': setPosition(' + position1K + ') failed: ' + e.message, 2);\r\n            }\r\n\r\n          }\r\n\r\n        } else if (position1K) {\r\n\r\n          // warn on non-zero seek attempts\r\n          sm2._wD(s.id + ': setPosition(' + position1K + '): Cannot seek yet, sound not ready', 2);\r\n          return s;\r\n\r\n        }\r\n\r\n        if (s.paused) {\r\n\r\n          // if paused, refresh UI right away by forcing update\r\n          s._onTimer(true);\r\n\r\n        }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Pauses sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.pause = function(_bCallFlash) {\r\n\r\n      if (s.paused || (s.playState === 0 && s.readyState !== 1)) return s;\r\n\r\n      sm2._wD(s.id + ': pause()');\r\n      s.paused = true;\r\n\r\n      if (!s.isHTML5) {\r\n        if (_bCallFlash || _bCallFlash === _undefined) {\r\n          flash._pause(s.id, s._iO.multiShot);\r\n        }\r\n      } else {\r\n        s._setup_html5().pause();\r\n        stop_html5_timer();\r\n      }\r\n\r\n      if (s._iO.onpause) {\r\n        s._iO.onpause.apply(s);\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Resumes sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    /**\r\n     * When auto-loaded streams pause on buffer full they have a playState of 0.\r\n     * We need to make sure that the playState is set to 1 when these streams \"resume\".\r\n     * When a paused stream is resumed, we need to trigger the onplay() callback if it\r\n     * hasn't been called already. In this case since the sound is being played for the\r\n     * first time, I think it's more appropriate to call onplay() rather than onresume().\r\n     */\r\n\r\n    this.resume = function() {\r\n\r\n      var instanceOptions = s._iO;\r\n\r\n      if (!s.paused) return s;\r\n\r\n      sm2._wD(s.id + ': resume()');\r\n      s.paused = false;\r\n      s.playState = 1;\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        if (instanceOptions.isMovieStar && !instanceOptions.serverURL) {\r\n          // Bizarre Webkit bug (Chrome reported via 8tracks.com dudes): AAC content paused for 30+ seconds(?) will not resume without a reposition.\r\n          s.setPosition(s.position);\r\n        }\r\n\r\n        // flash method is toggle-based (pause/resume)\r\n        flash._pause(s.id, instanceOptions.multiShot);\r\n\r\n      } else {\r\n\r\n        s._setup_html5().play();\r\n        start_html5_timer();\r\n\r\n      }\r\n\r\n      if (!onplay_called && instanceOptions.onplay) {\r\n\r\n        instanceOptions.onplay.apply(s);\r\n        onplay_called = true;\r\n\r\n      } else if (instanceOptions.onresume) {\r\n\r\n        instanceOptions.onresume.apply(s);\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Toggles sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.togglePause = function() {\r\n\r\n      sm2._wD(s.id + ': togglePause()');\r\n\r\n      if (s.playState === 0) {\r\n        s.play({\r\n          position: (fV === 9 && !s.isHTML5 ? s.position : s.position / msecScale)\r\n        });\r\n        return s;\r\n      }\r\n\r\n      if (s.paused) {\r\n        s.resume();\r\n      } else {\r\n        s.pause();\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the panning (L-R) effect.\r\n     *\r\n     * @param {number} nPan The pan value (-100 to 100)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPan = function(nPan, bInstanceOnly) {\r\n\r\n      if (nPan === _undefined) {\r\n        nPan = 0;\r\n      }\r\n\r\n      if (bInstanceOnly === _undefined) {\r\n        bInstanceOnly = false;\r\n      }\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setPan(s.id, nPan);\r\n      } // else { no HTML5 pan? }\r\n\r\n      s._iO.pan = nPan;\r\n\r\n      if (!bInstanceOnly) {\r\n        s.pan = nPan;\r\n        s.options.pan = nPan;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the volume.\r\n     *\r\n     * @param {number} nVol The volume value (0 to 100)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setVolume = function(nVol, _bInstanceOnly) {\r\n\r\n      /**\r\n       * Note: Setting volume has no effect on iOS \"special snowflake\" devices.\r\n       * Hardware volume control overrides software, and volume\r\n       * will always return 1 per Apple docs. (iOS 4 + 5.)\r\n       * http://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/HTML-canvas-guide/AddingSoundtoCanvasAnimations/AddingSoundtoCanvasAnimations.html\r\n       */\r\n\r\n      if (nVol === _undefined) {\r\n        nVol = 100;\r\n      }\r\n\r\n      if (_bInstanceOnly === _undefined) {\r\n        _bInstanceOnly = false;\r\n      }\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        flash._setVolume(s.id, (sm2.muted && !s.muted) || s.muted ? 0 : nVol);\r\n\r\n      } else if (s._a) {\r\n\r\n        if (sm2.muted && !s.muted) {\r\n          s.muted = true;\r\n          s._a.muted = true;\r\n        }\r\n\r\n        // valid range for native HTML5 Audio(): 0-1\r\n        s._a.volume = Math.max(0, Math.min(1, nVol / 100));\r\n\r\n      }\r\n\r\n      s._iO.volume = nVol;\r\n\r\n      if (!_bInstanceOnly) {\r\n        s.volume = nVol;\r\n        s.options.volume = nVol;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Mutes the sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.mute = function() {\r\n\r\n      s.muted = true;\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, 0);\r\n      } else if (s._a) {\r\n        s._a.muted = true;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unmutes the sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.unmute = function() {\r\n\r\n      s.muted = false;\r\n      var hasIO = (s._iO.volume !== _undefined);\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, hasIO ? s._iO.volume : s.options.volume);\r\n      } else if (s._a) {\r\n        s._a.muted = false;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Toggles the muted state of a sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.toggleMute = function() {\r\n\r\n      return (s.muted ? s.unmute() : s.mute());\r\n\r\n    };\r\n\r\n    /**\r\n     * Registers a callback to be fired when a sound reaches a given position during playback.\r\n     *\r\n     * @param {number} nPosition The position to watch for\r\n     * @param {function} oMethod The relevant callback to fire\r\n     * @param {object} oScope Optional: The scope to apply the callback to\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.onPosition = function(nPosition, oMethod, oScope) {\r\n\r\n      // TODO: basic dupe checking?\r\n\r\n      onPositionItems.push({\r\n        position: parseInt(nPosition, 10),\r\n        method: oMethod,\r\n        scope: (oScope !== _undefined ? oScope : s),\r\n        fired: false\r\n      });\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    // legacy/backwards-compability: lower-case method name\r\n    this.onposition = this.onPosition;\r\n\r\n    /**\r\n     * Removes registered callback(s) from a sound, by position and/or callback.\r\n     *\r\n     * @param {number} nPosition The position to clear callback(s) for\r\n     * @param {function} oMethod Optional: Identify one callback to be removed when multiple listeners exist for one position\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.clearOnPosition = function(nPosition, oMethod) {\r\n\r\n      var i;\r\n\r\n      nPosition = parseInt(nPosition, 10);\r\n\r\n      if (isNaN(nPosition)) {\r\n        // safety check\r\n        return;\r\n      }\r\n\r\n      for (i = 0; i < onPositionItems.length; i++) {\r\n\r\n        if (nPosition === onPositionItems[i].position) {\r\n          // remove this item if no method was specified, or, if the method matches\r\n\r\n          if (!oMethod || (oMethod === onPositionItems[i].method)) {\r\n\r\n            if (onPositionItems[i].fired) {\r\n              // decrement \"fired\" counter, too\r\n              onPositionFired--;\r\n            }\r\n\r\n            onPositionItems.splice(i, 1);\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._processOnPosition = function() {\r\n\r\n      var i, item, j = onPositionItems.length;\r\n\r\n      if (!j || !s.playState || onPositionFired >= j) return false;\r\n\r\n      for (i = j - 1; i >= 0; i--) {\r\n\r\n        item = onPositionItems[i];\r\n\r\n        if (!item.fired && s.position >= item.position) {\r\n\r\n          item.fired = true;\r\n          onPositionFired++;\r\n          item.method.apply(item.scope, [item.position]);\r\n\r\n          //  reset j -- onPositionItems.length can be changed in the item callback above... occasionally breaking the loop.\r\n          j = onPositionItems.length;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._resetOnPosition = function(nPosition) {\r\n\r\n      // reset \"fired\" for items interested in this position\r\n      var i, item, j = onPositionItems.length;\r\n\r\n      if (!j) return false;\r\n\r\n      for (i = j - 1; i >= 0; i--) {\r\n\r\n        item = onPositionItems[i];\r\n\r\n        if (item.fired && nPosition <= item.position) {\r\n          item.fired = false;\r\n          onPositionFired--;\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * SMSound() private internals\r\n     * --------------------------------\r\n     */\r\n\r\n    applyFromTo = function() {\r\n\r\n      var instanceOptions = s._iO,\r\n          f = instanceOptions.from,\r\n          t = instanceOptions.to,\r\n          start, end;\r\n\r\n      end = function() {\r\n\r\n        // end has been reached.\r\n        sm2._wD(s.id + ': \"To\" time of ' + t + ' reached.');\r\n\r\n        // detach listener\r\n        s.clearOnPosition(t, end);\r\n\r\n        // stop should clear this, too\r\n        s.stop();\r\n\r\n      };\r\n\r\n      start = function() {\r\n\r\n        sm2._wD(s.id + ': Playing \"from\" ' + f);\r\n\r\n        // add listener for end\r\n        if (t !== null && !isNaN(t)) {\r\n          s.onPosition(t, end);\r\n        }\r\n\r\n      };\r\n\r\n      if (f !== null && !isNaN(f)) {\r\n\r\n        // apply to instance options, guaranteeing correct start position.\r\n        instanceOptions.position = f;\r\n\r\n        // multiShot timing can't be tracked, so prevent that.\r\n        instanceOptions.multiShot = false;\r\n\r\n        start();\r\n\r\n      }\r\n\r\n      // return updated instanceOptions including starting position\r\n      return instanceOptions;\r\n\r\n    };\r\n\r\n    attachOnPosition = function() {\r\n\r\n      var item,\r\n          op = s._iO.onposition;\r\n\r\n      // attach onposition things, if any, now.\r\n\r\n      if (op) {\r\n\r\n        for (item in op) {\r\n          if (op.hasOwnProperty(item)) {\r\n            s.onPosition(parseInt(item, 10), op[item]);\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    detachOnPosition = function() {\r\n\r\n      var item,\r\n          op = s._iO.onposition;\r\n\r\n      // detach any onposition()-style listeners.\r\n\r\n      if (op) {\r\n\r\n        for (item in op) {\r\n          if (op.hasOwnProperty(item)) {\r\n            s.clearOnPosition(parseInt(item, 10));\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    start_html5_timer = function() {\r\n\r\n      if (s.isHTML5) {\r\n        startTimer(s);\r\n      }\r\n\r\n    };\r\n\r\n    stop_html5_timer = function() {\r\n\r\n      if (s.isHTML5) {\r\n        stopTimer(s);\r\n      }\r\n\r\n    };\r\n\r\n    resetProperties = function(retainPosition) {\r\n\r\n      if (!retainPosition) {\r\n        onPositionItems = [];\r\n        onPositionFired = 0;\r\n      }\r\n\r\n      onplay_called = false;\r\n\r\n      s._hasTimer = null;\r\n      s._a = null;\r\n      s._html5_canplay = false;\r\n      s.bytesLoaded = null;\r\n      s.bytesTotal = null;\r\n      s.duration = (s._iO && s._iO.duration ? s._iO.duration : null);\r\n      s.durationEstimate = null;\r\n      s.buffered = [];\r\n\r\n      // legacy: 1D array\r\n      s.eqData = [];\r\n\r\n      s.eqData.left = [];\r\n      s.eqData.right = [];\r\n\r\n      s.failures = 0;\r\n      s.isBuffering = false;\r\n      s.instanceOptions = {};\r\n      s.instanceCount = 0;\r\n      s.loaded = false;\r\n      s.metadata = {};\r\n\r\n      // 0 = uninitialised, 1 = loading, 2 = failed/error, 3 = loaded/success\r\n      s.readyState = 0;\r\n\r\n      s.muted = false;\r\n      s.paused = false;\r\n\r\n      s.peakData = {\r\n        left: 0,\r\n        right: 0\r\n      };\r\n\r\n      s.waveformData = {\r\n        left: [],\r\n        right: []\r\n      };\r\n\r\n      s.playState = 0;\r\n      s.position = null;\r\n\r\n      s.id3 = {};\r\n\r\n    };\r\n\r\n    resetProperties();\r\n\r\n    /**\r\n     * Pseudo-private SMSound internals\r\n     * --------------------------------\r\n     */\r\n\r\n    this._onTimer = function(bForce) {\r\n\r\n      /**\r\n       * HTML5-only _whileplaying() etc.\r\n       * called from both HTML5 native events, and polling/interval-based timers\r\n       * mimics flash and fires only when time/duration change, so as to be polling-friendly\r\n       */\r\n\r\n      var duration, isNew = false, time, x = {};\r\n\r\n      if (s._hasTimer || bForce) {\r\n\r\n        // TODO: May not need to track readyState (1 = loading)\r\n\r\n        if (s._a && (bForce || ((s.playState > 0 || s.readyState === 1) && !s.paused))) {\r\n\r\n          duration = s._get_html5_duration();\r\n\r\n          if (duration !== lastHTML5State.duration) {\r\n\r\n            lastHTML5State.duration = duration;\r\n            s.duration = duration;\r\n            isNew = true;\r\n\r\n          }\r\n\r\n          // TODO: investigate why this goes wack if not set/re-set each time.\r\n          s.durationEstimate = s.duration;\r\n\r\n          time = (s._a.currentTime * msecScale || 0);\r\n\r\n          if (time !== lastHTML5State.time) {\r\n\r\n            lastHTML5State.time = time;\r\n            isNew = true;\r\n\r\n          }\r\n\r\n          if (isNew || bForce) {\r\n\r\n            s._whileplaying(time, x, x, x, x);\r\n\r\n          }\r\n\r\n        }/* else {\r\n\r\n          // sm2._wD('_onTimer: Warn for \"'+s.id+'\": '+(!s._a?'Could not find element. ':'')+(s.playState === 0?'playState bad, 0?':'playState = '+s.playState+', OK'));\r\n\r\n          return false;\r\n\r\n        }*/\r\n\r\n      }\r\n\r\n      return isNew;\r\n\r\n    };\r\n\r\n    this._get_html5_duration = function() {\r\n\r\n      var instanceOptions = s._iO,\r\n          // if audio object exists, use its duration - else, instance option duration (if provided - it's a hack, really, and should be retired) OR null\r\n          d = (s._a && s._a.duration ? s._a.duration * msecScale : (instanceOptions && instanceOptions.duration ? instanceOptions.duration : null)),\r\n          result = (d && !isNaN(d) && d !== Infinity ? d : null);\r\n\r\n      return result;\r\n\r\n    };\r\n\r\n    this._apply_loop = function(a, nLoops) {\r\n\r\n      /**\r\n       * boolean instead of \"loop\", for webkit? - spec says string. http://www.w3.org/TR/html-markup/audio.html#audio.attrs.loop\r\n       * note that loop is either off or infinite under HTML5, unlike Flash which allows arbitrary loop counts to be specified.\r\n       */\r\n\r\n      // <d>\r\n      if (!a.loop && nLoops > 1) {\r\n        sm2._wD('Note: Native HTML5 looping is infinite.', 1);\r\n      }\r\n      // </d>\r\n\r\n      a.loop = (nLoops > 1 ? 'loop' : '');\r\n\r\n    };\r\n\r\n    this._setup_html5 = function(options) {\r\n\r\n      var instanceOptions = mixin(s._iO, options),\r\n          a = useGlobalHTML5Audio ? globalHTML5Audio : s._a,\r\n          dURL = decodeURI(instanceOptions.url),\r\n          sameURL;\r\n\r\n      /**\r\n       * \"First things first, I, Poppa...\" (reset the previous state of the old sound, if playing)\r\n       * Fixes case with devices that can only play one sound at a time\r\n       * Otherwise, other sounds in mid-play will be terminated without warning and in a stuck state\r\n       */\r\n\r\n      if (useGlobalHTML5Audio) {\r\n\r\n        if (dURL === decodeURI(lastGlobalHTML5URL)) {\r\n          // global HTML5 audio: re-use of URL\r\n          sameURL = true;\r\n        }\r\n\r\n      } else if (dURL === decodeURI(lastURL)) {\r\n\r\n        // options URL is the same as the \"last\" URL, and we used (loaded) it\r\n        sameURL = true;\r\n\r\n      }\r\n\r\n      if (a) {\r\n\r\n        if (a._s) {\r\n\r\n          if (useGlobalHTML5Audio) {\r\n\r\n            if (a._s && a._s.playState && !sameURL) {\r\n\r\n              // global HTML5 audio case, and loading a new URL. stop the currently-playing one.\r\n              a._s.stop();\r\n\r\n            }\r\n\r\n          } else if (!useGlobalHTML5Audio && dURL === decodeURI(lastURL)) {\r\n\r\n            // non-global HTML5 reuse case: same url, ignore request\r\n            s._apply_loop(a, instanceOptions.loops);\r\n\r\n            return a;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        if (!sameURL) {\r\n\r\n          // don't retain onPosition() stuff with new URLs.\r\n\r\n          if (lastURL) {\r\n            resetProperties(false);\r\n          }\r\n\r\n          // assign new HTML5 URL\r\n\r\n          a.src = instanceOptions.url;\r\n\r\n          s.url = instanceOptions.url;\r\n\r\n          lastURL = instanceOptions.url;\r\n\r\n          lastGlobalHTML5URL = instanceOptions.url;\r\n\r\n          a._called_load = false;\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n\r\n          s._a = new Audio(instanceOptions.url);\r\n          s._a.load();\r\n\r\n        } else {\r\n\r\n          // null for stupid Opera 9.64 case\r\n          s._a = (isOpera && opera.version() < 10 ? new Audio(null) : new Audio());\r\n\r\n        }\r\n\r\n        // assign local reference\r\n        a = s._a;\r\n\r\n        a._called_load = false;\r\n\r\n        if (useGlobalHTML5Audio) {\r\n\r\n          globalHTML5Audio = a;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      s.isHTML5 = true;\r\n\r\n      // store a ref on the track\r\n      s._a = a;\r\n\r\n      // store a ref on the audio\r\n      a._s = s;\r\n\r\n      add_html5_events();\r\n\r\n      s._apply_loop(a, instanceOptions.loops);\r\n\r\n      if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n\r\n        s.load();\r\n\r\n      } else {\r\n\r\n        // early HTML5 implementation (non-standard)\r\n        a.autobuffer = false;\r\n\r\n        // standard ('none' is also an option.)\r\n        a.preload = 'auto';\r\n\r\n      }\r\n\r\n      return a;\r\n\r\n    };\r\n\r\n    add_html5_events = function() {\r\n\r\n      if (s._a._added_events) return false;\r\n\r\n      var f;\r\n\r\n      function add(oEvt, oFn, bCapture) {\r\n        return s._a ? s._a.addEventListener(oEvt, oFn, bCapture || false) : null;\r\n      }\r\n\r\n      s._a._added_events = true;\r\n\r\n      for (f in html5_events) {\r\n        if (html5_events.hasOwnProperty(f)) {\r\n          add(f, html5_events[f]);\r\n        }\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    remove_html5_events = function() {\r\n\r\n      // Remove event listeners\r\n\r\n      var f;\r\n\r\n      function remove(oEvt, oFn, bCapture) {\r\n        return (s._a ? s._a.removeEventListener(oEvt, oFn, bCapture || false) : null);\r\n      }\r\n\r\n      sm2._wD(s.id + ': Removing event listeners');\r\n      s._a._added_events = false;\r\n\r\n      for (f in html5_events) {\r\n        if (html5_events.hasOwnProperty(f)) {\r\n          remove(f, html5_events[f]);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Pseudo-private event internals\r\n     * ------------------------------\r\n     */\r\n\r\n    this._onload = function(nSuccess) {\r\n\r\n      var fN,\r\n          // check for duration to prevent false positives from flash 8 when loading from cache.\r\n          loadOK = !!nSuccess || (!s.isHTML5 && fV === 8 && s.duration);\r\n\r\n      // <d>\r\n      fN = s.id + ': ';\r\n      sm2._wD(fN + (loadOK ? 'onload()' : 'Failed to load / invalid sound?' + (!s.duration ? ' Zero-length duration reported.' : ' -') + ' (' + s.url + ')'), (loadOK ? 1 : 2));\r\n\r\n      if (!loadOK && !s.isHTML5) {\r\n        if (sm2.sandbox.noRemote === true) {\r\n          sm2._wD(fN + str('noNet'), 1);\r\n        }\r\n        if (sm2.sandbox.noLocal === true) {\r\n          sm2._wD(fN + str('noLocal'), 1);\r\n        }\r\n      }\r\n      // </d>\r\n\r\n      s.loaded = loadOK;\r\n      s.readyState = (loadOK ? 3 : 2);\r\n      s._onbufferchange(0);\r\n\r\n      if (!loadOK && !s.isHTML5) {\r\n        // note: no error code from Flash.\r\n        s._onerror();\r\n      }\r\n\r\n      if (s._iO.onload) {\r\n        wrapCallback(s, function() {\r\n          s._iO.onload.apply(s, [loadOK]);\r\n        });\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._onerror = function(errorCode, description) {\r\n\r\n      // https://html.spec.whatwg.org/multipage/embedded-content.html#error-codes\r\n      if (s._iO.onerror) {\r\n        wrapCallback(s, function() {\r\n          s._iO.onerror.apply(s, [errorCode, description]);\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    this._onbufferchange = function(nIsBuffering) {\r\n\r\n      // ignore if not playing\r\n      if (s.playState === 0) return false;\r\n\r\n      if ((nIsBuffering && s.isBuffering) || (!nIsBuffering && !s.isBuffering)) return false;\r\n\r\n      s.isBuffering = (nIsBuffering === 1);\r\n\r\n      if (s._iO.onbufferchange) {\r\n        sm2._wD(s.id + ': Buffer state change: ' + nIsBuffering);\r\n        s._iO.onbufferchange.apply(s, [nIsBuffering]);\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * Playback may have stopped due to buffering, or related reason.\r\n     * This state can be encountered on iOS < 6 when auto-play is blocked.\r\n     */\r\n\r\n    this._onsuspend = function() {\r\n\r\n      if (s._iO.onsuspend) {\r\n        sm2._wD(s.id + ': Playback suspended');\r\n        s._iO.onsuspend.apply(s);\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * flash 9/movieStar + RTMP-only method, should fire only once at most\r\n     * at this point we just recreate failed sounds rather than trying to reconnect\r\n     */\r\n\r\n    this._onfailure = function(msg, level, code) {\r\n\r\n      s.failures++;\r\n      sm2._wD(s.id + ': Failure (' + s.failures + '): ' + msg);\r\n\r\n      if (s._iO.onfailure && s.failures === 1) {\r\n        s._iO.onfailure(msg, level, code);\r\n      } else {\r\n        sm2._wD(s.id + ': Ignoring failure');\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * flash 9/movieStar + RTMP-only method for unhandled warnings/exceptions from Flash\r\n     * e.g., RTMP \"method missing\" warning (non-fatal) for getStreamLength on server\r\n     */\r\n\r\n    this._onwarning = function(msg, level, code) {\r\n\r\n      if (s._iO.onwarning) {\r\n        s._iO.onwarning(msg, level, code);\r\n      }\r\n\r\n    };\r\n\r\n    this._onfinish = function() {\r\n\r\n      // store local copy before it gets trashed...\r\n      var io_onfinish = s._iO.onfinish;\r\n\r\n      s._onbufferchange(0);\r\n      s._resetOnPosition(0);\r\n\r\n      // reset some state items\r\n      if (s.instanceCount) {\r\n\r\n        s.instanceCount--;\r\n\r\n        if (!s.instanceCount) {\r\n\r\n          // remove onPosition listeners, if any\r\n          detachOnPosition();\r\n\r\n          // reset instance options\r\n          s.playState = 0;\r\n          s.paused = false;\r\n          s.instanceCount = 0;\r\n          s.instanceOptions = {};\r\n          s._iO = {};\r\n          stop_html5_timer();\r\n\r\n          // reset position, too\r\n          if (s.isHTML5) {\r\n            s.position = 0;\r\n          }\r\n\r\n        }\r\n\r\n        if (!s.instanceCount || s._iO.multiShotEvents) {\r\n          // fire onfinish for last, or every instance\r\n          if (io_onfinish) {\r\n            sm2._wD(s.id + ': onfinish()');\r\n            wrapCallback(s, function() {\r\n              io_onfinish.apply(s);\r\n            });\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._whileloading = function(nBytesLoaded, nBytesTotal, nDuration, nBufferLength) {\r\n\r\n      var instanceOptions = s._iO;\r\n\r\n      s.bytesLoaded = nBytesLoaded;\r\n      s.bytesTotal = nBytesTotal;\r\n      s.duration = Math.floor(nDuration);\r\n      s.bufferLength = nBufferLength;\r\n\r\n      if (!s.isHTML5 && !instanceOptions.isMovieStar) {\r\n\r\n        if (instanceOptions.duration) {\r\n          // use duration from options, if specified and larger. nobody should be specifying duration in options, actually, and it should be retired.\r\n          s.durationEstimate = (s.duration > instanceOptions.duration) ? s.duration : instanceOptions.duration;\r\n        } else {\r\n          s.durationEstimate = parseInt((s.bytesTotal / s.bytesLoaded) * s.duration, 10);\r\n        }\r\n\r\n      } else {\r\n\r\n        s.durationEstimate = s.duration;\r\n\r\n      }\r\n\r\n      // for flash, reflect sequential-load-style buffering\r\n      if (!s.isHTML5) {\r\n        s.buffered = [{\r\n          start: 0,\r\n          end: s.duration\r\n        }];\r\n      }\r\n\r\n      // allow whileloading to fire even if \"load\" fired under HTML5, due to HTTP range/partials\r\n      if ((s.readyState !== 3 || s.isHTML5) && instanceOptions.whileloading) {\r\n        instanceOptions.whileloading.apply(s);\r\n      }\r\n\r\n    };\r\n\r\n    this._whileplaying = function(nPosition, oPeakData, oWaveformDataLeft, oWaveformDataRight, oEQData) {\r\n\r\n      var instanceOptions = s._iO,\r\n          eqLeft;\r\n\r\n      // flash safety net\r\n      if (isNaN(nPosition) || nPosition === null) return false;\r\n\r\n      // Safari HTML5 play() may return small -ve values when starting from position: 0, eg. -50.120396875. Unexpected/invalid per W3, I think. Normalize to 0.\r\n      s.position = Math.max(0, nPosition);\r\n\r\n      s._processOnPosition();\r\n\r\n      if (!s.isHTML5 && fV > 8) {\r\n\r\n        if (instanceOptions.usePeakData && oPeakData !== _undefined && oPeakData) {\r\n          s.peakData = {\r\n            left: oPeakData.leftPeak,\r\n            right: oPeakData.rightPeak\r\n          };\r\n        }\r\n\r\n        if (instanceOptions.useWaveformData && oWaveformDataLeft !== _undefined && oWaveformDataLeft) {\r\n          s.waveformData = {\r\n            left: oWaveformDataLeft.split(','),\r\n            right: oWaveformDataRight.split(',')\r\n          };\r\n        }\r\n\r\n        if (instanceOptions.useEQData) {\r\n          if (oEQData !== _undefined && oEQData && oEQData.leftEQ) {\r\n            eqLeft = oEQData.leftEQ.split(',');\r\n            s.eqData = eqLeft;\r\n            s.eqData.left = eqLeft;\r\n            if (oEQData.rightEQ !== _undefined && oEQData.rightEQ) {\r\n              s.eqData.right = oEQData.rightEQ.split(',');\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      if (s.playState === 1) {\r\n\r\n        // special case/hack: ensure buffering is false if loading from cache (and not yet started)\r\n        if (!s.isHTML5 && fV === 8 && !s.position && s.isBuffering) {\r\n          s._onbufferchange(0);\r\n        }\r\n\r\n        if (instanceOptions.whileplaying) {\r\n          // flash may call after actual finish\r\n          instanceOptions.whileplaying.apply(s);\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._oncaptiondata = function(oData) {\r\n\r\n      /**\r\n       * internal: flash 9 + NetStream (MovieStar/RTMP-only) feature\r\n       *\r\n       * @param {object} oData\r\n       */\r\n\r\n      sm2._wD(s.id + ': Caption data received.');\r\n\r\n      s.captiondata = oData;\r\n\r\n      if (s._iO.oncaptiondata) {\r\n        s._iO.oncaptiondata.apply(s, [oData]);\r\n      }\r\n\r\n    };\r\n\r\n    this._onmetadata = function(oMDProps, oMDData) {\r\n\r\n      /**\r\n       * internal: flash 9 + NetStream (MovieStar/RTMP-only) feature\r\n       * RTMP may include song title, MovieStar content may include encoding info\r\n       *\r\n       * @param {array} oMDProps (names)\r\n       * @param {array} oMDData (values)\r\n       */\r\n\r\n      sm2._wD(s.id + ': Metadata received.');\r\n\r\n      var oData = {}, i, j;\r\n\r\n      for (i = 0, j = oMDProps.length; i < j; i++) {\r\n        oData[oMDProps[i]] = oMDData[i];\r\n      }\r\n\r\n      s.metadata = oData;\r\n\r\n      if (s._iO.onmetadata) {\r\n        s._iO.onmetadata.call(s, s.metadata);\r\n      }\r\n\r\n    };\r\n\r\n    this._onid3 = function(oID3Props, oID3Data) {\r\n\r\n      /**\r\n       * internal: flash 8 + flash 9 ID3 feature\r\n       * may include artist, song title etc.\r\n       *\r\n       * @param {array} oID3Props (names)\r\n       * @param {array} oID3Data (values)\r\n       */\r\n\r\n      sm2._wD(s.id + ': ID3 data received.');\r\n\r\n      var oData = [], i, j;\r\n\r\n      for (i = 0, j = oID3Props.length; i < j; i++) {\r\n        oData[oID3Props[i]] = oID3Data[i];\r\n      }\r\n\r\n      s.id3 = mixin(s.id3, oData);\r\n\r\n      if (s._iO.onid3) {\r\n        s._iO.onid3.apply(s);\r\n      }\r\n\r\n    };\r\n\r\n    // flash/RTMP-only\r\n\r\n    this._onconnect = function(bSuccess) {\r\n\r\n      bSuccess = (bSuccess === 1);\r\n      sm2._wD(s.id + ': ' + (bSuccess ? 'Connected.' : 'Failed to connect? - ' + s.url), (bSuccess ? 1 : 2));\r\n      s.connected = bSuccess;\r\n\r\n      if (bSuccess) {\r\n\r\n        s.failures = 0;\r\n\r\n        if (idCheck(s.id)) {\r\n          if (s.getAutoPlay()) {\r\n            // only update the play state if auto playing\r\n            s.play(_undefined, s.getAutoPlay());\r\n          } else if (s._iO.autoLoad) {\r\n            s.load();\r\n          }\r\n        }\r\n\r\n        if (s._iO.onconnect) {\r\n          s._iO.onconnect.apply(s, [bSuccess]);\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._ondataerror = function(sError) {\r\n\r\n      // flash 9 wave/eq data handler\r\n      // hack: called at start, and end from flash at/after onfinish()\r\n      if (s.playState > 0) {\r\n        sm2._wD(s.id + ': Data error: ' + sError);\r\n        if (s._iO.ondataerror) {\r\n          s._iO.ondataerror.apply(s);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    // <d>\r\n    this._debug();\r\n    // </d>\r\n\r\n  }; // SMSound()\r\n\r\n  /**\r\n   * Private SoundManager internals\r\n   * ------------------------------\r\n   */\r\n\r\n  getDocument = function() {\r\n\r\n    return (doc.body || doc.getElementsByTagName('div')[0]);\r\n\r\n  };\r\n\r\n  id = function(sID) {\r\n\r\n    return doc.getElementById(sID);\r\n\r\n  };\r\n\r\n  mixin = function(oMain, oAdd) {\r\n\r\n    // non-destructive merge\r\n    var o1 = (oMain || {}), o2, o;\r\n\r\n    // if unspecified, o2 is the default options object\r\n    o2 = (oAdd === _undefined ? sm2.defaultOptions : oAdd);\r\n\r\n    for (o in o2) {\r\n\r\n      if (o2.hasOwnProperty(o) && o1[o] === _undefined) {\r\n\r\n        if (typeof o2[o] !== 'object' || o2[o] === null) {\r\n\r\n          // assign directly\r\n          o1[o] = o2[o];\r\n\r\n        } else {\r\n\r\n          // recurse through o2\r\n          o1[o] = mixin(o1[o], o2[o]);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return o1;\r\n\r\n  };\r\n\r\n  wrapCallback = function(oSound, callback) {\r\n\r\n    /**\r\n     * 03/03/2013: Fix for Flash Player 11.6.602.171 + Flash 8 (flashVersion = 8) SWF issue\r\n     * setTimeout() fix for certain SMSound callbacks like onload() and onfinish(), where subsequent calls like play() and load() fail when Flash Player 11.6.602.171 is installed, and using soundManager with flashVersion = 8 (which is the default).\r\n     * Not sure of exact cause. Suspect race condition and/or invalid (NaN-style) position argument trickling down to the next JS -> Flash _start() call, in the play() case.\r\n     * Fix: setTimeout() to yield, plus safer null / NaN checking on position argument provided to Flash.\r\n     * https://getsatisfaction.com/schillmania/topics/recent_chrome_update_seems_to_have_broken_my_sm2_audio_player\r\n     */\r\n    if (!oSound.isHTML5 && fV === 8) {\r\n      window.setTimeout(callback, 0);\r\n    } else {\r\n      callback();\r\n    }\r\n\r\n  };\r\n\r\n  // additional soundManager properties that soundManager.setup() will accept\r\n\r\n  extraOptions = {\r\n    onready: 1,\r\n    ontimeout: 1,\r\n    defaultOptions: 1,\r\n    flash9Options: 1,\r\n    movieStarOptions: 1\r\n  };\r\n\r\n  assign = function(o, oParent) {\r\n\r\n    /**\r\n     * recursive assignment of properties, soundManager.setup() helper\r\n     * allows property assignment based on whitelist\r\n     */\r\n\r\n    var i,\r\n        result = true,\r\n        hasParent = (oParent !== _undefined),\r\n        setupOptions = sm2.setupOptions,\r\n        bonusOptions = extraOptions;\r\n\r\n    // <d>\r\n\r\n    // if soundManager.setup() called, show accepted parameters.\r\n\r\n    if (o === _undefined) {\r\n\r\n      result = [];\r\n\r\n      for (i in setupOptions) {\r\n\r\n        if (setupOptions.hasOwnProperty(i)) {\r\n          result.push(i);\r\n        }\r\n\r\n      }\r\n\r\n      for (i in bonusOptions) {\r\n\r\n        if (bonusOptions.hasOwnProperty(i)) {\r\n\r\n          if (typeof sm2[i] === 'object') {\r\n            result.push(i + ': {...}');\r\n          } else if (sm2[i] instanceof Function) {\r\n            result.push(i + ': function() {...}');\r\n          } else {\r\n            result.push(i);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      sm2._wD(str('setup', result.join(', ')));\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // </d>\r\n\r\n    for (i in o) {\r\n\r\n      if (o.hasOwnProperty(i)) {\r\n\r\n        // if not an {object} we want to recurse through...\r\n\r\n        if (typeof o[i] !== 'object' || o[i] === null || o[i] instanceof Array || o[i] instanceof RegExp) {\r\n\r\n          // check \"allowed\" options\r\n\r\n          if (hasParent && bonusOptions[oParent] !== _undefined) {\r\n\r\n            // valid recursive / nested object option, eg., { defaultOptions: { volume: 50 } }\r\n            sm2[oParent][i] = o[i];\r\n\r\n          } else if (setupOptions[i] !== _undefined) {\r\n\r\n            // special case: assign to setupOptions object, which soundManager property references\r\n            sm2.setupOptions[i] = o[i];\r\n\r\n            // assign directly to soundManager, too\r\n            sm2[i] = o[i];\r\n\r\n          } else if (bonusOptions[i] === _undefined) {\r\n\r\n            // invalid or disallowed parameter. complain.\r\n            complain(str((sm2[i] === _undefined ? 'setupUndef' : 'setupError'), i), 2);\r\n\r\n            result = false;\r\n\r\n          } else if (sm2[i] instanceof Function) {\r\n\r\n            /**\r\n             * valid extraOptions (bonusOptions) parameter.\r\n             * is it a method, like onready/ontimeout? call it.\r\n             * multiple parameters should be in an array, eg. soundManager.setup({onready: [myHandler, myScope]});\r\n             */\r\n            sm2[i].apply(sm2, (o[i] instanceof Array ? o[i] : [o[i]]));\r\n\r\n          } else {\r\n\r\n            // good old-fashioned direct assignment\r\n            sm2[i] = o[i];\r\n\r\n          }\r\n\r\n        } else if (bonusOptions[i] === _undefined) {\r\n\r\n          // recursion case, eg., { defaultOptions: { ... } }\r\n\r\n          // invalid or disallowed parameter. complain.\r\n          complain(str((sm2[i] === _undefined ? 'setupUndef' : 'setupError'), i), 2);\r\n\r\n          result = false;\r\n\r\n        } else {\r\n\r\n          // recurse through object\r\n          return assign(o[i], i);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  function preferFlashCheck(kind) {\r\n\r\n    // whether flash should play a given type\r\n    return (sm2.preferFlash && hasFlash && !sm2.ignoreFlash && (sm2.flash[kind] !== _undefined && sm2.flash[kind]));\r\n\r\n  }\r\n\r\n  /**\r\n   * Internal DOM2-level event helpers\r\n   * ---------------------------------\r\n   */\r\n\r\n  event = (function() {\r\n\r\n    // normalize event methods\r\n    var old = (window.attachEvent),\r\n    evt = {\r\n      add: (old ? 'attachEvent' : 'addEventListener'),\r\n      remove: (old ? 'detachEvent' : 'removeEventListener')\r\n    };\r\n\r\n    // normalize \"on\" event prefix, optional capture argument\r\n    function getArgs(oArgs) {\r\n\r\n      var args = slice.call(oArgs),\r\n          len = args.length;\r\n\r\n      if (old) {\r\n        // prefix\r\n        args[1] = 'on' + args[1];\r\n        if (len > 3) {\r\n          // no capture\r\n          args.pop();\r\n        }\r\n      } else if (len === 3) {\r\n        args.push(false);\r\n      }\r\n\r\n      return args;\r\n\r\n    }\r\n\r\n    function apply(args, sType) {\r\n\r\n      // normalize and call the event method, with the proper arguments\r\n      var element = args.shift(),\r\n          method = [evt[sType]];\r\n\r\n      if (old) {\r\n        // old IE can't do apply().\r\n        element[method](args[0], args[1]);\r\n      } else {\r\n        element[method].apply(element, args);\r\n      }\r\n\r\n    }\r\n\r\n    function add() {\r\n      apply(getArgs(arguments), 'add');\r\n    }\r\n\r\n    function remove() {\r\n      apply(getArgs(arguments), 'remove');\r\n    }\r\n\r\n    return {\r\n      add: add,\r\n      remove: remove\r\n    };\r\n\r\n  }());\r\n\r\n  /**\r\n   * Internal HTML5 event handling\r\n   * -----------------------------\r\n   */\r\n\r\n  function html5_event(oFn) {\r\n\r\n    // wrap html5 event handlers so we don't call them on destroyed and/or unloaded sounds\r\n\r\n    return function(e) {\r\n\r\n      var s = this._s,\r\n          result;\r\n\r\n      if (!s || !s._a) {\r\n        // <d>\r\n        if (s && s.id) {\r\n          sm2._wD(s.id + ': Ignoring ' + e.type);\r\n        } else {\r\n          sm2._wD(h5 + 'Ignoring ' + e.type);\r\n        }\r\n        // </d>\r\n        result = null;\r\n      } else {\r\n        result = oFn.call(this, e);\r\n      }\r\n\r\n      return result;\r\n\r\n    };\r\n\r\n  }\r\n\r\n  html5_events = {\r\n\r\n    // HTML5 event-name-to-handler map\r\n\r\n    abort: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': abort');\r\n\r\n    }),\r\n\r\n    // enough has loaded to play\r\n\r\n    canplay: html5_event(function() {\r\n\r\n      var s = this._s,\r\n          position1K;\r\n\r\n      if (s._html5_canplay) {\r\n        // this event has already fired. ignore.\r\n        return;\r\n      }\r\n\r\n      s._html5_canplay = true;\r\n      sm2._wD(s.id + ': canplay');\r\n      s._onbufferchange(0);\r\n\r\n      // position according to instance options\r\n      position1K = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position / msecScale : null);\r\n\r\n      // set the position if position was provided before the sound loaded\r\n      if (this.currentTime !== position1K) {\r\n        sm2._wD(s.id + ': canplay: Setting position to ' + position1K);\r\n        try {\r\n          this.currentTime = position1K;\r\n        } catch(ee) {\r\n          sm2._wD(s.id + ': canplay: Setting position of ' + position1K + ' failed: ' + ee.message, 2);\r\n        }\r\n      }\r\n\r\n      // hack for HTML5 from/to case\r\n      if (s._iO._oncanplay) {\r\n        s._iO._oncanplay();\r\n      }\r\n\r\n    }),\r\n\r\n    canplaythrough: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      if (!s.loaded) {\r\n        s._onbufferchange(0);\r\n        s._whileloading(s.bytesLoaded, s.bytesTotal, s._get_html5_duration());\r\n        s._onload(true);\r\n      }\r\n\r\n    }),\r\n\r\n    durationchange: html5_event(function() {\r\n\r\n      // durationchange may fire at various times, probably the safest way to capture accurate/final duration.\r\n\r\n      var s = this._s,\r\n          duration;\r\n\r\n      duration = s._get_html5_duration();\r\n\r\n      if (!isNaN(duration) && duration !== s.duration) {\r\n\r\n        sm2._wD(this._s.id + ': durationchange (' + duration + ')' + (s.duration ? ', previously ' + s.duration : ''));\r\n\r\n        s.durationEstimate = s.duration = duration;\r\n\r\n      }\r\n\r\n    }),\r\n\r\n    // TODO: Reserved for potential use\r\n    /*\r\n    emptied: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': emptied');\r\n\r\n    }),\r\n    */\r\n\r\n    ended: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      sm2._wD(s.id + ': ended');\r\n\r\n      s._onfinish();\r\n\r\n    }),\r\n\r\n    error: html5_event(function() {\r\n\r\n      var description = (html5ErrorCodes[this.error.code] || null);\r\n      sm2._wD(this._s.id + ': HTML5 error, code ' + this.error.code + (description ? ' (' + description + ')' : ''));\r\n      this._s._onload(false);\r\n      this._s._onerror(this.error.code, description);\r\n\r\n    }),\r\n\r\n    loadeddata: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      sm2._wD(s.id + ': loadeddata');\r\n\r\n      // safari seems to nicely report progress events, eventually totalling 100%\r\n      if (!s._loaded && !isSafari) {\r\n        s.duration = s._get_html5_duration();\r\n      }\r\n\r\n    }),\r\n\r\n    loadedmetadata: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': loadedmetadata');\r\n\r\n    }),\r\n\r\n    loadstart: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': loadstart');\r\n      // assume buffering at first\r\n      this._s._onbufferchange(1);\r\n\r\n    }),\r\n\r\n    play: html5_event(function() {\r\n\r\n      // sm2._wD(this._s.id + ': play()');\r\n      // once play starts, no buffering\r\n      this._s._onbufferchange(0);\r\n\r\n    }),\r\n\r\n    playing: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': playing ' + String.fromCharCode(9835));\r\n      // once play starts, no buffering\r\n      this._s._onbufferchange(0);\r\n\r\n    }),\r\n\r\n    progress: html5_event(function(e) {\r\n\r\n      // note: can fire repeatedly after \"loaded\" event, due to use of HTTP range/partials\r\n\r\n      var s = this._s,\r\n          i, j, progStr, buffered = 0,\r\n          isProgress = (e.type === 'progress'),\r\n          ranges = e.target.buffered,\r\n          // firefox 3.6 implements e.loaded/total (bytes)\r\n          loaded = (e.loaded || 0),\r\n          total = (e.total || 1);\r\n\r\n      // reset the \"buffered\" (loaded byte ranges) array\r\n      s.buffered = [];\r\n\r\n      if (ranges && ranges.length) {\r\n\r\n        // if loaded is 0, try TimeRanges implementation as % of load\r\n        // https://developer.mozilla.org/en/DOM/TimeRanges\r\n\r\n        // re-build \"buffered\" array\r\n        // HTML5 returns seconds. SM2 API uses msec for setPosition() etc., whether Flash or HTML5.\r\n        for (i = 0, j = ranges.length; i < j; i++) {\r\n          s.buffered.push({\r\n            start: ranges.start(i) * msecScale,\r\n            end: ranges.end(i) * msecScale\r\n          });\r\n        }\r\n\r\n        // use the last value locally\r\n        buffered = (ranges.end(0) - ranges.start(0)) * msecScale;\r\n\r\n        // linear case, buffer sum; does not account for seeking and HTTP partials / byte ranges\r\n        loaded = Math.min(1, buffered / (e.target.duration * msecScale));\r\n\r\n        // <d>\r\n        if (isProgress && ranges.length > 1) {\r\n          progStr = [];\r\n          j = ranges.length;\r\n          for (i = 0; i < j; i++) {\r\n            progStr.push((e.target.buffered.start(i) * msecScale) + '-' + (e.target.buffered.end(i) * msecScale));\r\n          }\r\n          sm2._wD(this._s.id + ': progress, timeRanges: ' + progStr.join(', '));\r\n        }\r\n\r\n        if (isProgress && !isNaN(loaded)) {\r\n          sm2._wD(this._s.id + ': progress, ' + Math.floor(loaded * 100) + '% loaded');\r\n        }\r\n        // </d>\r\n\r\n      }\r\n\r\n      if (!isNaN(loaded)) {\r\n\r\n        // TODO: prevent calls with duplicate values.\r\n        s._whileloading(loaded, total, s._get_html5_duration());\r\n        if (loaded && total && loaded === total) {\r\n          // in case \"onload\" doesn't fire (eg. gecko 1.9.2)\r\n          html5_events.canplaythrough.call(this, e);\r\n        }\r\n\r\n      }\r\n\r\n    }),\r\n\r\n    ratechange: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': ratechange');\r\n\r\n    }),\r\n\r\n    suspend: html5_event(function(e) {\r\n\r\n      // download paused/stopped, may have finished (eg. onload)\r\n      var s = this._s;\r\n\r\n      sm2._wD(this._s.id + ': suspend');\r\n      html5_events.progress.call(this, e);\r\n      s._onsuspend();\r\n\r\n    }),\r\n\r\n    stalled: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': stalled');\r\n\r\n    }),\r\n\r\n    timeupdate: html5_event(function() {\r\n\r\n      this._s._onTimer();\r\n\r\n    }),\r\n\r\n    waiting: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      // see also: seeking\r\n      sm2._wD(this._s.id + ': waiting');\r\n\r\n      // playback faster than download rate, etc.\r\n      s._onbufferchange(1);\r\n\r\n    })\r\n\r\n  };\r\n\r\n  html5OK = function(iO) {\r\n\r\n    // playability test based on URL or MIME type\r\n\r\n    var result;\r\n\r\n    if (!iO || (!iO.type && !iO.url && !iO.serverURL)) {\r\n\r\n      // nothing to check\r\n      result = false;\r\n\r\n    } else if (iO.serverURL || (iO.type && preferFlashCheck(iO.type))) {\r\n\r\n      // RTMP, or preferring flash\r\n      result = false;\r\n\r\n    } else {\r\n\r\n      // Use type, if specified. Pass data: URIs to HTML5. If HTML5-only mode, no other options, so just give 'er\r\n      result = ((iO.type ? html5CanPlay({ type: iO.type }) : html5CanPlay({ url: iO.url }) || sm2.html5Only || iO.url.match(/data:/i)));\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  html5Unload = function(oAudio) {\r\n\r\n    /**\r\n     * Internal method: Unload media, and cancel any current/pending network requests.\r\n     * Firefox can load an empty URL, which allegedly destroys the decoder and stops the download.\r\n     * https://developer.mozilla.org/En/Using_audio_and_video_in_Firefox#Stopping_the_download_of_media\r\n     * However, Firefox has been seen loading a relative URL from '' and thus requesting the hosting page on unload.\r\n     * Other UA behaviour is unclear, so everyone else gets an about:blank-style URL.\r\n     */\r\n\r\n    var url;\r\n\r\n    if (oAudio) {\r\n\r\n      // Firefox and Chrome accept short WAVe data: URIs. Chome dislikes audio/wav, but accepts audio/wav for data: MIME.\r\n      // Desktop Safari complains / fails on data: URI, so it gets about:blank.\r\n      url = (isSafari ? emptyURL : (sm2.html5.canPlayType('audio/wav') ? emptyWAV : emptyURL));\r\n\r\n      oAudio.src = url;\r\n\r\n      // reset some state, too\r\n      if (oAudio._called_unload !== _undefined) {\r\n        oAudio._called_load = false;\r\n      }\r\n\r\n    }\r\n\r\n    if (useGlobalHTML5Audio) {\r\n\r\n      // ensure URL state is trashed, also\r\n      lastGlobalHTML5URL = null;\r\n\r\n    }\r\n\r\n    return url;\r\n\r\n  };\r\n\r\n  html5CanPlay = function(o) {\r\n\r\n    /**\r\n     * Try to find MIME, test and return truthiness\r\n     * o = {\r\n     *  url: '/path/to/an.mp3',\r\n     *  type: 'audio/mp3'\r\n     * }\r\n     */\r\n\r\n    if (!sm2.useHTML5Audio || !sm2.hasHTML5) return false;\r\n\r\n    var url = (o.url || null),\r\n        mime = (o.type || null),\r\n        aF = sm2.audioFormats,\r\n        result,\r\n        offset,\r\n        fileExt,\r\n        item;\r\n\r\n    // account for known cases like audio/mp3\r\n\r\n    if (mime && sm2.html5[mime] !== _undefined) return (sm2.html5[mime] && !preferFlashCheck(mime));\r\n\r\n    if (!html5Ext) {\r\n\r\n      html5Ext = [];\r\n\r\n      for (item in aF) {\r\n\r\n        if (aF.hasOwnProperty(item)) {\r\n\r\n          html5Ext.push(item);\r\n\r\n          if (aF[item].related) {\r\n            html5Ext = html5Ext.concat(aF[item].related);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      html5Ext = new RegExp('\\\\.(' + html5Ext.join('|') + ')(\\\\?.*)?$', 'i');\r\n\r\n    }\r\n\r\n    // TODO: Strip URL queries, etc.\r\n    fileExt = (url ? url.toLowerCase().match(html5Ext) : null);\r\n\r\n    if (!fileExt || !fileExt.length) {\r\n\r\n      if (!mime) {\r\n\r\n        result = false;\r\n\r\n      } else {\r\n\r\n        // audio/mp3 -> mp3, result should be known\r\n        offset = mime.indexOf(';');\r\n\r\n        // strip \"audio/X; codecs...\"\r\n        fileExt = (offset !== -1 ? mime.substr(0, offset) : mime).substr(6);\r\n\r\n      }\r\n\r\n    } else {\r\n\r\n      // match the raw extension name - \"mp3\", for example\r\n      fileExt = fileExt[1];\r\n\r\n    }\r\n\r\n    if (fileExt && sm2.html5[fileExt] !== _undefined) {\r\n\r\n      // result known\r\n      result = (sm2.html5[fileExt] && !preferFlashCheck(fileExt));\r\n\r\n    } else {\r\n\r\n      mime = 'audio/' + fileExt;\r\n      result = sm2.html5.canPlayType({ type: mime });\r\n\r\n      sm2.html5[fileExt] = result;\r\n\r\n      // sm2._wD('canPlayType, found result: ' + result);\r\n      result = (result && sm2.html5[mime] && !preferFlashCheck(mime));\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  testHTML5 = function() {\r\n\r\n    /**\r\n     * Internal: Iterates over audioFormats, determining support eg. audio/mp3, audio/mpeg and so on\r\n     * assigns results to html5[] and flash[].\r\n     */\r\n\r\n    if (!sm2.useHTML5Audio || !sm2.hasHTML5) {\r\n\r\n      // without HTML5, we need Flash.\r\n      sm2.html5.usingFlash = true;\r\n      needsFlash = true;\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // double-whammy: Opera 9.64 throws WRONG_ARGUMENTS_ERR if no parameter passed to Audio(), and Webkit + iOS happily tries to load \"null\" as a URL. :/\r\n    var a = (Audio !== _undefined ? (isOpera && opera.version() < 10 ? new Audio(null) : new Audio()) : null),\r\n        item, lookup, support = {}, aF, i;\r\n\r\n    function cp(m) {\r\n\r\n      var canPlay, j,\r\n          result = false,\r\n          isOK = false;\r\n\r\n      if (!a || typeof a.canPlayType !== 'function') return result;\r\n\r\n      if (m instanceof Array) {\r\n\r\n        // iterate through all mime types, return any successes\r\n\r\n        for (i = 0, j = m.length; i < j; i++) {\r\n\r\n          if (sm2.html5[m[i]] || a.canPlayType(m[i]).match(sm2.html5Test)) {\r\n\r\n            isOK = true;\r\n            sm2.html5[m[i]] = true;\r\n\r\n            // note flash support, too\r\n            sm2.flash[m[i]] = !!(m[i].match(flashMIME));\r\n\r\n          }\r\n\r\n        }\r\n\r\n        result = isOK;\r\n\r\n      } else {\r\n\r\n        canPlay = (a && typeof a.canPlayType === 'function' ? a.canPlayType(m) : false);\r\n        result = !!(canPlay && (canPlay.match(sm2.html5Test)));\r\n\r\n      }\r\n\r\n      return result;\r\n\r\n    }\r\n\r\n    // test all registered formats + codecs\r\n\r\n    aF = sm2.audioFormats;\r\n\r\n    for (item in aF) {\r\n\r\n      if (aF.hasOwnProperty(item)) {\r\n\r\n        lookup = 'audio/' + item;\r\n\r\n        support[item] = cp(aF[item].type);\r\n\r\n        // write back generic type too, eg. audio/mp3\r\n        support[lookup] = support[item];\r\n\r\n        // assign flash\r\n        if (item.match(flashMIME)) {\r\n\r\n          sm2.flash[item] = true;\r\n          sm2.flash[lookup] = true;\r\n\r\n        } else {\r\n\r\n          sm2.flash[item] = false;\r\n          sm2.flash[lookup] = false;\r\n\r\n        }\r\n\r\n        // assign result to related formats, too\r\n\r\n        if (aF[item] && aF[item].related) {\r\n\r\n          for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n\r\n            // eg. audio/m4a\r\n            support['audio/' + aF[item].related[i]] = support[item];\r\n            sm2.html5[aF[item].related[i]] = support[item];\r\n            sm2.flash[aF[item].related[i]] = support[item];\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    support.canPlayType = (a ? cp : null);\r\n    sm2.html5 = mixin(sm2.html5, support);\r\n\r\n    sm2.html5.usingFlash = featureCheck();\r\n    needsFlash = sm2.html5.usingFlash;\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  strings = {\r\n\r\n    // <d>\r\n    notReady: 'Unavailable - wait until onready() has fired.',\r\n    notOK: 'Audio support is not available.',\r\n    domError: sm + 'exception caught while appending SWF to DOM.',\r\n    spcWmode: 'Removing wmode, preventing known SWF loading issue(s)',\r\n    swf404: smc + 'Verify that %s is a valid path.',\r\n    tryDebug: 'Try ' + sm + '.debugFlash = true for more security details (output goes to SWF.)',\r\n    checkSWF: 'See SWF output for more debug info.',\r\n    localFail: smc + 'Non-HTTP page (' + doc.location.protocol + ' URL?) Review Flash player security settings for this special case:\\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/',\r\n    waitFocus: smc + 'Special case: Waiting for SWF to load with window focus...',\r\n    waitForever: smc + 'Waiting indefinitely for Flash (will recover if unblocked)...',\r\n    waitSWF: smc + 'Waiting for 100% SWF load...',\r\n    needFunction: smc + 'Function object expected for %s',\r\n    badID: 'Sound ID \"%s\" should be a string, starting with a non-numeric character',\r\n    currentObj: smc + '_debug(): Current sound objects',\r\n    waitOnload: smc + 'Waiting for window.onload()',\r\n    docLoaded: smc + 'Document already loaded',\r\n    onload: smc + 'initComplete(): calling soundManager.onload()',\r\n    onloadOK: sm + '.onload() complete',\r\n    didInit: smc + 'init(): Already called?',\r\n    secNote: 'Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html',\r\n    badRemove: smc + 'Failed to remove Flash node.',\r\n    shutdown: sm + '.disable(): Shutting down',\r\n    queue: smc + 'Queueing %s handler',\r\n    smError: 'SMSound.load(): Exception: JS-Flash communication failed, or JS error.',\r\n    fbTimeout: 'No flash response, applying .' + swfCSS.swfTimedout + ' CSS...',\r\n    fbLoaded: 'Flash loaded',\r\n    fbHandler: smc + 'flashBlockHandler()',\r\n    manURL: 'SMSound.load(): Using manually-assigned URL',\r\n    onURL: sm + '.load(): current URL already assigned.',\r\n    badFV: sm + '.flashVersion must be 8 or 9. \"%s\" is invalid. Reverting to %s.',\r\n    as2loop: 'Note: Setting stream:false so looping can work (flash 8 limitation)',\r\n    noNSLoop: 'Note: Looping not implemented for MovieStar formats',\r\n    needfl9: 'Note: Switching to flash 9, required for MP4 formats.',\r\n    mfTimeout: 'Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case',\r\n    needFlash: smc + 'Fatal error: Flash is needed to play some required formats, but is not available.',\r\n    gotFocus: smc + 'Got window focus.',\r\n    policy: 'Enabling usePolicyFile for data access',\r\n    setup: sm + '.setup(): allowed parameters: %s',\r\n    setupError: sm + '.setup(): \"%s\" cannot be assigned with this method.',\r\n    setupUndef: sm + '.setup(): Could not find option \"%s\"',\r\n    setupLate: sm + '.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().',\r\n    noURL: smc + 'Flash URL required. Call soundManager.setup({url:...}) to get started.',\r\n    sm2Loaded: 'SoundManager 2: Ready. ' + String.fromCharCode(10003),\r\n    reset: sm + '.reset(): Removing event callbacks',\r\n    mobileUA: 'Mobile UA detected, preferring HTML5 by default.',\r\n    globalHTML5: 'Using singleton HTML5 Audio() pattern for this device.',\r\n    ignoreMobile: 'Ignoring mobile restrictions for this device.'\r\n    // </d>\r\n\r\n  };\r\n\r\n  str = function() {\r\n\r\n    // internal string replace helper.\r\n    // arguments: o [,items to replace]\r\n    // <d>\r\n\r\n    var args,\r\n        i, j, o,\r\n        sstr;\r\n\r\n    // real array, please\r\n    args = slice.call(arguments);\r\n\r\n    // first argument\r\n    o = args.shift();\r\n\r\n    sstr = (strings && strings[o] ? strings[o] : '');\r\n\r\n    if (sstr && args && args.length) {\r\n      for (i = 0, j = args.length; i < j; i++) {\r\n        sstr = sstr.replace('%s', args[i]);\r\n      }\r\n    }\r\n\r\n    return sstr;\r\n    // </d>\r\n\r\n  };\r\n\r\n  loopFix = function(sOpt) {\r\n\r\n    // flash 8 requires stream = false for looping to work\r\n    if (fV === 8 && sOpt.loops > 1 && sOpt.stream) {\r\n      _wDS('as2loop');\r\n      sOpt.stream = false;\r\n    }\r\n\r\n    return sOpt;\r\n\r\n  };\r\n\r\n  policyFix = function(sOpt, sPre) {\r\n\r\n    if (sOpt && !sOpt.usePolicyFile && (sOpt.onid3 || sOpt.usePeakData || sOpt.useWaveformData || sOpt.useEQData)) {\r\n      sm2._wD((sPre || '') + str('policy'));\r\n      sOpt.usePolicyFile = true;\r\n    }\r\n\r\n    return sOpt;\r\n\r\n  };\r\n\r\n  complain = function(sMsg) {\r\n\r\n    // <d>\r\n    if (hasConsole && console.warn !== _undefined) {\r\n      console.warn(sMsg);\r\n    } else {\r\n      sm2._wD(sMsg);\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  doNothing = function() {\r\n\r\n    return false;\r\n\r\n  };\r\n\r\n  disableObject = function(o) {\r\n\r\n    var oProp;\r\n\r\n    for (oProp in o) {\r\n      if (o.hasOwnProperty(oProp) && typeof o[oProp] === 'function') {\r\n        o[oProp] = doNothing;\r\n      }\r\n    }\r\n\r\n    oProp = null;\r\n\r\n  };\r\n\r\n  failSafely = function(bNoDisable) {\r\n\r\n    // general failure exception handler\r\n\r\n    if (bNoDisable === _undefined) {\r\n      bNoDisable = false;\r\n    }\r\n\r\n    if (disabled || bNoDisable) {\r\n      sm2.disable(bNoDisable);\r\n    }\r\n\r\n  };\r\n\r\n  normalizeMovieURL = function(movieURL) {\r\n\r\n    var urlParams = null, url;\r\n\r\n    if (movieURL) {\r\n\r\n      if (movieURL.match(/\\.swf(\\?.*)?$/i)) {\r\n\r\n        urlParams = movieURL.substr(movieURL.toLowerCase().lastIndexOf('.swf?') + 4);\r\n\r\n        // assume user knows what they're doing\r\n        if (urlParams) return movieURL;\r\n\r\n      } else if (movieURL.lastIndexOf('/') !== movieURL.length - 1) {\r\n\r\n        // append trailing slash, if needed\r\n        movieURL += '/';\r\n\r\n      }\r\n\r\n    }\r\n\r\n    url = (movieURL && movieURL.lastIndexOf('/') !== -1 ? movieURL.substr(0, movieURL.lastIndexOf('/') + 1) : './') + sm2.movieURL;\r\n\r\n    if (sm2.noSWFCache) {\r\n      url += ('?ts=' + new Date().getTime());\r\n    }\r\n\r\n    return url;\r\n\r\n  };\r\n\r\n  setVersionInfo = function() {\r\n\r\n    // short-hand for internal use\r\n\r\n    fV = parseInt(sm2.flashVersion, 10);\r\n\r\n    if (fV !== 8 && fV !== 9) {\r\n      sm2._wD(str('badFV', fV, defaultFlashVersion));\r\n      sm2.flashVersion = fV = defaultFlashVersion;\r\n    }\r\n\r\n    // debug flash movie, if applicable\r\n\r\n    var isDebug = (sm2.debugMode || sm2.debugFlash ? '_debug.swf' : '.swf');\r\n\r\n    if (sm2.useHTML5Audio && !sm2.html5Only && sm2.audioFormats.mp4.required && fV < 9) {\r\n      sm2._wD(str('needfl9'));\r\n      sm2.flashVersion = fV = 9;\r\n    }\r\n\r\n    sm2.version = sm2.versionNumber + (sm2.html5Only ? ' (HTML5-only mode)' : (fV === 9 ? ' (AS3/Flash 9)' : ' (AS2/Flash 8)'));\r\n\r\n    // set up default options\r\n    if (fV > 8) {\r\n\r\n      // +flash 9 base options\r\n      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.flash9Options);\r\n      sm2.features.buffering = true;\r\n\r\n      // +moviestar support\r\n      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.movieStarOptions);\r\n      sm2.filePatterns.flash9 = new RegExp('\\\\.(mp3|' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n      sm2.features.movieStar = true;\r\n\r\n    } else {\r\n\r\n      sm2.features.movieStar = false;\r\n\r\n    }\r\n\r\n    // regExp for flash canPlay(), etc.\r\n    sm2.filePattern = sm2.filePatterns[(fV !== 8 ? 'flash9' : 'flash8')];\r\n\r\n    // if applicable, use _debug versions of SWFs\r\n    sm2.movieURL = (fV === 8 ? 'soundmanager2.swf' : 'soundmanager2_flash9.swf').replace('.swf', isDebug);\r\n\r\n    sm2.features.peakData = sm2.features.waveformData = sm2.features.eqData = (fV > 8);\r\n\r\n  };\r\n\r\n  setPolling = function(bPolling, bHighPerformance) {\r\n\r\n    if (!flash) {\r\n      return;\r\n    }\r\n\r\n    flash._setPolling(bPolling, bHighPerformance);\r\n\r\n  };\r\n\r\n  initDebug = function() {\r\n\r\n    // starts debug mode, creating output <div> for UAs without console object\r\n\r\n    // allow force of debug mode via URL\r\n    // <d>\r\n    if (sm2.debugURLParam.test(wl)) {\r\n      sm2.setupOptions.debugMode = sm2.debugMode = true;\r\n    }\r\n\r\n    if (id(sm2.debugID)) {\r\n      return;\r\n    }\r\n\r\n    var oD, oDebug, oTarget, oToggle, tmp;\r\n\r\n    if (sm2.debugMode && !id(sm2.debugID) && (!hasConsole || !sm2.useConsole || !sm2.consoleOnly)) {\r\n\r\n      oD = doc.createElement('div');\r\n      oD.id = sm2.debugID + '-toggle';\r\n\r\n      oToggle = {\r\n        position: 'fixed',\r\n        bottom: '0px',\r\n        right: '0px',\r\n        width: '1.2em',\r\n        height: '1.2em',\r\n        lineHeight: '1.2em',\r\n        margin: '2px',\r\n        textAlign: 'center',\r\n        border: '1px solid #999',\r\n        cursor: 'pointer',\r\n        background: '#fff',\r\n        color: '#333',\r\n        zIndex: 10001\r\n      };\r\n\r\n      oD.appendChild(doc.createTextNode('-'));\r\n      oD.onclick = toggleDebug;\r\n      oD.title = 'Toggle SM2 debug console';\r\n\r\n      if (ua.match(/msie 6/i)) {\r\n        oD.style.position = 'absolute';\r\n        oD.style.cursor = 'hand';\r\n      }\r\n\r\n      for (tmp in oToggle) {\r\n        if (oToggle.hasOwnProperty(tmp)) {\r\n          oD.style[tmp] = oToggle[tmp];\r\n        }\r\n      }\r\n\r\n      oDebug = doc.createElement('div');\r\n      oDebug.id = sm2.debugID;\r\n      oDebug.style.display = (sm2.debugMode ? 'block' : 'none');\r\n\r\n      if (sm2.debugMode && !id(oD.id)) {\r\n        try {\r\n          oTarget = getDocument();\r\n          oTarget.appendChild(oD);\r\n        } catch(e2) {\r\n          throw new Error(str('domError') + ' \\n' + e2.toString());\r\n        }\r\n        oTarget.appendChild(oDebug);\r\n      }\r\n\r\n    }\r\n\r\n    oTarget = null;\r\n    // </d>\r\n\r\n  };\r\n\r\n  idCheck = this.getSoundById;\r\n\r\n  // <d>\r\n  _wDS = function(o, errorLevel) {\r\n\r\n    return (!o ? '' : sm2._wD(str(o), errorLevel));\r\n\r\n  };\r\n\r\n  toggleDebug = function() {\r\n\r\n    var o = id(sm2.debugID),\r\n    oT = id(sm2.debugID + '-toggle');\r\n\r\n    if (!o) {\r\n      return;\r\n    }\r\n\r\n    if (debugOpen) {\r\n      // minimize\r\n      oT.innerHTML = '+';\r\n      o.style.display = 'none';\r\n    } else {\r\n      oT.innerHTML = '-';\r\n      o.style.display = 'block';\r\n    }\r\n\r\n    debugOpen = !debugOpen;\r\n\r\n  };\r\n\r\n  debugTS = function(sEventType, bSuccess, sMessage) {\r\n\r\n    // troubleshooter debug hooks\r\n\r\n    if (window.sm2Debugger !== _undefined) {\r\n      try {\r\n        sm2Debugger.handleEvent(sEventType, bSuccess, sMessage);\r\n      } catch(e) {\r\n        // oh well\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n  // </d>\r\n\r\n  getSWFCSS = function() {\r\n\r\n    var css = [];\r\n\r\n    if (sm2.debugMode) {\r\n      css.push(swfCSS.sm2Debug);\r\n    }\r\n\r\n    if (sm2.debugFlash) {\r\n      css.push(swfCSS.flashDebug);\r\n    }\r\n\r\n    if (sm2.useHighPerformance) {\r\n      css.push(swfCSS.highPerf);\r\n    }\r\n\r\n    return css.join(' ');\r\n\r\n  };\r\n\r\n  flashBlockHandler = function() {\r\n\r\n    // *possible* flash block situation.\r\n\r\n    var name = str('fbHandler'),\r\n        p = sm2.getMoviePercent(),\r\n        css = swfCSS,\r\n        error = {\r\n          type: 'FLASHBLOCK'\r\n        };\r\n\r\n    if (sm2.html5Only) {\r\n      // no flash, or unused\r\n      return;\r\n    }\r\n\r\n    if (!sm2.ok()) {\r\n\r\n      if (needsFlash) {\r\n        // make the movie more visible, so user can fix\r\n        sm2.oMC.className = getSWFCSS() + ' ' + css.swfDefault + ' ' + (p === null ? css.swfTimedout : css.swfError);\r\n        sm2._wD(name + ': ' + str('fbTimeout') + (p ? ' (' + str('fbLoaded') + ')' : ''));\r\n      }\r\n\r\n      sm2.didFlashBlock = true;\r\n\r\n      // fire onready(), complain lightly\r\n      processOnEvents({\r\n        type: 'ontimeout',\r\n        ignoreInit: true,\r\n        error: error\r\n      });\r\n\r\n      catchError(error);\r\n\r\n    } else {\r\n\r\n      // SM2 loaded OK (or recovered)\r\n\r\n      // <d>\r\n      if (sm2.didFlashBlock) {\r\n        sm2._wD(name + ': Unblocked');\r\n      }\r\n      // </d>\r\n\r\n      if (sm2.oMC) {\r\n        sm2.oMC.className = [getSWFCSS(), css.swfDefault, css.swfLoaded + (sm2.didFlashBlock ? ' ' + css.swfUnblocked : '')].join(' ');\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  addOnEvent = function(sType, oMethod, oScope) {\r\n\r\n    if (on_queue[sType] === _undefined) {\r\n      on_queue[sType] = [];\r\n    }\r\n\r\n    on_queue[sType].push({\r\n      method: oMethod,\r\n      scope: (oScope || null),\r\n      fired: false\r\n    });\r\n\r\n  };\r\n\r\n  processOnEvents = function(oOptions) {\r\n\r\n    // if unspecified, assume OK/error\r\n\r\n    if (!oOptions) {\r\n      oOptions = {\r\n        type: (sm2.ok() ? 'onready' : 'ontimeout')\r\n      };\r\n    }\r\n\r\n    // not ready yet.\r\n    if (!didInit && oOptions && !oOptions.ignoreInit) return false;\r\n\r\n    // invalid case\r\n    if (oOptions.type === 'ontimeout' && (sm2.ok() || (disabled && !oOptions.ignoreInit))) return false;\r\n\r\n    var status = {\r\n          success: (oOptions && oOptions.ignoreInit ? sm2.ok() : !disabled)\r\n        },\r\n\r\n        // queue specified by type, or none\r\n        srcQueue = (oOptions && oOptions.type ? on_queue[oOptions.type] || [] : []),\r\n\r\n        queue = [], i, j,\r\n        args = [status],\r\n        canRetry = (needsFlash && !sm2.ok());\r\n\r\n    if (oOptions.error) {\r\n      args[0].error = oOptions.error;\r\n    }\r\n\r\n    for (i = 0, j = srcQueue.length; i < j; i++) {\r\n      if (srcQueue[i].fired !== true) {\r\n        queue.push(srcQueue[i]);\r\n      }\r\n    }\r\n\r\n    if (queue.length) {\r\n\r\n      // sm2._wD(sm + ': Firing ' + queue.length + ' ' + oOptions.type + '() item' + (queue.length === 1 ? '' : 's'));\r\n      for (i = 0, j = queue.length; i < j; i++) {\r\n\r\n        if (queue[i].scope) {\r\n          queue[i].method.apply(queue[i].scope, args);\r\n        } else {\r\n          queue[i].method.apply(this, args);\r\n        }\r\n\r\n        if (!canRetry) {\r\n          // useFlashBlock and SWF timeout case doesn't count here.\r\n          queue[i].fired = true;\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  initUserOnload = function() {\r\n\r\n    window.setTimeout(function() {\r\n\r\n      if (sm2.useFlashBlock) {\r\n        flashBlockHandler();\r\n      }\r\n\r\n      processOnEvents();\r\n\r\n      // call user-defined \"onload\", scoped to window\r\n\r\n      if (typeof sm2.onload === 'function') {\r\n        _wDS('onload', 1);\r\n        sm2.onload.apply(window);\r\n        _wDS('onloadOK', 1);\r\n      }\r\n\r\n      if (sm2.waitForWindowLoad) {\r\n        event.add(window, 'load', initUserOnload);\r\n      }\r\n\r\n    }, 1);\r\n\r\n  };\r\n\r\n  detectFlash = function() {\r\n\r\n    /**\r\n     * Hat tip: Flash Detect library (BSD, (C) 2007) by Carl \"DocYes\" S. Yestrau\r\n     * http://featureblend.com/javascript-flash-detection-library.html / http://featureblend.com/license.txt\r\n     */\r\n\r\n    // this work has already been done.\r\n    if (hasFlash !== _undefined) return hasFlash;\r\n\r\n    var hasPlugin = false, n = navigator, obj, type, types, AX = window.ActiveXObject;\r\n\r\n    // MS Edge 14 throws an \"Unspecified Error\" because n.plugins is inaccessible due to permissions\r\n    var nP;\r\n\r\n    try {\r\n      nP = n.plugins;\r\n    } catch(e) {\r\n      nP = undefined;\r\n    }\r\n\r\n    if (nP && nP.length) {\r\n\r\n      type = 'application/x-shockwave-flash';\r\n      types = n.mimeTypes;\r\n\r\n      if (types && types[type] && types[type].enabledPlugin && types[type].enabledPlugin.description) {\r\n        hasPlugin = true;\r\n      }\r\n\r\n    } else if (AX !== _undefined && !ua.match(/MSAppHost/i)) {\r\n\r\n      // Windows 8 Store Apps (MSAppHost) are weird (compatibility?) and won't complain here, but will barf if Flash/ActiveX object is appended to the DOM.\r\n      try {\r\n        obj = new AX('ShockwaveFlash.ShockwaveFlash');\r\n      } catch(e) {\r\n        // oh well\r\n        obj = null;\r\n      }\r\n\r\n      hasPlugin = (!!obj);\r\n\r\n      // cleanup, because it is ActiveX after all\r\n      obj = null;\r\n\r\n    }\r\n\r\n    hasFlash = hasPlugin;\r\n\r\n    return hasPlugin;\r\n\r\n  };\r\n\r\n  featureCheck = function() {\r\n\r\n    var flashNeeded,\r\n        item,\r\n        formats = sm2.audioFormats,\r\n        // iPhone <= 3.1 has broken HTML5 audio(), but firmware 3.2 (original iPad) + iOS4 works.\r\n        isSpecial = (is_iDevice && !!(ua.match(/os (1|2|3_0|3_1)\\s/i)));\r\n\r\n    if (isSpecial) {\r\n\r\n      // has Audio(), but is broken; let it load links directly.\r\n      sm2.hasHTML5 = false;\r\n\r\n      // ignore flash case, however\r\n      sm2.html5Only = true;\r\n\r\n      // hide the SWF, if present\r\n      if (sm2.oMC) {\r\n        sm2.oMC.style.display = 'none';\r\n      }\r\n\r\n    } else if (sm2.useHTML5Audio) {\r\n\r\n        if (!sm2.html5 || !sm2.html5.canPlayType) {\r\n          sm2._wD('SoundManager: No HTML5 Audio() support detected.');\r\n          sm2.hasHTML5 = false;\r\n        }\r\n\r\n        // <d>\r\n        if (isBadSafari) {\r\n          sm2._wD(smc + 'Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - ' + (!hasFlash ? ' would use flash fallback for MP3/MP4, but none detected.' : 'will use flash fallback for MP3/MP4, if available'), 1);\r\n        }\r\n        // </d>\r\n\r\n      }\r\n\r\n    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n\r\n      // sort out whether flash is optional, required or can be ignored.\r\n\r\n      // innocent until proven guilty.\r\n      canIgnoreFlash = true;\r\n\r\n      for (item in formats) {\r\n\r\n        if (formats.hasOwnProperty(item)) {\r\n\r\n          if (formats[item].required) {\r\n\r\n            if (!sm2.html5.canPlayType(formats[item].type)) {\r\n\r\n              // 100% HTML5 mode is not possible.\r\n              canIgnoreFlash = false;\r\n              flashNeeded = true;\r\n\r\n            } else if (sm2.preferFlash && (sm2.flash[item] || sm2.flash[formats[item].type])) {\r\n\r\n              // flash may be required, or preferred for this format.\r\n              flashNeeded = true;\r\n\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // sanity check...\r\n    if (sm2.ignoreFlash) {\r\n      flashNeeded = false;\r\n      canIgnoreFlash = true;\r\n    }\r\n\r\n    sm2.html5Only = (sm2.hasHTML5 && sm2.useHTML5Audio && !flashNeeded);\r\n\r\n    return (!sm2.html5Only);\r\n\r\n  };\r\n\r\n  parseURL = function(url) {\r\n\r\n    /**\r\n     * Internal: Finds and returns the first playable URL (or failing that, the first URL.)\r\n     * @param {string or array} url A single URL string, OR, an array of URL strings or {url:'/path/to/resource', type:'audio/mp3'} objects.\r\n     */\r\n\r\n    var i, j, urlResult = 0, result;\r\n\r\n    if (url instanceof Array) {\r\n\r\n      // find the first good one\r\n      for (i = 0, j = url.length; i < j; i++) {\r\n\r\n        if (url[i] instanceof Object) {\r\n\r\n          // MIME check\r\n          if (sm2.canPlayMIME(url[i].type)) {\r\n            urlResult = i;\r\n            break;\r\n          }\r\n\r\n        } else if (sm2.canPlayURL(url[i])) {\r\n\r\n          // URL string check\r\n          urlResult = i;\r\n          break;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      // normalize to string\r\n      if (url[urlResult].url) {\r\n        url[urlResult] = url[urlResult].url;\r\n      }\r\n\r\n      result = url[urlResult];\r\n\r\n    } else {\r\n\r\n      // single URL case\r\n      result = url;\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n\r\n  startTimer = function(oSound) {\r\n\r\n    /**\r\n     * attach a timer to this sound, and start an interval if needed\r\n     */\r\n\r\n    if (!oSound._hasTimer) {\r\n\r\n      oSound._hasTimer = true;\r\n\r\n      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n\r\n        if (h5IntervalTimer === null && h5TimerCount === 0) {\r\n\r\n          h5IntervalTimer = setInterval(timerExecute, sm2.html5PollingInterval);\r\n\r\n        }\r\n\r\n        h5TimerCount++;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  stopTimer = function(oSound) {\r\n\r\n    /**\r\n     * detach a timer\r\n     */\r\n\r\n    if (oSound._hasTimer) {\r\n\r\n      oSound._hasTimer = false;\r\n\r\n      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n\r\n        // interval will stop itself at next execution.\r\n\r\n        h5TimerCount--;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  timerExecute = function() {\r\n\r\n    /**\r\n     * manual polling for HTML5 progress events, ie., whileplaying()\r\n     * (can achieve greater precision than conservative default HTML5 interval)\r\n     */\r\n\r\n    var i;\r\n\r\n    if (h5IntervalTimer !== null && !h5TimerCount) {\r\n\r\n      // no active timers, stop polling interval.\r\n\r\n      clearInterval(h5IntervalTimer);\r\n\r\n      h5IntervalTimer = null;\r\n\r\n      return;\r\n\r\n    }\r\n\r\n    // check all HTML5 sounds with timers\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\r\n      if (sm2.sounds[sm2.soundIDs[i]].isHTML5 && sm2.sounds[sm2.soundIDs[i]]._hasTimer) {\r\n        sm2.sounds[sm2.soundIDs[i]]._onTimer();\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  catchError = function(options) {\r\n\r\n    options = (options !== _undefined ? options : {});\r\n\r\n    if (typeof sm2.onerror === 'function') {\r\n      sm2.onerror.apply(window, [{\r\n        type: (options.type !== _undefined ? options.type : null)\r\n      }]);\r\n    }\r\n\r\n    if (options.fatal !== _undefined && options.fatal) {\r\n      sm2.disable();\r\n    }\r\n\r\n  };\r\n\r\n  badSafariFix = function() {\r\n\r\n    // special case: \"bad\" Safari (OS X 10.3 - 10.7) must fall back to flash for MP3/MP4\r\n    if (!isBadSafari || !detectFlash()) {\r\n      // doesn't apply\r\n      return;\r\n    }\r\n\r\n    var aF = sm2.audioFormats, i, item;\r\n\r\n    for (item in aF) {\r\n\r\n      if (aF.hasOwnProperty(item)) {\r\n\r\n        if (item === 'mp3' || item === 'mp4') {\r\n\r\n          sm2._wD(sm + ': Using flash fallback for ' + item + ' format');\r\n          sm2.html5[item] = false;\r\n\r\n          // assign result to related formats, too\r\n          if (aF[item] && aF[item].related) {\r\n            for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n              sm2.html5[aF[item].related[i]] = false;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Pseudo-private flash/ExternalInterface methods\r\n   * ----------------------------------------------\r\n   */\r\n\r\n  this._setSandboxType = function(sandboxType) {\r\n\r\n    // <d>\r\n    // Security sandbox according to Flash plugin\r\n    var sb = sm2.sandbox;\r\n\r\n    sb.type = sandboxType;\r\n    sb.description = sb.types[(sb.types[sandboxType] !== _undefined ? sandboxType : 'unknown')];\r\n\r\n    if (sb.type === 'localWithFile') {\r\n\r\n      sb.noRemote = true;\r\n      sb.noLocal = false;\r\n      _wDS('secNote', 2);\r\n\r\n    } else if (sb.type === 'localWithNetwork') {\r\n\r\n      sb.noRemote = false;\r\n      sb.noLocal = true;\r\n\r\n    } else if (sb.type === 'localTrusted') {\r\n\r\n      sb.noRemote = false;\r\n      sb.noLocal = false;\r\n\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  this._externalInterfaceOK = function(swfVersion) {\r\n\r\n    // flash callback confirming flash loaded, EI working etc.\r\n    // swfVersion: SWF build string\r\n\r\n    if (sm2.swfLoaded) {\r\n      return;\r\n    }\r\n\r\n    var e;\r\n\r\n    debugTS('swf', true);\r\n    debugTS('flashtojs', true);\r\n    sm2.swfLoaded = true;\r\n    tryInitOnFocus = false;\r\n\r\n    if (isBadSafari) {\r\n      badSafariFix();\r\n    }\r\n\r\n    // complain if JS + SWF build/version strings don't match, excluding +DEV builds\r\n    // <d>\r\n    if (!swfVersion || swfVersion.replace(/\\+dev/i, '') !== sm2.versionNumber.replace(/\\+dev/i, '')) {\r\n\r\n      e = sm + ': Fatal: JavaScript file build \"' + sm2.versionNumber + '\" does not match Flash SWF build \"' + swfVersion + '\" at ' + sm2.url + '. Ensure both are up-to-date.';\r\n\r\n      // escape flash -> JS stack so this error fires in window.\r\n      setTimeout(function() {\r\n        throw new Error(e);\r\n      }, 0);\r\n\r\n      // exit, init will fail with timeout\r\n      return;\r\n\r\n    }\r\n    // </d>\r\n\r\n    // IE needs a larger timeout\r\n    setTimeout(init, isIE ? 100 : 1);\r\n\r\n  };\r\n\r\n  /**\r\n   * Private initialization helpers\r\n   * ------------------------------\r\n   */\r\n\r\n  createMovie = function(movieID, movieURL) {\r\n\r\n    // ignore if already connected\r\n    if (didAppend && appendSuccess) return false;\r\n\r\n    function initMsg() {\r\n\r\n      // <d>\r\n\r\n      var options = [],\r\n          title,\r\n          msg = [],\r\n          delimiter = ' + ';\r\n\r\n      title = 'SoundManager ' + sm2.version + (!sm2.html5Only && sm2.useHTML5Audio ? (sm2.hasHTML5 ? ' + HTML5 audio' : ', no HTML5 audio support') : '');\r\n\r\n      if (!sm2.html5Only) {\r\n\r\n        if (sm2.preferFlash) {\r\n          options.push('preferFlash');\r\n        }\r\n\r\n        if (sm2.useHighPerformance) {\r\n          options.push('useHighPerformance');\r\n        }\r\n\r\n        if (sm2.flashPollingInterval) {\r\n          options.push('flashPollingInterval (' + sm2.flashPollingInterval + 'ms)');\r\n        }\r\n\r\n        if (sm2.html5PollingInterval) {\r\n          options.push('html5PollingInterval (' + sm2.html5PollingInterval + 'ms)');\r\n        }\r\n\r\n        if (sm2.wmode) {\r\n          options.push('wmode (' + sm2.wmode + ')');\r\n        }\r\n\r\n        if (sm2.debugFlash) {\r\n          options.push('debugFlash');\r\n        }\r\n\r\n        if (sm2.useFlashBlock) {\r\n          options.push('flashBlock');\r\n        }\r\n\r\n      } else if (sm2.html5PollingInterval) {\r\n          options.push('html5PollingInterval (' + sm2.html5PollingInterval + 'ms)');\r\n        }\r\n\r\n      if (options.length) {\r\n        msg = msg.concat([options.join(delimiter)]);\r\n      }\r\n\r\n      sm2._wD(title + (msg.length ? delimiter + msg.join(', ') : ''), 1);\r\n\r\n      showSupport();\r\n\r\n      // </d>\r\n\r\n    }\r\n\r\n    if (sm2.html5Only) {\r\n\r\n      // 100% HTML5 mode\r\n      setVersionInfo();\r\n\r\n      initMsg();\r\n      sm2.oMC = id(sm2.movieID);\r\n      init();\r\n\r\n      // prevent multiple init attempts\r\n      didAppend = true;\r\n\r\n      appendSuccess = true;\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // flash path\r\n    var remoteURL = (movieURL || sm2.url),\r\n    localURL = (sm2.altURL || remoteURL),\r\n    swfTitle = 'JS/Flash audio component (SoundManager 2)',\r\n    oTarget = getDocument(),\r\n    extraClass = getSWFCSS(),\r\n    isRTL = null,\r\n    html = doc.getElementsByTagName('html')[0],\r\n    oEmbed, oMovie, tmp, movieHTML, oEl, s, x, sClass;\r\n\r\n    isRTL = (html && html.dir && html.dir.match(/rtl/i));\r\n    movieID = (movieID === _undefined ? sm2.id : movieID);\r\n\r\n    function param(name, value) {\r\n      return '<param name=\"' + name + '\" value=\"' + value + '\" />';\r\n    }\r\n\r\n    // safety check for legacy (change to Flash 9 URL)\r\n    setVersionInfo();\r\n    sm2.url = normalizeMovieURL(overHTTP ? remoteURL : localURL);\r\n    movieURL = sm2.url;\r\n\r\n    sm2.wmode = (!sm2.wmode && sm2.useHighPerformance ? 'transparent' : sm2.wmode);\r\n\r\n    if (sm2.wmode !== null && (ua.match(/msie 8/i) || (!isIE && !sm2.useHighPerformance)) && navigator.platform.match(/win32|win64/i)) {\r\n      /**\r\n       * extra-special case: movie doesn't load until scrolled into view when using wmode = anything but 'window' here\r\n       * does not apply when using high performance (position:fixed means on-screen), OR infinite flash load timeout\r\n       * wmode breaks IE 8 on Vista + Win7 too in some cases, as of January 2011 (?)\r\n       */\r\n      messages.push(strings.spcWmode);\r\n      sm2.wmode = null;\r\n    }\r\n\r\n    oEmbed = {\r\n      name: movieID,\r\n      id: movieID,\r\n      src: movieURL,\r\n      quality: 'high',\r\n      allowScriptAccess: sm2.allowScriptAccess,\r\n      bgcolor: sm2.bgColor,\r\n      pluginspage: http + 'www.macromedia.com/go/getflashplayer',\r\n      title: swfTitle,\r\n      type: 'application/x-shockwave-flash',\r\n      wmode: sm2.wmode,\r\n      // http://help.adobe.com/en_US/as3/mobile/WS4bebcd66a74275c36cfb8137124318eebc6-7ffd.html\r\n      hasPriority: 'true'\r\n    };\r\n\r\n    if (sm2.debugFlash) {\r\n      oEmbed.FlashVars = 'debug=1';\r\n    }\r\n\r\n    if (!sm2.wmode) {\r\n      // don't write empty attribute\r\n      delete oEmbed.wmode;\r\n    }\r\n\r\n    if (isIE) {\r\n\r\n      // IE is \"special\".\r\n      oMovie = doc.createElement('div');\r\n      movieHTML = [\r\n        '<object id=\"' + movieID + '\" data=\"' + movieURL + '\" type=\"' + oEmbed.type + '\" title=\"' + oEmbed.title + '\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\">',\r\n        param('movie', movieURL),\r\n        param('AllowScriptAccess', sm2.allowScriptAccess),\r\n        param('quality', oEmbed.quality),\r\n        (sm2.wmode ? param('wmode', sm2.wmode) : ''),\r\n        param('bgcolor', sm2.bgColor),\r\n        param('hasPriority', 'true'),\r\n        (sm2.debugFlash ? param('FlashVars', oEmbed.FlashVars) : ''),\r\n        '</object>'\r\n      ].join('');\r\n\r\n    } else {\r\n\r\n      oMovie = doc.createElement('embed');\r\n      for (tmp in oEmbed) {\r\n        if (oEmbed.hasOwnProperty(tmp)) {\r\n          oMovie.setAttribute(tmp, oEmbed[tmp]);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    initDebug();\r\n    extraClass = getSWFCSS();\r\n    oTarget = getDocument();\r\n\r\n    if (oTarget) {\r\n\r\n      sm2.oMC = (id(sm2.movieID) || doc.createElement('div'));\r\n\r\n      if (!sm2.oMC.id) {\r\n\r\n        sm2.oMC.id = sm2.movieID;\r\n        sm2.oMC.className = swfCSS.swfDefault + ' ' + extraClass;\r\n        s = null;\r\n        oEl = null;\r\n\r\n        if (!sm2.useFlashBlock) {\r\n          if (sm2.useHighPerformance) {\r\n            // on-screen at all times\r\n            s = {\r\n              position: 'fixed',\r\n              width: '8px',\r\n              height: '8px',\r\n              // >= 6px for flash to run fast, >= 8px to start up under Firefox/win32 in some cases. odd? yes.\r\n              bottom: '0px',\r\n              left: '0px',\r\n              overflow: 'hidden'\r\n            };\r\n          } else {\r\n            // hide off-screen, lower priority\r\n            s = {\r\n              position: 'absolute',\r\n              width: '6px',\r\n              height: '6px',\r\n              top: '-9999px',\r\n              left: '-9999px'\r\n            };\r\n            if (isRTL) {\r\n              s.left = Math.abs(parseInt(s.left, 10)) + 'px';\r\n            }\r\n          }\r\n        }\r\n\r\n        if (isWebkit) {\r\n          // soundcloud-reported render/crash fix, safari 5\r\n          sm2.oMC.style.zIndex = 10000;\r\n        }\r\n\r\n        if (!sm2.debugFlash) {\r\n          for (x in s) {\r\n            if (s.hasOwnProperty(x)) {\r\n              sm2.oMC.style[x] = s[x];\r\n            }\r\n          }\r\n        }\r\n\r\n        try {\r\n\r\n          if (!isIE) {\r\n            sm2.oMC.appendChild(oMovie);\r\n          }\r\n\r\n          oTarget.appendChild(sm2.oMC);\r\n\r\n          if (isIE) {\r\n            oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n            oEl.className = swfCSS.swfBox;\r\n            oEl.innerHTML = movieHTML;\r\n          }\r\n\r\n          appendSuccess = true;\r\n\r\n        } catch(e) {\r\n\r\n          throw new Error(str('domError') + ' \\n' + e.toString());\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        // SM2 container is already in the document (eg. flashblock use case)\r\n        sClass = sm2.oMC.className;\r\n        sm2.oMC.className = (sClass ? sClass + ' ' : swfCSS.swfDefault) + (extraClass ? ' ' + extraClass : '');\r\n        sm2.oMC.appendChild(oMovie);\r\n\r\n        if (isIE) {\r\n          oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n          oEl.className = swfCSS.swfBox;\r\n          oEl.innerHTML = movieHTML;\r\n        }\r\n\r\n        appendSuccess = true;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    didAppend = true;\r\n\r\n    initMsg();\r\n\r\n    // sm2._wD(sm + ': Trying to load ' + movieURL + (!overHTTP && sm2.altURL ? ' (alternate URL)' : ''), 1);\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  initMovie = function() {\r\n\r\n    if (sm2.html5Only) {\r\n      createMovie();\r\n      return false;\r\n    }\r\n\r\n    // attempt to get, or create, movie (may already exist)\r\n    if (flash) return false;\r\n\r\n    if (!sm2.url) {\r\n\r\n      /**\r\n       * Something isn't right - we've reached init, but the soundManager url property has not been set.\r\n       * User has not called setup({url: ...}), or has not set soundManager.url (legacy use case) directly before init time.\r\n       * Notify and exit. If user calls setup() with a url: property, init will be restarted as in the deferred loading case.\r\n       */\r\n\r\n       _wDS('noURL');\r\n       return false;\r\n\r\n    }\r\n\r\n    // inline markup case\r\n    flash = sm2.getMovie(sm2.id);\r\n\r\n    if (!flash) {\r\n\r\n      if (!oRemoved) {\r\n\r\n        // try to create\r\n        createMovie(sm2.id, sm2.url);\r\n\r\n      } else {\r\n\r\n        // try to re-append removed movie after reboot()\r\n        if (!isIE) {\r\n          sm2.oMC.appendChild(oRemoved);\r\n        } else {\r\n          sm2.oMC.innerHTML = oRemovedHTML;\r\n        }\r\n\r\n        oRemoved = null;\r\n        didAppend = true;\r\n\r\n      }\r\n\r\n      flash = sm2.getMovie(sm2.id);\r\n\r\n    }\r\n\r\n    if (typeof sm2.oninitmovie === 'function') {\r\n      setTimeout(sm2.oninitmovie, 1);\r\n    }\r\n\r\n    // <d>\r\n    flushMessages();\r\n    // </d>\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  delayWaitForEI = function() {\r\n\r\n    setTimeout(waitForEI, 1000);\r\n\r\n  };\r\n\r\n  rebootIntoHTML5 = function() {\r\n\r\n    // special case: try for a reboot with preferFlash: false, if 100% HTML5 mode is possible and useFlashBlock is not enabled.\r\n\r\n    window.setTimeout(function() {\r\n\r\n      complain(smc + 'useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...');\r\n\r\n      sm2.setup({\r\n        preferFlash: false\r\n      }).reboot();\r\n\r\n      // if for some reason you want to detect this case, use an ontimeout() callback and look for html5Only and didFlashBlock == true.\r\n      sm2.didFlashBlock = true;\r\n\r\n      sm2.beginDelayedInit();\r\n\r\n    }, 1);\r\n\r\n  };\r\n\r\n  waitForEI = function() {\r\n\r\n    var p,\r\n        loadIncomplete = false;\r\n\r\n    if (!sm2.url) {\r\n      // No SWF url to load (noURL case) - exit for now. Will be retried when url is set.\r\n      return;\r\n    }\r\n\r\n    if (waitingForEI) {\r\n      return;\r\n    }\r\n\r\n    waitingForEI = true;\r\n    event.remove(window, 'load', delayWaitForEI);\r\n\r\n    if (hasFlash && tryInitOnFocus && !isFocused) {\r\n      // Safari won't load flash in background tabs, only when focused.\r\n      _wDS('waitFocus');\r\n      return;\r\n    }\r\n\r\n    if (!didInit) {\r\n      p = sm2.getMoviePercent();\r\n      if (p > 0 && p < 100) {\r\n        loadIncomplete = true;\r\n      }\r\n    }\r\n\r\n    setTimeout(function() {\r\n\r\n      p = sm2.getMoviePercent();\r\n\r\n      if (loadIncomplete) {\r\n        // special case: if movie *partially* loaded, retry until it's 100% before assuming failure.\r\n        waitingForEI = false;\r\n        sm2._wD(str('waitSWF'));\r\n        window.setTimeout(delayWaitForEI, 1);\r\n        return;\r\n      }\r\n\r\n      // <d>\r\n      if (!didInit) {\r\n\r\n        sm2._wD(sm + ': No Flash response within expected time. Likely causes: ' + (p === 0 ? 'SWF load failed, ' : '') + 'Flash blocked or JS-Flash security error.' + (sm2.debugFlash ? ' ' + str('checkSWF') : ''), 2);\r\n\r\n        if (!overHTTP && p) {\r\n\r\n          _wDS('localFail', 2);\r\n\r\n          if (!sm2.debugFlash) {\r\n            _wDS('tryDebug', 2);\r\n          }\r\n\r\n        }\r\n\r\n        if (p === 0) {\r\n\r\n          // if 0 (not null), probably a 404.\r\n          sm2._wD(str('swf404', sm2.url), 1);\r\n\r\n        }\r\n\r\n        debugTS('flashtojs', false, ': Timed out' + (overHTTP ? ' (Check flash security or flash blockers)' : ' (No plugin/missing SWF?)'));\r\n\r\n      }\r\n      // </d>\r\n\r\n      // give up / time-out, depending\r\n\r\n      if (!didInit && okToDisable) {\r\n\r\n        if (p === null) {\r\n\r\n          // SWF failed to report load progress. Possibly blocked.\r\n\r\n          if (sm2.useFlashBlock || sm2.flashLoadTimeout === 0) {\r\n\r\n            if (sm2.useFlashBlock) {\r\n\r\n              flashBlockHandler();\r\n\r\n            }\r\n\r\n            _wDS('waitForever');\r\n\r\n          } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n\r\n            // no custom flash block handling, but SWF has timed out. Will recover if user unblocks / allows SWF load.\r\n            rebootIntoHTML5();\r\n\r\n          } else {\r\n\r\n            _wDS('waitForever');\r\n\r\n            // fire any regular registered ontimeout() listeners.\r\n            processOnEvents({\r\n              type: 'ontimeout',\r\n              ignoreInit: true,\r\n              error: {\r\n                type: 'INIT_FLASHBLOCK'\r\n              }\r\n            });\r\n\r\n          }\r\n\r\n        } else if (sm2.flashLoadTimeout === 0) {\r\n\r\n          // SWF loaded? Shouldn't be a blocking issue, then.\r\n\r\n          _wDS('waitForever');\r\n\r\n        } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n\r\n          rebootIntoHTML5();\r\n\r\n        } else {\r\n\r\n          failSafely(true);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }, sm2.flashLoadTimeout);\r\n\r\n  };\r\n\r\n  handleFocus = function() {\r\n\r\n    function cleanup() {\r\n      event.remove(window, 'focus', handleFocus);\r\n    }\r\n\r\n    if (isFocused || !tryInitOnFocus) {\r\n      // already focused, or not special Safari background tab case\r\n      cleanup();\r\n      return true;\r\n    }\r\n\r\n    okToDisable = true;\r\n    isFocused = true;\r\n    _wDS('gotFocus');\r\n\r\n    // allow init to restart\r\n    waitingForEI = false;\r\n\r\n    // kick off ExternalInterface timeout, now that the SWF has started\r\n    delayWaitForEI();\r\n\r\n    cleanup();\r\n    return true;\r\n\r\n  };\r\n\r\n  flushMessages = function() {\r\n\r\n    // <d>\r\n\r\n    // SM2 pre-init debug messages\r\n    if (messages.length) {\r\n      sm2._wD('SoundManager 2: ' + messages.join(' '), 1);\r\n      messages = [];\r\n    }\r\n\r\n    // </d>\r\n\r\n  };\r\n\r\n  showSupport = function() {\r\n\r\n    // <d>\r\n\r\n    flushMessages();\r\n\r\n    var item, tests = [];\r\n\r\n    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n      for (item in sm2.audioFormats) {\r\n        if (sm2.audioFormats.hasOwnProperty(item)) {\r\n          tests.push(item + ' = ' + sm2.html5[item] + (!sm2.html5[item] && needsFlash && sm2.flash[item] ? ' (using flash)' : (sm2.preferFlash && sm2.flash[item] && needsFlash ? ' (preferring flash)' : (!sm2.html5[item] ? ' (' + (sm2.audioFormats[item].required ? 'required, ' : '') + 'and no flash support)' : ''))));\r\n        }\r\n      }\r\n      sm2._wD('SoundManager 2 HTML5 support: ' + tests.join(', '), 1);\r\n    }\r\n\r\n    // </d>\r\n\r\n  };\r\n\r\n  initComplete = function(bNoDisable) {\r\n\r\n    if (didInit) return false;\r\n\r\n    if (sm2.html5Only) {\r\n      // all good.\r\n      _wDS('sm2Loaded', 1);\r\n      didInit = true;\r\n      initUserOnload();\r\n      debugTS('onload', true);\r\n      return true;\r\n    }\r\n\r\n    var wasTimeout = (sm2.useFlashBlock && sm2.flashLoadTimeout && !sm2.getMoviePercent()),\r\n        result = true,\r\n        error;\r\n\r\n    if (!wasTimeout) {\r\n      didInit = true;\r\n    }\r\n\r\n    error = {\r\n      type: (!hasFlash && needsFlash ? 'NO_FLASH' : 'INIT_TIMEOUT')\r\n    };\r\n\r\n    sm2._wD('SoundManager 2 ' + (disabled ? 'failed to load' : 'loaded') + ' (' + (disabled ? 'Flash security/load error' : 'OK') + ') ' + String.fromCharCode(disabled ? 10006 : 10003), disabled ? 2 : 1);\r\n\r\n    if (disabled || bNoDisable) {\r\n\r\n      if (sm2.useFlashBlock && sm2.oMC) {\r\n        sm2.oMC.className = getSWFCSS() + ' ' + (sm2.getMoviePercent() === null ? swfCSS.swfTimedout : swfCSS.swfError);\r\n      }\r\n\r\n      processOnEvents({\r\n        type: 'ontimeout',\r\n        error: error,\r\n        ignoreInit: true\r\n      });\r\n\r\n      debugTS('onload', false);\r\n      catchError(error);\r\n\r\n      result = false;\r\n\r\n    } else {\r\n\r\n      debugTS('onload', true);\r\n\r\n    }\r\n\r\n    if (!disabled) {\r\n\r\n      if (sm2.waitForWindowLoad && !windowLoaded) {\r\n\r\n        _wDS('waitOnload');\r\n        event.add(window, 'load', initUserOnload);\r\n\r\n      } else {\r\n\r\n        // <d>\r\n        if (sm2.waitForWindowLoad && windowLoaded) {\r\n          _wDS('docLoaded');\r\n        }\r\n        // </d>\r\n\r\n        initUserOnload();\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * apply top-level setupOptions object as local properties, eg., this.setupOptions.flashVersion -> this.flashVersion (soundManager.flashVersion)\r\n   * this maintains backward compatibility, and allows properties to be defined separately for use by soundManager.setup().\r\n   */\r\n\r\n  setProperties = function() {\r\n\r\n    var i,\r\n        o = sm2.setupOptions;\r\n\r\n    for (i in o) {\r\n\r\n      if (o.hasOwnProperty(i)) {\r\n\r\n        // assign local property if not already defined\r\n\r\n        if (sm2[i] === _undefined) {\r\n\r\n          sm2[i] = o[i];\r\n\r\n        } else if (sm2[i] !== o[i]) {\r\n\r\n          // legacy support: write manually-assigned property (eg., soundManager.url) back to setupOptions to keep things in sync\r\n          sm2.setupOptions[i] = sm2[i];\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  init = function() {\r\n\r\n    // called after onload()\r\n\r\n    if (didInit) {\r\n      _wDS('didInit');\r\n      return false;\r\n    }\r\n\r\n    function cleanup() {\r\n      event.remove(window, 'load', sm2.beginDelayedInit);\r\n    }\r\n\r\n    if (sm2.html5Only) {\r\n\r\n      if (!didInit) {\r\n        // we don't need no steenking flash!\r\n        cleanup();\r\n        sm2.enabled = true;\r\n        initComplete();\r\n      }\r\n\r\n      return true;\r\n\r\n    }\r\n\r\n    // flash path\r\n    initMovie();\r\n\r\n    try {\r\n\r\n      // attempt to talk to Flash\r\n      flash._externalInterfaceTest(false);\r\n\r\n      /**\r\n       * Apply user-specified polling interval, OR, if \"high performance\" set, faster vs. default polling\r\n       * (determines frequency of whileloading/whileplaying callbacks, effectively driving UI framerates)\r\n       */\r\n      setPolling(true, (sm2.flashPollingInterval || (sm2.useHighPerformance ? 10 : 50)));\r\n\r\n      if (!sm2.debugMode) {\r\n        // stop the SWF from making debug output calls to JS\r\n        flash._disableDebug();\r\n      }\r\n\r\n      sm2.enabled = true;\r\n      debugTS('jstoflash', true);\r\n\r\n      if (!sm2.html5Only) {\r\n        // prevent browser from showing cached page state (or rather, restoring \"suspended\" page state) via back button, because flash may be dead\r\n        // http://www.webkit.org/blog/516/webkit-page-cache-ii-the-unload-event/\r\n        event.add(window, 'unload', doNothing);\r\n      }\r\n\r\n    } catch(e) {\r\n\r\n      sm2._wD('js/flash exception: ' + e.toString());\r\n\r\n      debugTS('jstoflash', false);\r\n\r\n      catchError({\r\n        type: 'JS_TO_FLASH_EXCEPTION',\r\n        fatal: true\r\n      });\r\n\r\n      // don't disable, for reboot()\r\n      failSafely(true);\r\n\r\n      initComplete();\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    initComplete();\r\n\r\n    // disconnect events\r\n    cleanup();\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  domContentLoaded = function() {\r\n\r\n    if (didDCLoaded) return false;\r\n\r\n    didDCLoaded = true;\r\n\r\n    // assign top-level soundManager properties eg. soundManager.url\r\n    setProperties();\r\n\r\n    initDebug();\r\n\r\n    if (!hasFlash && sm2.hasHTML5) {\r\n\r\n      sm2._wD('SoundManager 2: No Flash detected' + (!sm2.useHTML5Audio ? ', enabling HTML5.' : '. Trying HTML5-only mode.'), 1);\r\n\r\n      sm2.setup({\r\n        useHTML5Audio: true,\r\n        // make sure we aren't preferring flash, either\r\n        // TODO: preferFlash should not matter if flash is not installed. Currently, stuff breaks without the below tweak.\r\n        preferFlash: false\r\n      });\r\n\r\n    }\r\n\r\n    testHTML5();\r\n\r\n    if (!hasFlash && needsFlash) {\r\n\r\n      messages.push(strings.needFlash);\r\n\r\n      // TODO: Fatal here vs. timeout approach, etc.\r\n      // hack: fail sooner.\r\n      sm2.setup({\r\n        flashLoadTimeout: 1\r\n      });\r\n\r\n    }\r\n\r\n    if (doc.removeEventListener) {\r\n      doc.removeEventListener('DOMContentLoaded', domContentLoaded, false);\r\n    }\r\n\r\n    initMovie();\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  domContentLoadedIE = function() {\r\n\r\n    if (doc.readyState === 'complete') {\r\n      domContentLoaded();\r\n      doc.detachEvent('onreadystatechange', domContentLoadedIE);\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  winOnLoad = function() {\r\n\r\n    // catch edge case of initComplete() firing after window.load()\r\n    windowLoaded = true;\r\n\r\n    // catch case where DOMContentLoaded has been sent, but we're still in doc.readyState = 'interactive'\r\n    domContentLoaded();\r\n\r\n    event.remove(window, 'load', winOnLoad);\r\n\r\n  };\r\n\r\n  // sniff up-front\r\n  detectFlash();\r\n\r\n  // focus and window load, init (primarily flash-driven)\r\n  event.add(window, 'focus', handleFocus);\r\n  event.add(window, 'load', delayWaitForEI);\r\n  event.add(window, 'load', winOnLoad);\r\n\r\n  if (doc.addEventListener) {\r\n\r\n    doc.addEventListener('DOMContentLoaded', domContentLoaded, false);\r\n\r\n  } else if (doc.attachEvent) {\r\n\r\n    doc.attachEvent('onreadystatechange', domContentLoadedIE);\r\n\r\n  } else {\r\n\r\n    // no add/attachevent support - safe to assume no JS -> Flash either\r\n    debugTS('onload', false);\r\n    catchError({\r\n      type: 'NO_DOM2_EVENTS',\r\n      fatal: true\r\n    });\r\n\r\n  }\r\n\r\n} // SoundManager()\r\n\r\n// SM2_DEFER details: http://www.schillmania.com/projects/soundmanager2/doc/getstarted/#lazy-loading\r\n\r\nif (window.SM2_DEFER === _undefined || !SM2_DEFER) {\r\n  soundManager = new SoundManager();\r\n}\r\n\r\n/**\r\n * SoundManager public interfaces\r\n * ------------------------------\r\n */\r\n\r\nif (typeof module === 'object' && module && typeof module.exports === 'object') {\r\n\r\n  /**\r\n   * commonJS module\r\n   */\r\n\r\n  module.exports.SoundManager = SoundManager;\r\n  module.exports.soundManager = soundManager;\r\n\r\n} else if (typeof define === 'function' && define.amd) {\r\n\r\n  /**\r\n   * AMD - requireJS\r\n   * basic usage:\r\n   * require([\"/path/to/soundmanager2.js\"], function(SoundManager) {\r\n   *   SoundManager.getInstance().setup({\r\n   *     url: '/swf/',\r\n   *     onready: function() { ... }\r\n   *   })\r\n   * });\r\n   *\r\n   * SM2_DEFER usage:\r\n   * window.SM2_DEFER = true;\r\n   * require([\"/path/to/soundmanager2.js\"], function(SoundManager) {\r\n   *   SoundManager.getInstance(function() {\r\n   *     var soundManager = new SoundManager.constructor();\r\n   *     soundManager.setup({\r\n   *       url: '/swf/',\r\n   *       ...\r\n   *     });\r\n   *     ...\r\n   *     soundManager.beginDelayedInit();\r\n   *     return soundManager;\r\n   *   })\r\n   * });\r\n   */\r\n\r\n  define(function() {\r\n    /**\r\n     * Retrieve the global instance of SoundManager.\r\n     * If a global instance does not exist it can be created using a callback.\r\n     *\r\n     * @param {Function} smBuilder Optional: Callback used to create a new SoundManager instance\r\n     * @return {SoundManager} The global SoundManager instance\r\n     */\r\n    function getInstance(smBuilder) {\r\n      if (!window.soundManager && smBuilder instanceof Function) {\r\n        var instance = smBuilder(SoundManager);\r\n        if (instance instanceof SoundManager) {\r\n          window.soundManager = instance;\r\n        }\r\n      }\r\n      return window.soundManager;\r\n    }\r\n    return {\r\n      constructor: SoundManager,\r\n      getInstance: getInstance\r\n    };\r\n  });\r\n\r\n}\r\n\r\n// standard browser case\r\n\r\n// constructor\r\nwindow.SoundManager = SoundManager;\r\n\r\n/**\r\n * note: SM2 requires a window global due to Flash, which makes calls to window.soundManager.\r\n * Flash may not always be needed, but this is not known until async init and SM2 may even \"reboot\" into Flash mode.\r\n */\r\n\r\n// public API, flash callbacks etc.\r\nwindow.soundManager = soundManager;\r\n\r\n}(window));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/soundmanager2/script/soundmanager2.js\n// module id = 54\n// module chunks = 35783957827783 86831103976070 114276838955818","import React, { Component } from 'react'\nimport styled from 'styled-components'\n\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome'\nimport { faFacebook } from '@fortawesome/fontawesome-free-brands'\n\nimport Player from './Player'\n\nimport withScroll from '../utils/withScroll'\n\nconst List = styled.ul`\n  display: flex;\n  margin: 0;\n`\n\nconst Right = styled(List)`\n  List-style: none;\n  text-align: right;\n  li {\n    margin-left: 30px;\n  }\n`\n\nconst Left = styled(List)`\n  List-style: none;\n  text-align: left;\n  li {\n    margin-right: 20px;\n  }\n`\n\nconst Nav = styled.nav`\n  display: flex;\n  color: white;\n  justify-content: space-between;\n  font-size: 14px;\n  font-weight: 300;\n  letter-spacing: 1px;\n  padding: 2em;\n  position: fixed;\n  z-index: 1;\n  top: 0;\n  left: 0px;\n  right: 0px;\n  background: rgb(179, 75, 36);\n`\n\nconst Li = styled.li`\n  text-transform: lowercase;\n  margin-bottom: 0;\n`\n\nconst A = styled.a`\n  color: #fafafa;\n  text-decoration: none;\n  border-bottom: 2px solid transparent;\n  padding-bottom: 5px;\n  transition: all ease .3s;\n  &:hover {\n    border-color: #fafafa;\n    padding-bottom: 2px;\n  }\n`\n\n@withScroll\nclass Header extends Component {\n  render() {\n    const { scrollPosition } = this.props\n    return(\n      <Nav>\n        <Player />\n        <Right>\n          <Li>\n            <A href=\"le-projet\" title=\"Le projet\">\n              Le projet\n            </A>\n          </Li>\n          <Li>\n            <A href=\"laurent-galandon\" title=\"Laurent Galandon\">\n              Laurent Galandon\n            </A>\n          </Li>\n          <Li>\n            <A href=\"la-radio\" title=\"La radio\">\n              La radio\n            </A>\n          </Li>\n          <Li>\n            <A href=\"les-acteurs\" title=\"Les acteurs\">\n              Les acteurs\n            </A>\n          </Li>\n          <Li>\n            <A href=\"les-partenaires\" title=\"Les partenaires\">\n              les Partenaires\n            </A>\n          </Li>\n          <Li><FontAwesomeIcon icon={faFacebook} /></Li>\n        </Right>\n      </Nav>\n    )\n  }\n}\n\nexport default Header\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Header.js","import React, { Component } from 'react'\nimport styled from 'styled-components'\nimport Sound from 'react-sound'\nimport track from './track.mp3'\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome'\nimport { faPlayCircle, faPauseCircle } from '@fortawesome/fontawesome-free-solid'\n\nconst Duration = styled.div`\n  position: relative;\n  background: white;\n  width: 100%;\n  margin-left: 10px;\n  height: 10px;\n  border-radius: 5px;\n  overflow: hidden;\n`\n\nconst Position = styled.div`\n  position: absolute;\n  left: 0;\n  right: auto;\n  top: 0;\n  bottom: 0;\n  background: #333;\n`\n\nconst Wrapper = styled.div`\n  width: 400px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  border-radius: 5px;\n  font-size: 30px;\n  padding: 5px;\n  svg {\n    color: white;\n    cursor: pointer;\n  }\n`\n\nclass Player extends Component {\n  constructor() {\n    super()\n\t\tthis.state = {\n\t\t  status: 'PAUSED',\n\t\t  position: 0,\n\t\t}\n    this.handlePlaying = this.handlePlaying.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handlePlaying({ position, duration }) {\n\t  this.setState((prevState, props) => {\n\t    return {\n\t      ...this.state,\n\t      position: position * 100 / duration,\n\t    }\n\t  })\n  }\n\n\thandleClick() {\n\t  this.setState((prevState, props) => {\n\t    let status\n\t    prevState.status === 'PLAYING' ? status = 'PAUSED' : status = 'PLAYING'\n\t    return {\n\t      ...this.state,\n\t      status,\n\t    }\n\t  })\n\t}\n\n  render() {\n    return(\n      <Wrapper>\n\t\t\t  <div onClick={this.handleClick}>\n\t\t\t    { this.state.status === 'PAUSED' ?\n\t\t\t      <FontAwesomeIcon icon={faPlayCircle} /> :\n\t\t\t      <FontAwesomeIcon icon={faPauseCircle} />\n\t\t\t    }\n\t\t    </div>\n\t\t    <Duration>\n\t\t      <Position style={{width: `${this.state.position}%`}} />\n\t\t    </Duration>\n        <Sound\n          onPlaying={this.handlePlaying}\n          url={track}\n          playStatus={Sound.status[this.state.status]}\n        />\n      </Wrapper>\n    )\n  }\n}\n\nexport default Player\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Player/index.js","module.exports = __webpack_public_path__ + \"static/track.2a8117c3.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Player/track.mp3\n// module id = 55\n// module chunks = 35783957827783 86831103976070 114276838955818","module.exports = __webpack_public_path__ + \"static/bg.489016c0.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/layouts/bg.jpg\n// module id = 468\n// module chunks = 114276838955818","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Link from 'gatsby-link'\nimport styled from 'styled-components'\nimport Helmet from 'react-helmet'\n\nimport Header from '../components/Header'\n\nimport './index.css'\nimport background from './bg.jpg'\n\nconst Content = styled.div`\n  margin: '0 auto';\n  max-width: 960;\n  padding: '0px 1.0875rem 1.45rem';\n`\n\nconst Main = styled.main`\n  padding: 30 0 200px 0;\n  background: rgb(179, 75, 36);\n`\n\nconst TemplateWrapper = ({ children }) => (\n  <Main>\n    <Helmet\n      title=\"Interferences\"\n      meta={[\n        { name: 'description', content: 'Sample' },\n        { name: 'keywords', content: 'sample, something' },\n      ]}\n    />\n    <Header />\n    <Content>\n      {children()}\n    </Content>\n  </Main>\n)\n\nTemplateWrapper.propTypes = {\n  children: PropTypes.func,\n}\n\nexport default TemplateWrapper\n\n\n\n// WEBPACK FOOTER //\n// ./src/layouts/index.js","import React, { Component } from 'react'\n\nconst withScroll = ComposedComponent => class ScrollDecorator extends Component {\n  constructor() {\n    super()\n\n    // Initial scroll position\n    this.state = {\n      scrollPosition: this.getWindowScrollTop(),\n    }\n\n    // Bind handlers\n    this.handleInterval = this.handleInterval.bind(this)\n    this.handleRequestAnimationFrame = this.handleRequestAnimationFrame.bind(this)\n  }\n\n  componentWillMount() {\n    // 50 times per second, change to your needs\n    const INTERVAL = 20\n    this.intervalID = setInterval(this.handleInterval, INTERVAL)\n  }\n\n  componentWillUnmount() {\n    // Remove and reset interval/animationFrame\n    clearInterval(this.intervalID)\n    cancelAnimationFrame(this.requestID)\n    this.requestID = null\n    this.intervalID = null\n  }\n\n  getWindowScrollTop() {\n    // Get scroll position, with IE fallback\n    if (typeof window !== `undefined`) {\n      return window.pageYOffset || document.documentElement.scrollTop\n    }\n    return\n  }\n\n  handleInterval() {\n    // Interval is only used to throttle animation frame\n\n    if (typeof window !== `undefined`) {\n      cancelAnimationFrame(this.requestID)\n      this.requestID = requestAnimationFrame(this.handleRequestAnimationFrame)\n    }\n    return\n  }\n\n  handleRequestAnimationFrame() {\n    const { scrollPosition } = this.state\n    const newScrollPosition = this.getWindowScrollTop()\n\n    // Update the state only when scroll position is changed\n    if (newScrollPosition !== scrollPosition) {\n      this.setState({\n        scrollPosition: newScrollPosition,\n      })\n    }\n  }\n\n  render() {\n    const { scrollPosition } = this.state\n\n    return (\n      <ComposedComponent\n        { ...this.props }\n        scrollPosition={ scrollPosition }\n      />\n    )\n  }\n}\n\nexport default withScroll\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/withScroll.js"],"sourceRoot":""}